{"version":3,"sources":["component/Section1.tsx","hook/useSatyrosAPI.ts","hook/useForceGraph.ts","component/BellmanFordGraph.tsx","Util.tsx","component/Example1.tsx","component/Example2.tsx","component/Example3.tsx","component/PreprocessGraph.tsx","component/Preprocess.tsx","component/Section2.tsx","component/Example4.tsx","component/ClauseDB.tsx","component/Example5.tsx","component/ConversionTable.tsx","component/Example6.tsx","component/Example7.tsx","component/ImplicationGraph.tsx","component/Example8.tsx","component/Example9.tsx","hook/useSatyrosAPI1.ts","component/Section3.tsx","component/Section4.tsx","component/References.tsx","component/App.tsx","reportWebVitals.ts","index.tsx"],"names":["Section1","className","href","useSatyrosAPI","f","React","useState","undefined","satyrosAPI","setSatyrosAPI","useEffect","setTimeout","window","makeSatyrosAPI","oldNodeTexts","d3","oldLinkTexts","useForceGraph","id","width","height","nodes","links","ref","nodeId","nodeShape","nodeText","nodeFill","nodeFillNew","linkId","linkDistance","linkStroke","linkStrokeNew","linkStrokeActive","linkText","linkActive","deps","radius","simulation","force","strength","theta","d","distance","d3ForceLimit","x0","x1","y0","y1","cushionWidth","cushionStrength","on","ticked","nodeRef","useRef","linkRef","nodeShapeImpl","useMemo","_d","nodeFillImpl","nodeFillNewImpl","linkStrokeImpl","linkStrokeNewImpl","linkStrokeActiveImpl","current","attr","xsource","source","x","xtarget","target","ysource","y","ytarget","select","r","Math","hypot","selectChildren","arc","svgArcToCenterParam","cos","startAngle","deltaAngle","cx","sin","cy","drag","event","active","alphaTarget","restart","subject","fx","fy","svg","append","transition","duration","ease","attrTween","remove","old","Map","data","map","newNodes","Object","assign","get","newLinks","hasEnteredNode","hasEnteredLink","join","enter","size","g","each","set","this","text","classed","clone","lower","update","datum","updated","t","call","alpha","radian","ux","uy","vx","vy","dot","mod","sqrt","rad","acos","rx","ry","phi","fA","fS","x2","y2","endAngle","PIx2","PI","Error","s_phi","c_phi","hd_x","hd_y","hs_x","hs_y","x1_","y1_","lambda","rxry","rxy1_","ryx1_","sum_of_sq","coe","abs","cx_","cy_","xcr1","xcr2","ycr1","ycr2","clockwise","BellmanFordGraph","hideMin","simulationNodes","filter","variable","simulationLinks","startVertex","endVertex","weight","lastActive","viewBox","haskellCallWrapper","haskell","v","args","stepsExcept","step","cbs","oneStep","qfidlStep","satStep","resultStep","Start","NegativeCyclePass","NegativeCycleFind","NegativeCycleCheck","PropagationEnd","PropagationNth","PropagationFindShorter","PropagationCheck","BacktraceComplete","BacktraceExhaustion","DecisionComplete","DecisionResult","BCPConflictDrivenClause","BCPConflict","BCPComplete","BCPUnitClause","Finish","undosExcept","undo","oneUndo","qfidlUndo","satUndo","startUndo","operatorToString","operator","expressibleToExpressedFormula","expressible","length","ceil","floor","expressedToFragment","expressed","expressedFormulaToFragment","expressedFormula","linefeed","expressedClause","i","Example1","stage","setStage","bellmanFordNodes","setBellmanFordNodes","bellmanFordLinks","setBellmanFordLinks","useCallback","getBellmanFordGraph","ns","ls","s","cb","reset","style","display","margin","disabled","onClick","Example2","skipStep","setSkipStep","skipUndo","setSkipUndo","console","log","includes","Example3","PreprocessGraph","processed","padding","ratio","xScale","yScale","prevOp","usePrevious","prevProcessed","xAxis","ticks","tickSizeInner","tickSizeOuter","tickPadding","yAxis","xAxisG","yAxisG","selectAll","pathTransition","selectChild","delay","line","moveTo","domain","lineTo","closePath","toString","Preprocess","underSAT","vars","setVars","op","setOp","setR","setProcessed","handleTypeChange","e","Number","parseInt","currentTarget","value","slice","handleRChange","handleProcessedChange","checked","parseFloat","onChange","label","type","min","max","Section2","Example4","ef","ClauseDB","formula","assignmentAPI","variableMap","getValueMapList","clauseMap","getValueOfClauseMapList","textFill","textShadeFill","literalFill","literalShadeFill","clauseFill","clauseShadeFill","formulaFill","getValueOfFormula","formulaShadeFill","bbox","node","getBBox","content","JSON","stringify","d0","reduce","acc","texts","Example5","initialFormula","getValue","_v","getValueOfClause","_i","ConversionTable","conversionTable","variableFill","variableShadeFill","expressedFill","expressedShadeFill","expressedToLiteral","_e","Example6","ctVersion","setCtVersion","pseudoAssignment","pseudoAssignmentAPI","Array","from","entries","handleClick","delete","border","borderColor","textAlign","color","Example7","getFormula","assignment","ImplicationGraph","isDecision","level","levelDiff","clauseIndex","TrueText","children","FalseText","Example8","implicationNodes","setImplicationNodes","implicationLinks","setImplicationLinks","fVersion","setFVersion","conversion","updateState","getImplicationGraph","stages","stageIndex","indexOf","localCounter","position","boxSizing","left","top","transform","verticalAlign","marginLeft","float","Example9","satyrosAPI1","setSatyrosAPI1","makeSatyrosAPI1","useSatyrosAPI1","Section3","Section4","References","App","lang","marginTop","marginBottom","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.22ddb32b.chunk.js","sourcesContent":["import React from 'react';\n\nconst Section1: React.FunctionComponent = () => {\n  return (\n    <section className='Section Section1'>\n      <h2>Prelude: Boolean Constraints and Their Solvers</h2>\n      <p><a href='https://en.wikipedia.org/wiki/Boolean_satisfiability_problem'><span className='initial'>S</span>atifiability of boolean constraints</a> (often referred as \"SAT\") is a central topic of computational complexity. It is NP-complete, so it can encode any nondeterministic polynomial-time problems with at most polynomially larger cost, which includes integer factorization, <a href='https://en.wikipedia.org/wiki/Subset_sum_problem'>subset sum problem</a>, <a href='https://en.wikipedia.org/wiki/Travelling_salesman_problem'>travelling sales man problem</a>, <a href='https://en.wikipedia.org/wiki/Sudoku'>Sudoku</a>, and so on. These nondeterministic polynomial-time problems are often found in more realistic applications, for example, Automated Deduction, Computer-Aided Design (CAD), and Artificial Intelligence. Due to its importance, SAT solving algorithm has been discussed for a long time since Davis and Putnam{ '\\'' }s work on 1960<a className='footnote' href='#ref-1'>1</a>. Modern SAT solvers, including <a href='http://minisat.se/'>MiniSAT</a> and <a href='https://www.labri.fr/perso/lsimon/glucose/'>Glucose</a> show incredible performance even on large problems with millions of boolean variables with many industrial applications, and there is still research going on to improve the performance even further.</p>\n      <section className='Subsection Subsection1-1'>\n      <h3>What SAT Solver Actually Solves?</h3>\n      <p>The question of interest is like the following:\n      </p>\n      <blockquote>\n        Suppose that we have boolean variables: <var>b<sub>1</sub></var>, <var>b<sub>2</sub></var>, … , <var>b<sub>n</sub></var>, and their constraints obtained by applying logical and (logical conjunction, ∧), logical or (logical disjunction, ∨), and logical negation (¬) operations on them. Will there be an assignment for those boolean variables so that they satisfy all the given constraints?\n      </blockquote>\n      <p>\n        SAT solvers can answer whether there is such an assignment or not, and actually construct the assignment if it exists.\n      </p>\n      <section className='side-node'>\n        <h4>Side note:</h4>\n        <p className='indent'>\n          In many SAT solvers, the requirements on constraints are often more strict: The conjunction of all constraints should be in the <a href='https://en.wikipedia.org/wiki/Conjunctive_normal_form'>Conjunctive Normal Form (CNF)</a>. For example,\n        </p>\n        <blockquote className='math'>\n          (<var>b<sub>1</sub></var> ∨ <var>b<sub>2</sub></var>) ∧ <var>b<sub>3</sub></var>\n          <br />\n          <var>b<sub>2</sub></var> ∧ (¬<var>b<sub>3</sub></var> ∨ <var>b<sub>4</sub></var>)\n        </blockquote>\n        <p>is a valid set of constraints, but</p>\n        <blockquote className='math'>\n          <var>b<sub>1</sub></var> ∨ (<var>b<sub>2</sub></var> ∧ <var>b<sub>3</sub></var>)\n          <br />\n          ¬(<var>b<sub>2</sub></var> ∨ (<var>b<sub>3</sub></var> ∧ <var>b<sub>4</sub></var>))\n        </blockquote>\n        <p>\n          is not because there is a disjunction (∨) that contains a conjunction (∧) and a negation (¬) is applied on a non-variable expression. However, there is <a href='https://en.wikipedia.org/wiki/Tseytin_transformation'>an efficient translation between non-CNF constraints and CNF constraints</a>, so this is more about how one encodes their problems.\n        </p>\n        </section>\n      </section>\n      <section className='Subsection Subsection1-2'>\n      <h3>How SAT Solver Solves SAT Problems Efficiently?</h3>\n      One of the important algorithms that allows SAT solvers to \"learn\" from its trial-and-error is <a href='https://en.wikipedia.org/wiki/Conflict-driven_clause_learning'>Conflict Deriven Clause Learning (CDCL)</a>. <a href='https://cse442-17f.github.io/Conflict-Driven-Clause-Learning/'>This interactive tutorial</a> explains what CDCL is and how SAT solvers use them. (This article is also deeply inspired from the tutorial!) In this article, we will not use any complex optimizations other than CDCL, but modern SAT solvers employ many other optimizations, including 2 watched literals<a className='footnote' href='#ref-2'>2</a>, Variable State Independent Decaying Sum<a className='footnote' href='#ref-2'>2</a>, and Restart<a className='footnote' href='#ref-3'>3</a>.\n      </section>\n    </section>\n  );\n};\n\nexport default Section1;\n","import React from \"react\";\n\nexport const useSatyrosAPI = (f : FormulaLike<Expressible>) => {\n  const [satyrosAPI, setSatyrosAPI] = React.useState<SatyrosAPI | undefined>(undefined);\n\n  React.useEffect(\n    () => {\n      setTimeout(() => {\n        setSatyrosAPI(window.makeSatyrosAPI(f));\n      }, 500);\n    },\n    // eslint-disable-next-line\n    []\n  );\n\n  return satyrosAPI;\n};\n","import * as d3 from 'd3';\nimport d3ForceLimit from 'd3-force-limit';\nimport React from 'react';\n\nconst oldNodeTexts = d3.local<string>();\nconst oldLinkTexts = d3.local<string>();\n\nexport const useForceGraph = <N extends d3.SimulationNodeDatum, L extends d3.SimulationLinkDatum<N>>({\n  id, width, height,\n  nodes, links,\n  ref,\n  nodeId, nodeShape, nodeText, nodeFill, nodeFillNew,\n  linkId, linkDistance, linkStroke, linkStrokeNew, linkStrokeActive, linkText, linkActive,\n} : {\n  id: string,\n  width: number,\n  height: number,\n  nodes: N[],\n  links: L[],\n  ref: SVGSVGElement | null,\n  nodeId(node: N): number | string,\n  nodeShape?(node: N): 'circle' | 'rect',\n  nodeText?(node: N): string,\n  nodeFill?: ((node: N) => string) | string,\n  nodeFillNew?: ((node: N) => string) | string,\n  linkId(link: L): number | string,\n  linkDistance(link: L): number,\n  linkStroke?: string,\n  linkStrokeNew?: string,\n  linkStrokeActive?: ((link: L) => string) | string,\n  linkText?(link: L): string,\n  linkActive?(link: L): boolean,\n}, deps: any[] = []) => {\n  const radius = 8;\n  const simulation = d3.forceSimulation<N, L>()\n    .force('collide', d3.forceCollide(radius))\n    .force('charge', d3.forceManyBody().strength(-1000).theta(0.5))\n    .force('link', d3.forceLink<N, L>().id(d => nodeId(d)).strength(0.01).distance(linkDistance))\n    .force('x', d3.forceX())\n    .force('y', d3.forceY())\n    .force('limits', d3ForceLimit().radius(5 * radius).x0(- width / 2).x1(width / 2).y0(- height / 2).y1(height / 2).cushionWidth(10 * radius).cushionStrength(1))\n    .on('tick', ticked);\n  const nodeRef = React.useRef<d3.Selection<SVGGElement, N, SVGGElement, any> | null>(null);\n  const linkRef = React.useRef<d3.Selection<SVGGElement, L, SVGGElement, any> | null>(null);\n\n  const nodeShapeImpl: (node: N) => 'circle' | 'rect' = React.useMemo(() => nodeShape ?? ((_d : N) => 'circle'), /* eslint-disable-line react-hooks/exhaustive-deps */ []);\n  const nodeFillImpl = React.useMemo(() => nodeFill ?? '#000', /* eslint-disable-line react-hooks/exhaustive-deps */ []);\n  const nodeFillNewImpl = React.useMemo(() => nodeFillNew ?? '#000', /* eslint-disable-line react-hooks/exhaustive-deps */ []);\n  const linkStrokeImpl = linkStroke ?? '#000';\n  const linkStrokeNewImpl = linkStrokeNew ?? '#000';\n  const linkStrokeActiveImpl = linkStrokeActive ?? linkStrokeNewImpl;\n\n  React.useEffect(() => {\n    const svg = d3.select(ref);\n\n    svg.append('defs')\n      .append('marker')\n      .attr('id', 'arrow-new')\n      .attr('refX', 12)\n      .attr('refY', 4)\n      .attr('markerWidth', 8)\n      .attr('markerHeight', 8)\n      .attr('orient', 'auto')\n      .append('path')\n      .attr('d', 'M 0 0 8 4 0 8 2 4')\n      .attr('fill', linkStrokeNewImpl);\n\n    svg.append('defs')\n      .append('marker')\n      .attr('id', 'arrow')\n      .attr('refX', 12)\n      .attr('refY', 4)\n      .attr('markerWidth', 8)\n      .attr('markerHeight', 8)\n      .attr('orient', 'auto')\n      .append('path')\n      .attr('d', 'M 0 0 8 4 0 8 2 4')\n      .transition()\n      .duration(500)\n      .ease(d3.easeSinOut)\n      .duration(3000)\n      .attrTween('fill', () => {\n        return d3.interpolateRgb(linkStrokeNewImpl, linkStrokeImpl);\n      });\n\n    linkRef.current = svg.append('g')\n      .selectChildren('g');\n\n    nodeRef.current = svg.append('g')\n      .selectChildren('g');\n\n    return () => {\n      svg.selectChildren().remove();\n    };\n  }, /* eslint-disable-line react-hooks/exhaustive-deps */ [ref, ...deps]);\n\n  function ticked() {\n    if (ref !== null && linkRef.current !== null) {\n      linkRef.current\n        .attr('transform', d => {\n          const xsource = (d.source as any).x;\n          const xtarget = (d.target as any).x;\n          const ysource = (d.source as any).y;\n          const ytarget = (d.target as any).y;\n\n          return `translate(${(xsource + xtarget) / 2}, ${(ysource + ytarget) / 2})`;\n        })\n        .select('path')\n        .attr('d', d => {\n          const xsource = (d.source as any).x;\n          const xtarget = (d.target as any).x;\n          const ysource = (d.source as any).y;\n          const ytarget = (d.target as any).y;\n          const r = Math.hypot(xtarget - xsource, ytarget - ysource);\n\n          return `M${(xsource - xtarget) / 2},${(ysource - ytarget) / 2}A${r},${r} 0 0,1 ${(xtarget - xsource) / 2},${(ytarget - ysource) / 2}`;\n        });\n\n      linkRef.current\n        .selectChildren<SVGTextElement, any>('text')\n        .attr('x', d => {\n          const r = Math.hypot((d.target as any).x - (d.source as any).x, (d.target as any).y - (d.source as any).y);\n          const arc = svgArcToCenterParam(((d.source as any).x - (d.target as any).x) / 2, ((d.source as any).y - (d.target as any).y) / 2, r, r, 0, false, true, ((d.target as any).x - (d.source as any).x) / 2, ((d.target as any).y - (d.source as any).y) / 2);\n          return (r + 5) * Math.cos(arc.startAngle + arc.deltaAngle / 2) + arc.cx;\n        })\n        .attr('y', d => {\n          const r = Math.hypot((d.target as any).x - (d.source as any).x, (d.target as any).y - (d.source as any).y);\n          const arc = svgArcToCenterParam(((d.source as any).x - (d.target as any).x) / 2, ((d.source as any).y - (d.target as any).y) / 2, r, r, 0, false, true, ((d.target as any).x - (d.source as any).x) / 2, ((d.target as any).y - (d.source as any).y) / 2);\n          return (r + 5) * Math.sin(arc.startAngle + arc.deltaAngle / 2) + arc.cy;\n        });\n    }\n\n    if (ref !== null && nodeRef.current !== null) {\n\n      nodeRef.current\n        .attr('transform', d => `translate(${(d as any).x}, ${(d as any).y})`);\n    }\n  }\n\n  function drag(simulation: d3.Simulation<N, L>) {    \n    function dragstarted(event: any) {\n      if (!event.active) simulation.alphaTarget(0.3).restart();\n      event.subject.fx = event.subject.x;\n      event.subject.fy = event.subject.y;\n    }\n    \n    function dragged(event: any) {\n      event.subject.fx = event.x;\n      event.subject.fy = event.y;\n    }\n    \n    function dragended(event: any) {\n      if (!event.active) simulation.alphaTarget(0);\n      event.subject.fx = null;\n      event.subject.fy = null;\n    }\n    \n    return d3.drag()\n      .on('start', dragstarted)\n      .on('drag', dragged)\n      .on('end', dragended);\n  }\n\n  React.useEffect(() => {\n    const old = new Map(nodeRef.current!.data().map(d => [nodeId(d), d]));\n\n    const newNodes: N[] = nodes.map(d => Object.assign(old.get(nodeId(d)) || {}, d));\n    const newLinks: L[] = links.map(d => Object.assign({}, d));\n\n    let hasEnteredNode = false;\n    let hasEnteredLink = false;\n\n    nodeRef.current = nodeRef.current!\n      .data(newNodes, d => nodeId(d))\n      .join(\n        enter => {\n          if (enter.size() > 0) {\n            hasEnteredNode = true;\n          }\n\n          const g = enter.append('g')\n            .attr('opacity', 0)\n            .attr('stroke', '#333')\n            .attr('stroke-opacity', 1)\n            .attr('stroke-width', 0)\n            .attr('stroke-linecap', 'round')\n            .attr('stroke-linejoin', 'round');\n\n          g.transition()\n            .duration(500)\n            .ease(d3.easeSinIn)\n            .attr('opacity', 1);\n\n          if (nodeText !== undefined) {\n            g.append('text')\n              .each(function (d) {\n                oldNodeTexts.set(this, nodeText(d));\n              })\n              .text(d => nodeText(d))\n              .classed('node-text', true)\n              .attr('y', -10)\n              .attr('text-anchor', 'middle')\n              .attr('stroke', '#955')\n              .attr('stroke-width', 1)\n              .clone(true).lower()\n              .classed('node-text', false)\n              .classed('node-text-shade', true)\n              .attr('stroke', 'white')\n              .attr('stroke-width', 3);\n          }\n\n          g.append('rect')\n            .classed('node-shape', true)\n            .attr('x', - radius)\n            .attr('y', - radius)\n            .attr('width', 2 * radius)\n            .attr('height', 2 * radius)\n            .attr('rx', d => nodeShapeImpl(d) === 'rect' ? 0 : radius)\n            .attr('fill', nodeFillNewImpl)\n            .lower();\n\n          return g;\n        },\n        update => {\n          update.each(function(d) {\n            const g = d3.select(this).datum(d);\n            g.transition()\n              .duration(500)\n              .ease(d3.easeSinIn)\n              .attr('opacity', 1);\n\n            if (nodeText !== undefined) {\n              let updated = false;\n\n              g.selectChildren<SVGTextElement, N>('text.node-text')\n                .datum(d)\n                .text(function (d) {\n                  const t = nodeText(d);\n                  if (oldNodeTexts.get(this) !== t) {\n                    oldNodeTexts.set(this, t);\n                    updated = true;\n                  }\n                  return t;\n                });\n              if (updated) {\n                g.selectChildren('.node-shape')\n                  .datum(d)\n                  .transition()\n                  .duration(500)\n                  .ease(d3.easeSinIn)\n                  .attr('rx', d => nodeShapeImpl(d) === 'rect' ? 0 : radius)\n                  .attr('fill', nodeFillNewImpl as any);\n              } else {\n                g.selectChildren('.node-shape')\n                  .datum(d)\n                  .transition()\n                  .duration(500)\n                  .ease(d3.easeSinOut)\n                  .attr('rx', d => nodeShapeImpl(d) === 'rect' ? 0 : radius)\n                  .attr('fill', nodeFillImpl as any);\n              }\n            } else {\n              g.selectChildren('.node-shape')\n                .datum(d)\n                .transition()\n                .duration(500)\n                .ease(d3.easeSinOut)\n                .attr('rx', d => nodeShapeImpl(d) === 'rect' ? 0 : radius)\n                .attr('fill', nodeFillImpl as any);\n            }\n          });\n\n          return update;\n        },\n      )\n      .call(drag(simulation) as any);\n\n    linkRef.current = linkRef.current!\n      .data(newLinks, d => linkId(d))\n      .join(\n        enter => {\n          if (enter.size() > 0) {\n            hasEnteredLink = true;\n          }\n\n          const g = enter.append('g')\n            .attr('opacity', 0)\n            .attr('fill', linkStrokeNewImpl)\n            .attr('stroke', linkStrokeNewImpl);\n\n          g.transition()\n            .duration(500)\n            .ease(d3.easeSinIn)\n            .attr('opacity', 1);\n\n          if (linkText !== undefined) {\n            g.append('text')\n              .each(function(d) {\n                oldLinkTexts.set(this, linkText(d));\n              })\n              .text(linkText)\n              .classed('link-text', true)\n              .attr('text-anchor', 'middle')\n              .clone(true).lower()\n              .classed('link-text', false)\n              .classed('link-text-shade', true)\n              .attr('stroke', 'white')\n              .attr('stroke-width', 4);\n          }\n\n          g.append('path')\n            .attr('fill', 'transparent')\n            .attr('stroke-width', 1.5)\n            .attr('stroke-linecap', 'round')\n            .attr('marker-end', 'url(#arrow-new)')\n            .lower();\n\n          return g;\n        },\n        update => {\n          update.each(function (d) {\n            const g = d3.select(this).datum(d);\n            g.transition()\n              .duration(500)\n              .ease(d3.easeSinIn)\n              .attr('opacity', 1);\n\n            if (linkText !== undefined) {\n              let updated = false;\n\n              g.selectChildren<SVGTextElement, N>('text.link-text')\n                .datum(d)\n                .text(function (d) {\n                  const t = linkText(d);\n                  if (oldLinkTexts.get(this) !== t) {\n                    oldLinkTexts.set(this, t);\n                    updated = true;\n                  }\n                  return t;\n                });\n\n              if (updated) {\n                g.transition()\n                  .duration(500)\n                  .ease(d3.easeSinIn)\n                  .attr('stroke', linkStrokeNewImpl as any);\n\n                g.select('path')\n                  .attr('marker-end', 'url(#arrow-new)');\n              } else {\n                if (linkActive !== undefined && linkActive(d)) {\n                  g.transition()\n                    .duration(500)\n                    .ease(d3.easeSinIn)\n                    .attr('stroke', linkStrokeActiveImpl as any);\n\n                  g.select('path')\n                    .attr('marker-end', 'url(#arrow-new)');\n                } else {\n                  g.transition()\n                    .duration(500)\n                    .ease(d3.easeSinOut)\n                    .attr('stroke', linkStrokeImpl);\n\n                  g.select('path')\n                    .attr('marker-end', 'url(#arrow)');\n                }\n              }\n            } else {\n              if (linkActive !== undefined && linkActive(d)) {\n                g.transition()\n                  .duration(500)\n                  .ease(d3.easeSinOut)\n                  .attr('stroke', linkStrokeActiveImpl as any);\n\n                g.select('path')\n                  .attr('marker-end', 'url(#arrow-new)');\n              } else {\n                g.transition()\n                  .duration(500)\n                  .ease(d3.easeSinOut)\n                  .attr('stroke', linkStrokeImpl);\n\n                g.select('path')\n                  .attr('marker-end', 'url(#arrow)');\n              }\n            }\n          });\n\n          return update;\n        },\n      );\n\n    simulation.nodes(newNodes);\n    (simulation.force('link') as d3.ForceLink<N, L>)\n      .links(newLinks);\n    if (hasEnteredNode || hasEnteredLink) {\n      simulation.alpha(1).restart();\n    } else {\n      simulation.alpha(0);\n    }\n  }, /* eslint-disable-line react-hooks/exhaustive-deps */ [ref, nodes, links, ...deps]);\n}\n\nfunction radian(ux: number, uy: number, vx: number, vy: number) {\n  var dot = ux * vx + uy * vy;\n  var mod = Math.sqrt((ux * ux + uy * uy) * (vx * vx + vy * vy));\n  var rad = Math.acos(dot / mod);\n  if (ux * vy - uy * vx < 0.0) {\n    rad = -rad;\n  }\n  return rad;\n}\n\nfunction svgArcToCenterParam(x1: number, y1: number, rx: number, ry: number, phi: number, fA: boolean, fS: boolean, x2: number, y2: number) {\n  var cx, cy, startAngle, deltaAngle, endAngle;\n  var PIx2 = Math.PI * 2.0;\n\n  if (rx < 0) {\n    rx = -rx;\n  }\n  if (ry < 0) {\n    ry = -ry;\n  }\n  if (rx === 0.0 || ry === 0.0) {\n    throw Error('rx and ry can not be 0');\n  }\n\n  var s_phi = Math.sin(phi);\n  var c_phi = Math.cos(phi);\n  var hd_x = (x1 - x2) / 2.0;\n  var hd_y = (y1 - y2) / 2.0;\n  var hs_x = (x1 + x2) / 2.0;\n  var hs_y = (y1 + y2) / 2.0;\n\n  var x1_ = c_phi * hd_x + s_phi * hd_y;\n  var y1_ = c_phi * hd_y - s_phi * hd_x;\n\n  var lambda = (x1_ * x1_) / (rx * rx) + (y1_ * y1_) / (ry * ry);\n  if (lambda > 1) {\n    rx = rx * Math.sqrt(lambda);\n    ry = ry * Math.sqrt(lambda);\n  }\n\n  var rxry = rx * ry;\n  var rxy1_ = rx * y1_;\n  var ryx1_ = ry * x1_;\n  var sum_of_sq = rxy1_ * rxy1_ + ryx1_ * ryx1_;\n  if (!sum_of_sq) {\n    throw Error('start point can not be same as end point');\n  }\n  var coe = Math.sqrt(Math.abs((rxry * rxry - sum_of_sq) / sum_of_sq));\n  if (fA === fS) { coe = -coe; }\n\n  var cx_ = coe * rxy1_ / ry;\n  var cy_ = -coe * ryx1_ / rx;\n\n  cx = c_phi * cx_ - s_phi * cy_ + hs_x;\n  cy = s_phi * cx_ + c_phi * cy_ + hs_y;\n\n  var xcr1 = (x1_ - cx_) / rx;\n  var xcr2 = (x1_ + cx_) / rx;\n  var ycr1 = (y1_ - cy_) / ry;\n  var ycr2 = (y1_ + cy_) / ry;\n\n  startAngle = radian(1.0, 0.0, xcr1, ycr1);\n\n  deltaAngle = radian(xcr1, ycr1, -xcr2, -ycr2);\n  while (deltaAngle > PIx2) { deltaAngle -= PIx2; }\n  while (deltaAngle < 0.0) { deltaAngle += PIx2; }\n  if (fS === false) { deltaAngle -= PIx2; }\n  endAngle = startAngle + deltaAngle;\n  while (endAngle > PIx2) { endAngle -= PIx2; }\n  while (endAngle < 0.0) { endAngle += PIx2; }\n\n  var outputObj = {\n    cx: cx,\n    cy: cy,\n    startAngle: startAngle,\n    deltaAngle: deltaAngle,\n    endAngle: endAngle,\n    clockwise: (fS === true)\n  }\n\n  return outputObj;\n}\n","import * as d3 from 'd3';\nimport React from 'react';\n\nimport { useForceGraph } from '../hook/useForceGraph';\n\ninterface Props {\n  readonly width: number;\n  readonly height: number;\n  readonly nodes: SatyrosBellmanFordVertex[];\n  readonly links: SatyrosBellmanFordEdge[];\n  readonly hideMin: boolean;\n}\n\ninterface SimulationNode extends d3.SimulationNodeDatum {\n  id: number;\n  distance: number;\n}\n\ninterface SimulationLink extends d3.SimulationLinkDatum<SimulationNode> {\n  id: string;\n  weight: number;\n  lastActive: boolean;\n}\n\nexport const BellmanFordGraph: React.FunctionComponent<Props> = ({\n  width, height, nodes, links, hideMin\n}) => {\n  const ref = React.useRef<SVGSVGElement>(null);\n\n  const simulationNodes = React.useMemo(\n    () =>\n      nodes\n        .filter(({ variable }) => typeof variable === 'number' || !hideMin)\n        .map(\n          ({ variable, distance }): SimulationNode => ({\n            id: variable ?? -1,\n            distance,\n          })\n        ),\n    [nodes, hideMin],\n  );\n\n  const simulationLinks = React.useMemo(\n    () =>\n      links\n        .filter(({ startVertex }) => typeof startVertex === 'number' || !hideMin)\n        .map(\n          ({ startVertex, endVertex, weight, lastActive }): SimulationLink => ({\n            id: `${startVertex ?? -1},${endVertex ?? -1}`,\n            source: startVertex ?? -1,\n            target: endVertex ?? -1,\n            weight,\n            lastActive,\n          })\n        ),\n    [links, hideMin],\n  );\n\n  useForceGraph({\n    id: 'bellman-ford',\n    width,\n    height,\n    nodes: simulationNodes,\n    links: simulationLinks,\n    ref: ref.current,\n    nodeId: d => d.id,\n    nodeText: d => `${d.id === -1 ? 'min' : d.id === 0 ? 'z' : 'x' + d.id} : ${d.distance}`,\n    nodeFill: d3.schemeSet2[2],\n    nodeFillNew: d3.schemeAccent[4],\n    linkId: d => d.id,\n    linkActive: d => d.lastActive,\n    linkDistance: _d => 20,\n    linkText: d => `${d.weight}`,\n    linkStroke: d3.schemeSet2[7],\n    linkStrokeNew: d3.schemeAccent[7],\n  });\n\n  return (\n    <svg\n      width={width}\n      height={height}\n      viewBox={`${- width / 2} ${- height / 2} ${width} ${height}`}\n      ref={ref}\n    />\n  );\n};\n","import * as d3 from \"d3\";\nimport React, { Fragment } from \"react\";\n\nexport const haskellCallWrapper = <T extends any[]>(haskell: (cb: (...args: T) => void) => void): T => {\n  let v: T;\n\n  haskell((...args) => {\n    v = args;\n  });\n\n  return v!;\n}\n\nexport const stepsExcept: (step: SatyrosAPI['step'], cbs: Partial<SatyrosEffectCallback>) => SatyrosEffectCallback = (step, cbs) => {\n  return Object.assign(oneStep(() => { step(stepsExcept(step, cbs)); }, () => { step(stepsExcept(step, cbs)); }, () => { throw new Error('Why Result?!'); }), cbs);\n}\n\nexport const stepsUntil: (step: SatyrosAPI['step'], key: keyof SatyrosEffectCallback, cb: () => void) => SatyrosEffectCallback = (step, key, cb) => stepsExcept(step, { [key]: cb });\n\nexport const oneStep: (qfidlStep: () => void, satStep: () => void, resultStep: (r: boolean) => void) => SatyrosEffectCallback = (qfidlStep, satStep, resultStep) => ({\n  Start() {},\n  NegativeCyclePass: qfidlStep,\n  NegativeCycleFind: qfidlStep,\n  NegativeCycleCheck: qfidlStep,\n  PropagationEnd: qfidlStep,\n  PropagationNth: qfidlStep,\n  PropagationFindShorter: qfidlStep,\n  PropagationCheck: qfidlStep,\n  BacktraceComplete: satStep,\n  BacktraceExhaustion: satStep,\n  DecisionComplete: satStep,\n  DecisionResult: satStep,\n  BCPConflictDrivenClause: satStep,\n  BCPConflict: satStep,\n  BCPComplete: satStep,\n  BCPUnitClause: satStep,\n  Finish: resultStep,\n});\n\nexport const undosExcept: (undo: SatyrosAPI['undo'], cbs: Partial<SatyrosEffectCallback>) => SatyrosEffectCallback = (undo, cbs) => {\n  return Object.assign(oneUndo(() => { undo(undosExcept(undo, cbs)); }, () => { undo(undosExcept(undo, cbs)); }, () => { throw new Error('Why Start?!'); }), cbs);\n}\n\nexport const undosUntil: (undo: SatyrosAPI['undo'], key: keyof SatyrosEffectCallback, cb: () => void) => SatyrosEffectCallback = (undo, key, cb) => undosExcept(undo, { [key]: cb });\n\nexport const oneUndo: (qfidlUndo: () => void, satUndo: () => void, startUndo: (repeated: boolean) => void) => SatyrosEffectCallback = (qfidlUndo, satUndo, startUndo) => ({\n  Start: startUndo,\n  NegativeCyclePass: qfidlUndo,\n  NegativeCycleFind: qfidlUndo,\n  NegativeCycleCheck: qfidlUndo,\n  PropagationEnd: qfidlUndo,\n  PropagationNth: qfidlUndo,\n  PropagationFindShorter: qfidlUndo,\n  PropagationCheck: qfidlUndo,\n  BacktraceComplete: satUndo,\n  BacktraceExhaustion: satUndo,\n  DecisionComplete: satUndo,\n  DecisionResult: satUndo,\n  BCPConflictDrivenClause: satUndo,\n  BCPConflict: satUndo,\n  BCPComplete: satUndo,\n  BCPUnitClause: satUndo,\n  Finish() {},\n});\n\nexport const operatorToString = (operator: Operator): string => {\n  switch (operator) {\n    case \"::<?\": return \"<\";\n    case \"::<=?\": return \"≤\";\n    case \"::>?\": return \">\";\n    case \"::>=?\": return \"≥\";\n    case \"::<>?\": return \"≠\";\n    case \"::=?\": return \"=\";\n  }\n}\n\nexport const expressibleToExpressedFormula = (expressible: Expressible): FormulaLike<Expressed> => {\n  if (expressible.length === 3) {\n    expressible = [expressible[0], 0, expressible[1], expressible[2]];\n  }\n\n  switch (expressible[2]) {\n    case '::<?': return [[[expressible[0], expressible[1], Math.ceil(expressible[3] - 1)]]];\n    case '::<=?': return [[[expressible[0], expressible[1], Math.floor(expressible[3])]]];\n    case '::>?': return [[[expressible[1], expressible[0], Math.ceil(- expressible[3] - 1)]]];\n    case '::>=?': return [[[expressible[1], expressible[0], Math.floor(- expressible[3])]]];\n    case '::=?': return [[[expressible[0], expressible[1], Math.floor(expressible[3])]], [[expressible[1], expressible[0], Math.floor(- expressible[3])]]];\n    case '::<>?': return [[[expressible[0], expressible[1], Math.ceil(expressible[3] - 1)], [expressible[1], expressible[0], Math.ceil(- expressible[3] - 1)]]];\n  }\n};\n\nexport const expressedToString = (expressed: Expressed): string => `${expressed[0] === 0 ? 'z' : 'x' + expressed[0]} - ${expressed[1] === 0 ? 'z' : 'x' + expressed[1]} ≤ ${expressed[2]}`;\n\nexport const expressedToFragment = (expressed: Expressed): React.ReactNode => (\n  <Fragment>\n    {expressed[0] === 0 ? 'z' : <Fragment>x<sub>{expressed[0]}</sub></Fragment>} - {expressed[1] === 0 ? 'z' : <Fragment>x<sub>{expressed[1]}</sub></Fragment>} ≤ {expressed[2]}\n  </Fragment>\n);\n\nexport const expressibleToString = (expressible: Expressible): string => {\n  if (expressible.length === 3) {\n    return `x${expressible[0]} ${operatorToString(expressible[1])} ${expressible[2]}`;\n  } else {\n    return `x${expressible[0]} - x${expressible[1]} ${operatorToString(expressible[2])} ${expressible[3]}`;\n  }\n};\n\nexport const expressedFormulaToString = (expressedFormula: FormulaLike<Expressed>): string => {\n  return expressedFormula.map(v => v.map(e => expressedToString(e)).join(' ∨ ')).join(' ∧ ');\n};\n\nexport const expressedFormulaToFragment = (expressedFormula: FormulaLike<Expressed>, linefeed: boolean = false): React.ReactNode => {\n  return expressedFormula.map(\n    (expressedClause, i) => (\n      <Fragment key={i}>\n        {i === 0 ? null : ' ∧ '}\n        {expressedFormula.length > 1 && expressedClause.length > 1 ? '(' : null}\n        {\n          expressedClause.map(\n            (expressed, i) => (\n              <Fragment key={i}>\n                {i === 0 ? null : ' ∨ '}\n                {expressedToFragment(expressed)}\n              </Fragment>\n            )\n          )\n        }\n        {expressedFormula.length > 1 && expressedClause.length > 1 ? ')' : null}\n        {linefeed ? <br /> : null}\n      </Fragment>\n    ),\n  );\n};\n\nexport const d3fyExpressibleFormula = (expressibleFormula: FormulaLike<Expressible>, e: SVGSVGElement, width: number): void => {\n  const space = 70;\n  const svg = d3.select(e);\n\n  const expressibleG = svg\n    .selectAll('g.expressed')\n    .data([0])\n    .join('g')\n    .classed('expressible', true)\n    .attr('transform', `translate(${width / 2 - expressibleFormula.flat().length * space + space}, 40)`)\n\n  const expressibleClauseG = expressibleG\n    .selectChildren('g.expressible-clause')\n    .data(expressibleFormula)\n    .join('g')\n    .classed('expressible-clause', true)\n    .attr('transform', (_d, i) => `translate(${expressibleFormula.slice(0, i).flat().length * 2 * space}, 0)`);\n\n  expressibleClauseG\n    .selectChildren('g.expressible-literal')\n    .data(d => d)\n    .join(enter => {\n      const g = enter.append('g');\n\n      g.append('text')\n        .text(expressibleToString)\n        .attr('text-anchor', 'middle')\n        .attr('y', 40)\n        .attr('font-size', '18px');\n\n      g.append('circle')\n        .attr('cx', 0)\n        .attr('cy', 10)\n        .attr('r', 10);\n\n      return g;\n    })\n    .classed('expressible-literal', true)\n    .attr('transform', (_d, i) => `translate(${i * 2 * space}, 0)`);\n\n  expressibleClauseG\n    .selectChildren('g.expressible-literal-con')\n    .data(d => d.slice(1))\n    .join('g')\n    .classed('expressible-literal-con', true)\n    .attr('transform', (_d, i) => `translate(${i * 2 * space + space}, 0)`)\n    .append('text')\n    .text('∨')\n    .attr('text-anchor', 'middle')\n    .attr('y', 30)\n    .attr('font-size', '40px');\n\n  expressibleG\n    .selectChildren('g.expressible-clause-con')\n    .data(expressibleFormula.slice(1))\n    .join('g')\n    .classed('expressible-clause-con', true)\n    .attr('transform', (_d, i) => `translate(${expressibleFormula.slice(0, i + 1).flat().length * 2 * space - space}, 0)`)\n    .append('text')\n    .text('∧')\n    .attr('text-anchor', 'middle')\n    .attr('y', 30)\n    .attr('font-size', '40px');\n}\n\nexport const d3fyExpressedFormula = (expressedFormula: FormulaLike<Expressed>, e: SVGSVGElement, width: number): void => {\n  const space = 70;\n  const expressedG = d3.select(e)\n    .selectAll('g.expressed')\n    .data([0])\n    .join('g')\n    .classed('expressed', true)\n    .attr('transform', `translate(${width / 2 - expressedFormula.flat().length * space + space}, 40)`)\n\n  const expressedClauseG = expressedG\n    .selectChildren('g.expressed-clause')\n    .data(expressedFormula)\n    .join('g')\n    .classed('expressed-clause', true)\n    .attr('transform', (_d, i) => `translate(${expressedFormula.slice(0, i).flat().length * 2 * space}, 0)`);\n\n  expressedClauseG\n    .selectChildren('g.expressed-literal')\n    .data(d => d)\n    .join(enter => {\n      const g = enter.append('g');\n\n      g.append('text')\n        .text(expressedToString)\n        .attr('text-anchor', 'middle')\n        .attr('y', 40)\n        .attr('font-size', '18px');\n\n      g.append('circle')\n        .attr('cx', 0)\n        .attr('cy', 10)\n        .attr('r', 10);\n\n      return g;\n    })\n    .classed('expressed-literal', true)\n    .attr('transform', (_d, i) => `translate(${i * 2 * space}, 0)`);\n\n  expressedClauseG\n    .selectChildren('g.expressed-literal-con')\n    .data(d => d.slice(1))\n    .join('g')\n    .classed('expressed-literal-con', true)\n    .attr('transform', (_d, i) => `translate(${i * 2 * space + space}, 0)`)\n    .append('text')\n    .text('∨')\n    .attr('text-anchor', 'middle')\n    .attr('y', 30)\n    .attr('font-size', '40px');\n\n  expressedG\n    .selectChildren('g.expressed-clause-con')\n    .data(expressedFormula.slice(1))\n    .join('g')\n    .classed('expressed-clause-con', true)\n    .attr('transform', (_d, i) => `translate(${expressedFormula.slice(0, i + 1).flat().length * 2 * space - space}, 0)`)\n    .append('text')\n    .text('∧')\n    .attr('text-anchor', 'middle')\n    .attr('y', 30)\n    .attr('font-size', '40px');\n}\n","import React from 'react';\n\nimport { useSatyrosAPI } from '../hook/useSatyrosAPI';\nimport { BellmanFordGraph } from './BellmanFordGraph';\nimport { stepsExcept, oneStep } from '../Util';\n\nconst f: FormulaLike<Expressible> =\n  [\n    [\n      [1, 2, '::<=?', 4],\n    ],\n    [\n      [2, 3, '::<=?', 5],\n    ],\n    [\n      [3, 1, '::<=?', -10],\n    ],\n  ];\n\nconst Example1: React.FunctionComponent = () => {\n  const satyrosAPI = useSatyrosAPI(f);\n  const [stage, setStage] = React.useState<number>(0);\n  const [bellmanFordNodes, setBellmanFordNodes] = React.useState<SatyrosBellmanFordVertex[]>([]);\n  const [bellmanFordLinks, setBellmanFordLinks] = React.useState<SatyrosBellmanFordEdge[]>([]);\n\n  const satStep = React.useCallback(() => {\n    satyrosAPI!.getBellmanFordGraph((ns, ls) => {\n      setBellmanFordNodes(ns);\n      setBellmanFordLinks(ls);\n    });\n  }, [satyrosAPI]);\n  const qfidlStep = satStep;\n  const step = React.useCallback(() => {\n    switch (stage) {\n      case 0:\n        setStage(s => s + 1);\n        satyrosAPI!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI!.step(cb);\n          },\n          {\n            DecisionComplete() {\n              setStage(s => s + 1);\n              satyrosAPI!.step(oneStep(qfidlStep, satStep, () => {}));\n            },\n          },\n        ));\n        break;\n      default:\n        break;\n    }\n  }, [satyrosAPI, stage, satStep, qfidlStep]);\n  const reset = React.useCallback(() => {\n    satyrosAPI!.reset();\n    setStage(0);\n    setBellmanFordNodes([]);\n    setBellmanFordLinks([]);\n  }, [satyrosAPI]);\n\n  if (satyrosAPI === undefined) {\n    return null;\n  } else {\n    return (\n      <div style={{ display: 'block', width: 560, margin: '0 auto' }}>\n        <button disabled={stage === 0} onClick={reset}>Reset</button>\n        <button disabled={stage === 3} onClick={step}>Construct</button>\n        <br />\n        <BellmanFordGraph\n          width={560}\n          height={400}\n          nodes={bellmanFordNodes}\n          links={bellmanFordLinks}\n          hideMin={false}\n        />\n      </div>\n    );\n  }\n};\n\nexport default Example1;\n","import React from 'react';\n\nimport { useSatyrosAPI } from '../hook/useSatyrosAPI';\nimport { BellmanFordGraph } from './BellmanFordGraph';\nimport { stepsExcept, undosExcept } from '../Util';\n\nconst f: FormulaLike<Expressible> =\n  [\n    [\n      [1, 2, '::<=?', 4],\n    ],\n    [\n      [2, 3, '::<=?', 5],\n    ],\n    [\n      [3, 1, '::<=?', -10],\n    ],\n  ];\n\nconst Example2: React.FunctionComponent = () => {\n  const satyrosAPI = useSatyrosAPI(f);\n  const [stage, setStage] = React.useState<number>(0);\n  const [skipStep, setSkipStep] = React.useState<boolean>(false);\n  const [skipUndo, setSkipUndo] = React.useState<boolean>(false);\n  const [bellmanFordNodes, setBellmanFordNodes] = React.useState<SatyrosBellmanFordVertex[]>([]);\n  const [bellmanFordLinks, setBellmanFordLinks] = React.useState<SatyrosBellmanFordEdge[]>([]);\n\n  const satStep = React.useCallback(() => {\n    satyrosAPI!.getBellmanFordGraph((ns, ls) => {\n      setBellmanFordNodes(ns);\n      setBellmanFordLinks(ls);\n    });\n  }, [satyrosAPI]);\n  const qfidlStep = satStep;\n  const satUndo = React.useCallback(() => {\n    satyrosAPI!.getBellmanFordGraph((ns, ls) => {\n      setBellmanFordNodes(ns);\n      setBellmanFordLinks(ls);\n    });\n  }, [satyrosAPI]);\n  const qfidlUndo = satUndo;\n  const step = React.useCallback(() => {\n    switch (stage) {\n      case 23:\n        break;\n      default:\n        setStage(s => s + 1);\n        satyrosAPI!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI!.step(cb);\n          },\n          {\n            PropagationCheck() {\n              console.log('PropagationCheck', stage);\n              if ([4, 11, 13].includes(stage)) {\n                setSkipStep(true);\n              } else {\n                qfidlStep();\n              }\n            },\n            PropagationFindShorter() {\n              console.log('PropagationFindShorter');\n              qfidlStep();\n            },\n            PropagationEnd() {\n              console.log('PropagationEnd', stage);\n              qfidlStep();\n            },\n          },\n        ));\n        break;\n    }\n  }, [satyrosAPI, stage, qfidlStep]);\n  const undo = React.useCallback(() => {\n    switch (stage) {\n      case 4:\n        setStage(s => s - 1);\n        satyrosAPI!.undo(undosExcept(\n          cb => {\n            setStage(s => s - 1);\n            satyrosAPI!.undo(cb);\n          },\n          {\n            Start() {\n              qfidlUndo();\n            },\n          },\n        ));\n        break;\n      default:\n        setStage(s => s - 1);\n        satyrosAPI!.undo(undosExcept(\n          cb => {\n            setStage(s => s - 1);\n            satyrosAPI!.undo(cb);\n          },\n          {\n            PropagationCheck() {\n              console.log('PropagationCheck', stage);\n              if ([6, 14, 15].includes(stage)) {\n                setSkipUndo(true);\n              } else {\n                qfidlUndo();\n              }\n            },\n            PropagationFindShorter() {\n              console.log('PropagationFindShorter');\n              qfidlUndo();\n            },\n            PropagationEnd() {\n              console.log('PropagationEnd');\n              qfidlUndo();\n            },\n            Start() {\n              console.log('Start');\n              qfidlUndo();\n            },\n          },\n        ));\n        break;\n    }\n  }, [satyrosAPI, stage, qfidlUndo]);\n  const reset = React.useCallback(() => {\n    satyrosAPI!.reset();\n    setStage(0);\n    setBellmanFordNodes([]);\n    setBellmanFordLinks([]);\n  }, [satyrosAPI]);\n\n  React.useEffect(() => {\n    if (skipStep) {\n      setSkipStep(false);\n      step();\n    }\n  }, [skipStep, step]);\n\n  React.useEffect(() => {\n    if (skipUndo) {\n      setSkipUndo(false);\n      undo();\n    }\n  }, [skipUndo, undo]);\n\n  if (satyrosAPI === undefined) {\n    return null;\n  } else {\n    return (\n      <div style={{ display: 'block', width: 560, margin: '0 auto' }}>\n        <button disabled={stage === 0} onClick={reset}>Reset</button>\n        <button disabled={stage === 0} onClick={undo}>{'<'} Undo</button>\n        <button disabled={stage === 23} onClick={step}>Step {'>'}</button>\n        <br />\n        <BellmanFordGraph\n          width={560}\n          height={400}\n          nodes={bellmanFordNodes}\n          links={bellmanFordLinks}\n          hideMin={false}\n        />\n      </div>\n    );\n  }\n};\n\nexport default Example2;\n","import React from 'react';\n\nimport { useSatyrosAPI } from '../hook/useSatyrosAPI';\nimport { BellmanFordGraph } from './BellmanFordGraph';\nimport { stepsExcept, undosExcept } from '../Util';\n\nconst f: FormulaLike<Expressible> =\n  [\n    [\n      [1, 4, '::<=?', 2],\n    ],\n    [\n      [1, 2, '::<=?', 4],\n    ],\n    [\n      [2, 1, '::<=?', -4],\n    ],\n    [\n      [2, 3, '::<=?', 5],\n    ],\n    [\n      [3, 4, '::<=?', -1],\n    ],\n  ];\n\nconst Example3: React.FunctionComponent = () => {\n  const satyrosAPI = useSatyrosAPI(f);\n  const [stage, setStage] = React.useState<number>(0);\n  const [skipStep, setSkipStep] = React.useState<boolean>(false);\n  const [skipUndo, setSkipUndo] = React.useState<boolean>(false);\n  const [bellmanFordNodes, setBellmanFordNodes] = React.useState<SatyrosBellmanFordVertex[]>([]);\n  const [bellmanFordLinks, setBellmanFordLinks] = React.useState<SatyrosBellmanFordEdge[]>([]);\n\n  const satStep = React.useCallback(() => {\n    satyrosAPI!.getBellmanFordGraph((ns, ls) => {\n      setBellmanFordNodes(ns);\n      setBellmanFordLinks(ls);\n    });\n  }, [satyrosAPI]);\n  const qfidlStep = satStep;\n  const satUndo = React.useCallback(() => {\n    satyrosAPI!.getBellmanFordGraph((ns, ls) => {\n      setBellmanFordNodes(ns);\n      setBellmanFordLinks(ls);\n    });\n  }, [satyrosAPI]);\n  const qfidlUndo = satUndo;\n  const step = React.useCallback(() => {\n    switch (stage) {\n      case 0:\n        setStage(s => s + 1);\n        satyrosAPI!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI!.step(cb);\n          },\n          {\n            PropagationCheck() {\n              console.log('PropagationCheck', stage);\n              qfidlStep();\n            },\n          },\n        ));\n        break;\n      case 51:\n        break;\n      default:\n        setStage(s => s + 1);\n        satyrosAPI!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI!.step(cb);\n          },\n          {\n            PropagationFindShorter() {\n              console.log('PropagationFindShorter', stage);\n              qfidlStep();\n            },\n            Finish() {\n              console.log('Finish', stage);\n              qfidlStep();\n            },\n          },\n        ));\n        break;\n    }\n  }, [satyrosAPI, stage, qfidlStep]);\n  const undo = React.useCallback(() => {\n    switch (stage) {\n      case 4:\n        setStage(s => s - 1);\n        satyrosAPI!.undo(undosExcept(\n          cb => {\n            setStage(s => s - 1);\n            satyrosAPI!.undo(cb);\n          },\n          {\n            Start() {\n              qfidlUndo();\n            },\n          },\n        ));\n        break;\n      default:\n        setStage(s => s - 1);\n        satyrosAPI!.undo(undosExcept(\n          cb => {\n            setStage(s => s - 1);\n            satyrosAPI!.undo(cb);\n          },\n          {\n            PropagationCheck() {\n              console.log('PropagationCheck');\n              if (stage !== 5) {\n                setSkipUndo(true);\n              } else {\n                qfidlUndo();\n              }\n            },\n            PropagationFindShorter() {\n              console.log('PropagationFindShorter', stage);\n              qfidlUndo();\n            },\n            Start() {\n              console.log('Start', stage);\n              qfidlUndo();\n            },\n          },\n        ));\n        break;\n    }\n  }, [satyrosAPI, stage, qfidlUndo]);\n  const reset = React.useCallback(() => {\n    satyrosAPI!.reset();\n    setStage(0);\n    setBellmanFordNodes([]);\n    setBellmanFordLinks([]);\n  }, [satyrosAPI]);\n\n  React.useEffect(() => {\n    if (skipStep) {\n      setSkipStep(false);\n      step();\n    }\n  }, [skipStep, step]);\n\n  React.useEffect(() => {\n    if (skipUndo) {\n      setSkipUndo(false);\n      undo();\n    }\n  }, [skipUndo, undo]);\n\n  console.log(stage);\n  if (satyrosAPI === undefined) {\n    return null;\n  } else {\n    return (\n      <div style={{ display: 'block', width: 560, margin: '0 auto' }}>\n        <button disabled={stage === 0} onClick={reset}>Reset</button>\n        <button disabled={stage === 0} onClick={undo}>{'<'} Undo</button>\n        <button disabled={stage === 51} onClick={step}>Step to next distance update {'>'}</button>\n        <br />\n        <BellmanFordGraph\n          width={560}\n          height={400}\n          nodes={bellmanFordNodes}\n          links={bellmanFordLinks}\n          hideMin={false}\n        />\n      </div>\n    );\n  }\n};\n\nexport default Example3;\n","import * as d3 from 'd3';\nimport React from 'react';\nimport usePrevious from '@react-hook/previous';\n\nimport { expressibleToExpressedFormula } from '../Util';\n\ninterface Props {\n  width: number;\n  height: number;\n  expressible: Expressible;\n  processed: boolean;\n}\n\nconst PreprocessGraph: React.FunctionComponent<Props> = ({\n  width, height, expressible, processed\n}) => {\n  const ref = React.useRef<SVGSVGElement>(null);\n  const padding = 30;\n  const ratio = height / width;\n  const xScale = d3.scaleLinear([-5, 5], [-width/2 + padding, width/2 - padding]);\n  const yScale = d3.scaleLinear([-5 * ratio, 5 * ratio], [height/2 - padding, -height/2 + padding]);\n  const prevOp = usePrevious(expressible.length === 3 ? expressible[1] : expressible[2]);\n  const prevProcessed = usePrevious(processed);\n\n  React.useEffect(() => {\n    const svg = d3.select(ref.current);\n\n    svg.append('clipPath')\n      .attr('id', 'graph-area')\n      .append('rect')\n      .attr('x', -width/2 + padding)\n      .attr('y', -height/2 + padding)\n      .attr('width', width - 2 * padding)\n      .attr('height', height - 2 * padding)\n\n    const xAxis = d3.axisBottom(xScale)\n      .ticks(10)\n      .tickSizeInner(-height + 2 * padding)\n      .tickSizeOuter(0)\n      .tickPadding(padding/2);\n    const yAxis = d3.axisLeft(yScale)\n      .ticks(7)\n      .tickSizeInner(-width + 2 * padding)\n      .tickSizeOuter(0)\n      .tickPadding(padding/2);\n\n    const xAxisG = svg.append('g')\n      .attr('transform', `translate(0, ${height/2 - padding})`)\n      .call(xAxis);\n\n    const yAxisG = svg.append('g')\n      .attr('transform', `translate(${-width/2 + padding}, 0)`)\n      .call(yAxis);\n\n    xAxisG\n      .call(g => {\n        g.selectAll('.tick line')\n          .attr('stroke', d3.schemeSet2[7]);\n\n        g.selectAll('.tick').lower();\n      });\n\n    yAxisG\n      .call(g => {\n        g.selectAll('.tick line')\n          .attr('stroke', d3.schemeSet2[7]);\n\n        g.selectAll('.tick').lower();\n      });\n\n    svg.append('line')\n      .attr('x1', -0.5)\n      .attr('y1', -height/2 + padding)\n      .attr('x2', -0.5)\n      .attr('y2', height/2 - padding)\n      .attr('stroke', 'black')\n      .attr('stroke-width', 1);\n\n    svg.append('line')\n      .attr('x1', -width/2 + padding)\n      .attr('y1', 0.5)\n      .attr('x2', width/2 - padding)\n      .attr('y2', 0.5)\n      .attr('stroke', 'black')\n      .attr('stroke-width', 1);\n\n    svg.append('g')\n      .classed('expression-graph', true);\n\n    return () => {\n      svg.selectAll().remove();\n    };\n  }, [width, height, xScale, yScale]);\n\n  React.useEffect(() => {\n    let pathTransition = d3.select(ref.current)\n      .selectChild('g.expression-graph')\n      .selectChildren('path.expressible')\n      .data([0])\n      .join('path')\n      .classed('expressible', true)\n      .attr('clip-path', 'url(#graph-area)')\n      .transition()\n      .duration(300)\n      .ease(d3.easeLinear)\n      .attr('stroke-width', 3)\n      .attr('fill', d3.schemeAccent[3]);\n\n    if (prevProcessed === processed && !processed && prevOp !== (expressible.length === 3 ? expressible[1] : expressible[2])) {\n      pathTransition = pathTransition.transition()\n        .ease(d3.easeLinear)\n        .duration(150)\n        .attr('opacity', 0)\n        .transition()\n        .ease(d3.easeLinear)\n        .delay(150)\n        .duration(150)\n        .attr('opacity', 0.8);\n    } else {\n      pathTransition = pathTransition\n        .attr('opacity', processed ? 0 : 0.8);\n    }\n\n    const line = d3.path();\n\n    if (expressible.length === 3) {\n      switch (expressible[1]) {\n        case '::<=?': {\n          line.moveTo(xScale(expressible[2]), yScale(yScale.domain()[0] - 10));\n          line.lineTo(xScale(expressible[2]), yScale(yScale.domain()[1] + 10));\n          line.lineTo(xScale(xScale.domain()[0] - 10), yScale(yScale.domain()[1] + 10));\n          line.lineTo(xScale(xScale.domain()[0] - 10), yScale(yScale.domain()[0] - 10));\n          line.closePath();\n          pathTransition.attr('d', line.toString())\n            .attr('stroke', d3.schemeSet1[5]);\n          break;\n        }\n        case '::<?': {\n          line.moveTo(xScale(expressible[2]), yScale(yScale.domain()[0] - 10));\n          line.lineTo(xScale(expressible[2]), yScale(yScale.domain()[1] + 10));\n          line.lineTo(xScale(xScale.domain()[0] - 10), yScale(yScale.domain()[1] + 10));\n          line.lineTo(xScale(xScale.domain()[0] - 10), yScale(yScale.domain()[0] - 10));\n          line.closePath();\n          pathTransition.attr('d', line.toString())\n            .attr('stroke', '#FFF');\n          break;\n        }\n        case '::>=?': {\n          line.moveTo(xScale(expressible[2]), yScale(yScale.domain()[0] - 10));\n          line.lineTo(xScale(expressible[2]), yScale(yScale.domain()[1] + 10));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(yScale.domain()[1] + 10));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(yScale.domain()[0] - 10));\n          line.closePath();\n          pathTransition.attr('d', line.toString())\n            .attr('stroke', d3.schemeSet1[5]);\n          break;\n        }\n        case '::>?': {\n          line.moveTo(xScale(expressible[2]), yScale(yScale.domain()[0] - 10));\n          line.lineTo(xScale(expressible[2]), yScale(yScale.domain()[1] + 10));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(yScale.domain()[1] + 10));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(yScale.domain()[0] - 10));\n          line.closePath();\n          pathTransition.attr('d', line.toString())\n            .attr('stroke', '#FFF');\n          break;\n        }\n        case '::=?': {\n          line.moveTo(xScale(expressible[2]), yScale(yScale.domain()[0] - 10));\n          line.lineTo(xScale(expressible[2]), yScale(yScale.domain()[1] + 10));\n          pathTransition.attr('d', line.toString())\n            .attr('stroke', d3.schemeSet1[5]);\n          break;\n        }\n        case '::<>?': {\n          line.moveTo(xScale(expressible[2]), yScale(yScale.domain()[0] - 10));\n          line.lineTo(xScale(expressible[2]), yScale(yScale.domain()[1] + 10));\n          line.lineTo(xScale(xScale.domain()[0] - 10), yScale(yScale.domain()[1] + 10));\n          line.lineTo(xScale(xScale.domain()[0] - 10), yScale(yScale.domain()[0] - 10));\n          line.closePath();\n          line.moveTo(xScale(expressible[2]), yScale(yScale.domain()[0] - 10));\n          line.lineTo(xScale(expressible[2]), yScale(yScale.domain()[1] + 10));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(yScale.domain()[1] + 10));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(yScale.domain()[0] - 10));\n          line.closePath();\n          pathTransition.attr('d', line.toString())\n            .attr('stroke', '#FFF');\n          break;\n        }\n      }\n    } else {\n      switch (expressible[2]) {\n        case '::<=?': {\n          line.moveTo(xScale(xScale.domain()[0] - 10), yScale(xScale.domain()[0] - 10 - expressible[3]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(xScale.domain()[1] + 10 - expressible[3]));\n          line.lineTo(xScale(xScale.domain()[0] - 10), yScale(yScale.domain()[1] + 10));\n          line.closePath();\n          pathTransition.attr('d', line.toString())\n            .attr('stroke', d3.schemeSet1[5]);\n          break;\n        }\n        case '::<?': {\n          line.moveTo(xScale(xScale.domain()[0] - 10), yScale(xScale.domain()[0] - 10 - expressible[3]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(xScale.domain()[1] + 10 - expressible[3]));\n          line.lineTo(xScale(xScale.domain()[0] - 10), yScale(yScale.domain()[1] + 10));\n          line.closePath();\n          pathTransition.attr('d', line.toString())\n            .attr('stroke', '#FFF');\n          break;\n        }\n        case '::>=?': {\n          line.moveTo(xScale(xScale.domain()[0] - 10), yScale(xScale.domain()[0] - 10 - expressible[3]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(xScale.domain()[1] + 10 - expressible[3]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(yScale.domain()[0] - 10));\n          line.closePath();\n          pathTransition.attr('d', line.toString())\n            .attr('stroke', d3.schemeSet1[5]);\n          break;\n        }\n        case '::>?': {\n          line.moveTo(xScale(xScale.domain()[0] - 10), yScale(xScale.domain()[0] - 10 - expressible[3]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(xScale.domain()[1] + 10 - expressible[3]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(yScale.domain()[0] - 10));\n          line.closePath();\n          pathTransition.attr('d', line.toString())\n            .attr('stroke', '#FFF');\n          break;\n        }\n        case '::=?': {\n          line.moveTo(xScale(xScale.domain()[0] - 10), yScale(xScale.domain()[0] - 10 - expressible[3]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(xScale.domain()[1] + 10 - expressible[3]));\n          pathTransition.attr('d', line.toString())\n            .attr('stroke', d3.schemeSet1[5]);\n          break;\n        }\n        case '::<>?': {\n          line.moveTo(xScale(xScale.domain()[0] - 10), yScale(xScale.domain()[0] - 10 - expressible[3]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(xScale.domain()[1] + 10 - expressible[3]));\n          line.lineTo(xScale(xScale.domain()[0] - 10), yScale(yScale.domain()[1] + 10));\n          line.closePath();\n          line.moveTo(xScale(xScale.domain()[0] - 10), yScale(xScale.domain()[0] - 10 - expressible[3]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(xScale.domain()[1] + 10 - expressible[3]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(yScale.domain()[0] - 10));\n          line.closePath();\n          pathTransition.attr('d', line.toString())\n            .attr('stroke', '#FFF');\n          break;\n        }\n      }\n    }\n  }, [expressible, processed, prevOp, prevProcessed, xScale, yScale]);\n\n  React.useEffect(() => {\n    let pathTransition = d3.select(ref.current)\n      .selectChild('g.expression-graph')\n      .selectChildren('path.expressed')\n      .data([0])\n      .join('path')\n      .classed('expressed', true)\n      .attr('clip-path', 'url(#graph-area)')\n      .transition()\n      .duration(300)\n      .ease(d3.easeLinear)\n      .attr('stroke-width', 3)\n      .attr('fill', d3.schemeAccent[1])\n      .attr('stroke', d3.schemeSet1[3])\n\n    if (prevProcessed === processed && processed && prevOp !== (expressible.length === 3 ? expressible[1] : expressible[2])) {\n      pathTransition = pathTransition.transition()\n        .ease(d3.easeLinear)\n        .duration(150)\n        .attr('opacity', 0)\n        .transition()\n        .ease(d3.easeLinear)\n        .delay(150)\n        .duration(150)\n        .attr('opacity', 0.8);\n    } else {\n      pathTransition = pathTransition\n        .attr('opacity', processed ? 0.8 : 0);\n    }\n\n    const line = d3.path();\n\n    const expressedFormula = expressibleToExpressedFormula(expressible);\n\n    if (expressedFormula.length === 1) {\n      if (expressedFormula[0].length === 1) {\n        if (expressedFormula[0][0][0] === 0) {\n          line.moveTo(xScale(-expressedFormula[0][0][2]), yScale(yScale.domain()[0]));\n          line.lineTo(xScale(-expressedFormula[0][0][2]), yScale(yScale.domain()[1]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(yScale.domain()[1] + 10));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(yScale.domain()[0] - 10));\n          line.closePath();\n          pathTransition.attr('d', line.toString());\n        } else if (expressedFormula[0][0][1] === 0) {\n          line.moveTo(xScale(expressedFormula[0][0][2]), yScale(yScale.domain()[0]));\n          line.lineTo(xScale(expressedFormula[0][0][2]), yScale(yScale.domain()[1]));\n          line.lineTo(xScale(xScale.domain()[0] - 10), yScale(yScale.domain()[1] + 10));\n          line.lineTo(xScale(xScale.domain()[0] - 10), yScale(yScale.domain()[0] - 10));\n          line.closePath();\n          pathTransition.attr('d', line.toString());\n        } else if (expressedFormula[0][0][0] === 1) {\n          line.moveTo(xScale(xScale.domain()[0] - 10), yScale(xScale.domain()[0] - 10 - expressedFormula[0][0][2]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(xScale.domain()[1] + 10 - expressedFormula[0][0][2]));\n          line.lineTo(xScale(xScale.domain()[0] - 10), yScale(yScale.domain()[1] + 10));\n          line.closePath();\n          pathTransition.attr('d', line.toString());\n        } else {\n          line.moveTo(xScale(xScale.domain()[0] - 10), yScale(xScale.domain()[0] - 10 + expressedFormula[0][0][2]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(xScale.domain()[1] + 10 + expressedFormula[0][0][2]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(yScale.domain()[0] - 10));\n          line.closePath();\n          pathTransition.attr('d', line.toString());\n        }\n      } else {\n        if (expressedFormula[0][0][0] === 0) {\n          line.moveTo(xScale(expressedFormula[0][0][2]), yScale(yScale.domain()[0]));\n          line.lineTo(xScale(expressedFormula[0][0][2]), yScale(yScale.domain()[1]));\n          line.lineTo(xScale(xScale.domain()[0] - 10), yScale(yScale.domain()[1] + 10));\n          line.lineTo(xScale(xScale.domain()[0] - 10), yScale(yScale.domain()[0] - 10));\n          line.closePath();\n          line.moveTo(xScale(-expressedFormula[0][1][2]), yScale(yScale.domain()[0]));\n          line.lineTo(xScale(-expressedFormula[0][1][2]), yScale(yScale.domain()[1]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(yScale.domain()[1] + 10));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(yScale.domain()[0] - 10));\n          line.closePath();\n          pathTransition.attr('d', line.toString());\n        } else if (expressedFormula[0][0][1] === 0) {\n          line.moveTo(xScale(-expressedFormula[0][0][2]), yScale(yScale.domain()[0]));\n          line.lineTo(xScale(-expressedFormula[0][0][2]), yScale(yScale.domain()[1]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(yScale.domain()[1] + 10));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(yScale.domain()[0] - 10));\n          line.closePath();\n          line.moveTo(xScale(expressedFormula[0][1][2]), yScale(yScale.domain()[0]));\n          line.lineTo(xScale(expressedFormula[0][1][2]), yScale(yScale.domain()[1]));\n          line.lineTo(xScale(xScale.domain()[0] - 10), yScale(yScale.domain()[1] + 10));\n          line.lineTo(xScale(xScale.domain()[0] - 10), yScale(yScale.domain()[0] - 10));\n          line.closePath();\n          pathTransition.attr('d', line.toString());\n        } else {\n          line.moveTo(xScale(xScale.domain()[0] - 10), yScale(xScale.domain()[0] - 10 + expressedFormula[0][1][2]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(xScale.domain()[1] + 10 + expressedFormula[0][1][2]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(yScale.domain()[0] - 10));\n          line.closePath();\n          line.moveTo(xScale(xScale.domain()[0] - 10), yScale(xScale.domain()[0] - 10 - expressedFormula[0][0][2]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(xScale.domain()[1] + 10 - expressedFormula[0][0][2]));\n          line.lineTo(xScale(xScale.domain()[0] - 10), yScale(yScale.domain()[1] + 10));\n          line.closePath();\n          pathTransition.attr('d', line.toString());\n        }\n      }\n    } else {\n      if (expressedFormula[0][0][0] === 0) {\n        if (expressedFormula[0][0][2] === - expressedFormula[1][0][2]) {\n          line.moveTo(xScale(-expressedFormula[0][0][2]), yScale(yScale.domain()[0] - 10));\n          line.lineTo(xScale(-expressedFormula[0][0][2]), yScale(yScale.domain()[1] + 10));\n        }\n        pathTransition.attr('d', line.toString());\n      } else if (expressedFormula[0][0][1] === 0) {\n        if (expressedFormula[0][0][2] === - expressedFormula[1][0][2]) {\n          line.moveTo(xScale(expressedFormula[0][0][2]), yScale(yScale.domain()[0] - 10));\n          line.lineTo(xScale(expressedFormula[0][0][2]), yScale(yScale.domain()[1] + 10));\n        }\n        pathTransition.attr('d', line.toString());\n      } else {\n        if (expressedFormula[0][0][2] === - expressedFormula[1][0][2]) {\n          line.moveTo(xScale(xScale.domain()[0] - 10), yScale(xScale.domain()[0] - 10 - expressedFormula[0][0][2]));\n          line.lineTo(xScale(xScale.domain()[1] + 10), yScale(xScale.domain()[1] + 10 - expressedFormula[0][0][2]));\n        }\n        pathTransition.attr('d', line.toString());\n      }\n    }\n  }, [expressible, processed, prevOp, prevProcessed, xScale, yScale]);\n\n  return (\n    <svg\n      width={width}\n      height={height}\n      viewBox={`${-width/2} ${-height/2} ${width} ${height}`}\n      ref={ref}\n    />\n  );\n};\n\nexport default PreprocessGraph;\n","import React, { Fragment } from 'react';\n\nimport { expressedFormulaToFragment, expressibleToExpressedFormula, operatorToString } from '../Util';\nimport PreprocessGraph from './PreprocessGraph';\n\nimport './Preprocess.css';\n\ninterface Props {\n  underSAT: boolean;\n}\n\nconst Preprocess: React.FunctionComponent<Props> = ({ underSAT }) => {\n  const [vars, setVars] = React.useState<number>(2);\n  const [op, setOp] = React.useState<Operator>('::<=?');\n  const [r, setR] = React.useState('3');\n  const [processed, setProcessed] = React.useState(false);\n  const handleTypeChange: React.FormEventHandler<HTMLSelectElement> = React.useCallback((e) => {\n    setVars(Number.parseInt(e.currentTarget.value[0], 10));\n    setOp(e.currentTarget.value.slice(1) as Operator);\n  }, [setVars, setOp]);\n  const handleRChange: React.FormEventHandler<HTMLInputElement> = React.useCallback((e) => {\n    setR(e.currentTarget.value);\n  }, [setR]);\n  const handleProcessedChange: React.FormEventHandler<HTMLInputElement> = React.useCallback((e) => {\n    setProcessed(e.currentTarget.checked);\n  }, [setProcessed]);\n  const expressible = React.useMemo<Expressible>(() => vars === 1 ? [1, op, Number.parseFloat(r)] : [1, 2, op, Number.parseFloat(r)], [vars, op, r]);\n\n  return (\n    <div className='Preprocess'>\n      <fieldset className='expression-picker'>\n        <legend>Choose an expression to be converted</legend>\n        <label>\n          Type of operation =\n          <select value={vars + op} onChange={handleTypeChange}>\n            <option label='x₁ - x₂ ≤ r' value='2::<=?' />\n            <option label='x₁ - x₂ < r' value='2::<?' />\n            <option label='x₁ - x₂ ≥ r' value='2::>=?' />\n            <option label='x₁ - x₂ > r' value='2::>?' />\n            { underSAT ? (\n                <Fragment>\n                  <option label='x₁ - x₂ = r' value='2::=?' />\n                  <option label='x₁ - x₂ ≠ r' value='2::<>?' />\n                </Fragment>\n              ) : null\n            }\n            <option label='x₁ ≤ r' value='1::<=?' />\n            <option label='x₁ < r' value='1::<?' />\n            <option label='x₁ ≥ r' value='1::>=?' />\n            <option label='x₁ > r' value='1::>?' />\n            { underSAT ? (\n                <Fragment>\n                  <option label='x₁ = r' value='1::=?' />\n                  <option label='x₁ ≠ r' value='1::<>?' />\n                </Fragment>\n              ) : null\n            }\n          </select>\n        </label>\n        <label>\n          Value of r =\n          <div>\n            <input type='range' min='-5' max='5' step='0.1' value={r} onChange={handleRChange} />\n            <input type='number' min='-5' max='5' value={r} onChange={handleRChange} />\n          </div>\n        </label>\n        <br />\n        <br />\n        <label>\n          Convert? <input type='checkbox' checked={processed} onChange={handleProcessedChange} />\n        </label>\n      </fieldset>\n      <div className='expression-viewer'>\n        Original Expression: x<sub>1</sub> {vars === 2 ? (<Fragment>- x<sub>2</sub></Fragment>) : ''} {`${operatorToString(op)} ${r}`}\n        <br />\n        <span className={processed ? '' : 'invisible'}>Processed Expression: {expressedFormulaToFragment(expressibleToExpressedFormula(expressible))}</span>\n      </div>\n      <PreprocessGraph\n        width={520}\n        height={360}\n        processed={processed}\n        expressible={expressible}\n      />\n    </div>\n  );\n};\n\nexport default Preprocess;\n","import React from 'react';\n\nimport Example1 from './Example1';\nimport Example2 from './Example2';\nimport Example3 from './Example3';\nimport Preprocess from './Preprocess';\n\nconst Section2: React.FunctionComponent = () => {\n  return (\n    <section className='Section Section2'>\n      <h2>Your Focus Determines Your Reality… or Your Solvers</h2>\n      <p><span className='initial'>I</span>t is often tedious to encode a problem entirely in boolean logic, and sometimes there is even a domain-specific solver that is much more efficient than SAT solvers for some parts of your problem, in which case paying SAT encoding cost and introducing NP-complete procedure for the parts can slow down the solution search process significantly. This is why many applications of SAT solvers often use Satisfiability \"Modulo Theory\" (referred as \"SMT\" below) solvers instead. In this article, we introduce the Quantifier-free Integer Difference Logic (\"QFIDL\") and its solver shortly, and describe the details of the integration of such \"external\" solvers with SAT solvers.</p>\n      <section className='Subsection Subsection2-1'>\n        <h3>Quantifier Free Integer Difference Logic (QFIDL)</h3>\n        <p>\n          QFIDL is a system that can solve the following question:\n        </p>\n        <blockquote>\n          Suppose that we have integer variables: <var>x<sub>1</sub></var>, <var>x<sub>2</sub></var>, …, <var>x<sub>n</sub></var> and their constraints in a form of <var>x<sub>i</sub></var> - <var>x<sub>j</sub></var> <var>{'['}op{']'}</var> <var>c</var> or <var>x<sub>i</sub></var> <var>{'['}op{']'}</var> <var>c</var>, where <var>c</var> is a real number constant and <var>{'['}op{']'}</var> is one of <var>{'<'}</var>, <var>{'≤'}</var>, <var>{'>'}</var>, <var>{'≥'}</var>. Will there be an assignment for these integer variables so that they satisfy all the given constraints?\n        </blockquote>\n        <p className='indent'>\n          Actually, we can encode these constraints in an even simpler form:\n        </p>\n        <blockquote>\n          Suppose that we have integer variables: <var>x<sub>1</sub></var>, <var>x<sub>2</sub></var>, …, <var>x<sub>n</sub></var> and their constraints in a form of <var>x<sub>i</sub></var> - <var>x<sub>j</sub></var> <var>≤</var> <var>c</var>, where <var>c</var> is an integer number constant. Will there be an assignment for these integer variables so that they satisfy all the given constraints?\n        </blockquote>\n        <p>\n          Here, we removed the constraints only with one variable, restrict <var>c</var> to be an integer, and limit the operator to the \"less than or equal to\" operator. This form is what QFIDL really solves internally.\n        </p>\n        <p className='indent'>\n          How this simplification is possible? Let{'\\''}s check it in its graphical form:\n        </p>\n        <Preprocess underSAT={false} />\n        <p>\n          As you may have noticed, the area that covered by simplified form is not exactly the same. However, since the variables are actually <em>integer</em> variables, we need to focus on integer lattice points covered by those areas, which faithfully agree with each other.\n        </p>\n        <p className='indent'>\n          One thing worth noting is how we removed one variable constraints. We introduce an auxiliary variable <var>z</var> representing 0, make one variable constraints to two variable constraints with <var>z</var>. We can add this auxiliary variable because (the simple version of) QFIDL always works on a difference of two variables. Thus, once we have an satisfying assignment for the integer variables, we can add or substract the same amount from all variables to get another satisfying assignment. By adjusting the assigned value for <var>z</var> to be 0, we can derive a solution for \"complex\" form of constraints.\n        </p>\n        <p className='indent'>\n          When we use QFIDL alongside SAT solver, we have conjunctions and disjunctions. This allow us to encode more operators. In the above problem, we can change the list of <var>{'['}op{']'}</var> into:\n        </p>\n        <blockquote>\n          … <var>{'['}op{']'}</var> is one of <var>{'<'}</var>, <var>{'≤'}</var>, <var>{'>'}</var>, <var>{'≥'}</var>, <strong><var>{'='}</var></strong>, <strong><var>{'≠'}</var></strong>. …\n        </blockquote>\n        <p>\n          The simplification of these new operators can also be depicted as a graph:\n        </p>\n        <Preprocess underSAT={true} />\n      </section>\n      <section className='Subsection Subsection2-2'>\n        <h3>QFIDL Solver</h3>\n        <p>\n          How can we solve a QFIDL problem? Suppose that we have\n        </p>\n        <blockquote className='math'>\n          <var>x<sub>1</sub></var> - <var>x<sub>2</sub></var> ≤ 4\n          <br />\n          <var>x<sub>2</sub></var> - <var>x<sub>3</sub></var> ≤ 5\n          <br />\n          <var>x<sub>3</sub></var> - <var>x<sub>1</sub></var> ≤ -10\n        </blockquote>\n        <p>\n          We can easily show that there is no satisfying assignment for <var>x<sub>1</sub></var>, <var>x<sub>2</sub></var>, and <var>x<sub>3</sub></var>:\n        </p>\n        <blockquote className='math'>\n          <var>x<sub>1</sub></var> ≤ <var>x<sub>2</sub></var> + 4 ≤ <var>x<sub>3</sub></var> + 9 ≤ <var>x<sub>1</sub></var> - 1\n        </blockquote>\n        <p>\n          i.e., the integer <var>x<sub>1</sub></var> should be smaller than its predecessor, and it is impossible. This procedure can be generalized to any QFIDL problems. We first construct a graph:\n        </p>\n        <Example1 />\n        <p>\n          Here, each node represents a variable, and the special <var>min</var> node represents the minimum variable among all. Each edge represents a difference inequality between two end nodes. For example, when there is an inequality <var>x<sub>1</sub></var> - <var>x<sub>2</sub></var> ≤ 4, we put a edge from the node <var>x<sub>1</sub></var> to the node <var>x<sub>1</sub></var> with the weight of 4.\n        </p>\n        <p className='indent'>\n          Now, we will find shortest path to each node from <var>min</var> node. We used <a href='https://en.wikipedia.org/wiki/Bellman%E2%80%93Ford_algorithm'>Bellman-Ford Algorithm</a> to find the shortest path.\n        </p>\n        <Example2 />\n        <p>\n          After traversing all edges twice, the algorithm finds that there is a negative cycle: <var>x<sub>1</sub></var>-<var>x<sub>2</sub></var>-<var>x<sub>3</sub></var>-<var>x<sub>1</sub></var>. Note that this negative cycle is exactly the sequence we saw in this unsatisfiabilty proof:\n        </p>\n        <blockquote className='math'>\n          <var>x<sub>1</sub></var> ≤ <var>x<sub>2</sub></var> + 4 ≤ <var>x<sub>3</sub></var> + 9 ≤ <var>x<sub>1</sub></var> - 1\n        </blockquote>\n        <p>\n          This is because a negative cycle of the graph encoded in the above-mentioned way appears only when there is such an unsatisfiabilty proof, or rather, it is a direct encoding of an unsatisfiabilty proof. Moreover, this graph method gives a concrete satisfying assignment if there is no negative cycle. Suppose that <var>x<sub>1</sub></var> and <var>x<sub>2</sub></var> have the following constraint:\n        </p>\n        <blockquote className='math'>\n          <var>x<sub>1</sub></var> - <var>x<sub>2</sub></var> ≤ <var>c</var>\n        </blockquote>\n        <p>\n          If <var>d<sub>1</sub></var> and <var>d<sub>2</sub></var> are the shortest path distance to <var>x<sub>1</sub></var> and <var>x<sub>2</sub></var> from <var>min</var>, they should satisfy\n        </p>\n        <blockquote className='math'>\n          - <var>d<sub>1</sub></var> + <var>d<sub>2</sub></var> ≤ <var>c</var>\n        </blockquote>\n        <p>\n          Otherwise, <var>d<sub>1</sub></var> + <var>c</var> is smaller than <var>d<sub>2</sub></var>, and <var>d<sub>2</sub></var> is not the shortest path distance to <var>x<sub>2</sub></var>. In other words, <var>x<sub>1</sub></var> = - <var>d<sub>1</sub></var> and <var>x<sub>2</sub></var> = - <var>d<sub>2</sub></var> should be a satisfying assignment if they are indeed the shortest path distances from <var>min</var>. Here is a satisfiable example:\n        </p>\n        <blockquote className='math'>\n          <var>x<sub>1</sub></var> - <var>x<sub>4</sub></var> ≤ 2\n          <br />\n          <var>x<sub>1</sub></var> - <var>x<sub>2</sub></var> ≤ 4\n          <br />\n          <var>x<sub>2</sub></var> - <var>x<sub>1</sub></var> ≤ -4\n          <br />\n          <var>x<sub>2</sub></var> - <var>x<sub>3</sub></var> ≤ 5\n          <br />\n          <var>x<sub>3</sub></var> - <var>x<sub>4</sub></var> ≤ -1\n        </blockquote>\n        <Example3 />\n        <p>\n          As this example gives the distance -4, 0, 0, -2, the satisfying assignment we can derive from the graph is <var>x<sub>1</sub></var> = 4, <var>x<sub>2</sub></var> = 0, <var>x<sub>3</sub></var> = 0, and <var>x<sub>4</sub></var> = 2. We can check that all the above conditions are met:\n        </p>\n        <blockquote className='math'>\n          <var>x<sub>1</sub></var> - <var>x<sub>4</sub></var> = 4 - 2 ≤ 2\n          <br />\n          <var>x<sub>1</sub></var> - <var>x<sub>2</sub></var> = 4 - 0 ≤ 4\n          <br />\n          <var>x<sub>2</sub></var> - <var>x<sub>1</sub></var> = 0 - 4 ≤ -4\n          <br />\n          <var>x<sub>2</sub></var> - <var>x<sub>3</sub></var> = 0 - 0 ≤ 5\n          <br />\n          <var>x<sub>3</sub></var> - <var>x<sub>4</sub></var> = 0 - 2 ≤ -1\n        </blockquote>\n      </section>\n    </section>\n  );\n};\n\nexport default Section2;\n","import React, { Fragment } from 'react';\n\nimport { useSatyrosAPI } from '../hook/useSatyrosAPI';\nimport { expressedFormulaToFragment } from '../Util';\n\nconst f: FormulaLike<Expressible> =\n  [\n    [\n      [1, 4, '::>=?', 4],\n      [4, 1, '::>=?', 5],\n    ],\n    [\n      [4, 5, '::>=?', 4],\n      [5, 4, '::>=?', 4],\n    ],\n    [\n      [5, 1, '::>=?', 5],\n      [1, 5, '::>=?', 4],\n    ],\n    [\n      [2, 3, '::>=?', 1],\n      [3, 2, '::>=?', 2],\n    ],\n    [\n      [1, '::>=?', 0],\n    ],\n    [\n      [1, '::<=?', 13 - 5],\n    ],\n    [\n      [2, '::>=?', 0],\n    ],\n    [\n      [2, '::<=?', 13 - 2],\n    ],\n    [\n      [3, '::>=?', 0],\n    ],\n    [\n      [3, '::<=?', 13 - 1],\n    ],\n    [\n      [4, '::>=?', 0],\n    ],\n    [\n      [4, '::<=?', 13 - 4],\n    ],\n    [\n      [5, '::>=?', 0],\n    ],\n    [\n      [5, '::<=?', 13 - 4],\n    ],\n  ];\n\nconst Example4: React.FunctionComponent = () => {\n  const satyrosAPI = useSatyrosAPI(f);\n\n  if (satyrosAPI === undefined) {\n    return null;\n  } else {\n    const ef = satyrosAPI.expressedFormula;\n\n    return (\n      <Fragment>\n        {expressedFormulaToFragment(ef, true)}\n      </Fragment>\n    );\n  }\n};\n\nexport default Example4;\n","import * as d3 from 'd3';\nimport React from 'react';\n\nimport { haskellCallWrapper } from '../Util';\n\ninterface Props {\n  width: number;\n  height: number;\n  formula: Formula;\n  assignmentAPI: SatyrosAssignmentAPI;\n  update: number;\n}\n\nconst ClauseDB: React.FunctionComponent<Props> = ({\n  width, height, formula, assignmentAPI, update,\n}) => {\n  const variableMap = React.useMemo(() => new Map(haskellCallWrapper(assignmentAPI.getValueMapList)[0]), [assignmentAPI, update]);\n  const clauseMap = React.useMemo(() =>  new Map(haskellCallWrapper(assignmentAPI.getValueOfClauseMapList)[0]), [assignmentAPI, update]);\n  const ref = React.useRef<SVGSVGElement>(null);\n  const textFill = React.useCallback((v) => d3.schemeSet2[v === undefined ? 7 : v ? 0 : 1], []);\n  const textShadeFill = React.useCallback((v) => d3.schemePastel2[v === undefined ? 7 : v ? 0 : 1], []);\n  const literalFill = React.useCallback(d => {\n    if (typeof d === 'string') {\n      return textFill(undefined);\n    }\n    const v = variableMap.get(Math.abs(d));\n    return textFill(v === undefined ? undefined : (v[0] === (d > 0)));\n  }, [textFill, variableMap]);\n  const literalShadeFill = React.useCallback(d => {\n    if (typeof d === 'string') {\n      return textShadeFill(undefined);\n    }\n    const v = variableMap.get(Math.abs(d));\n    return textShadeFill(v === undefined ? undefined : (v[0] === (d > 0)));\n  }, [textShadeFill, variableMap]);\n  const clauseFill = React.useCallback((_d, i) => {\n    const v = clauseMap.get(i);\n    return textFill(v ?? undefined);\n  }, [textFill, clauseMap]);\n  const clauseShadeFill = React.useCallback((_d, i) => {\n    const v = clauseMap.get(i);\n    return textShadeFill(v ?? undefined);\n  }, [textShadeFill, clauseMap]);\n  const formulaFill = React.useCallback(() => {\n    const v = haskellCallWrapper<[boolean | null]>(cb => assignmentAPI.getValueOfFormula(cb))[0];\n    return textFill(v ?? undefined);\n  }, [textFill, assignmentAPI]);\n  const formulaShadeFill = React.useCallback(() => {\n    const v = haskellCallWrapper<[boolean | null]>(cb => assignmentAPI.getValueOfFormula(cb))[0];\n    return textShadeFill(v ?? undefined);\n  }, [textShadeFill, assignmentAPI]);\n\n  React.useEffect(() => {\n    const svg = d3.select(ref.current);\n    const g = svg.append('g')\n      .attr('transform', 'translate(0, 30)');\n\n    const content = g.append('g')\n      .attr('transform', 'translate(10, 10)')\n      .attr('font-size', '14px');\n\n    const bbox = content.node()?.getBBox()\n\n    g.append('rect')\n      .attr('stroke', `${d3.schemeAccent[7]}`)\n      .attr('stroke-width', '1')\n      .attr('fill', 'none')\n      .attr('x', (bbox?.x ?? -1) + 1)\n      .attr('y', (bbox?.y ?? -1) + 1)\n      .attr('width', (bbox?.width ?? -18) + 18)\n      .attr('height', (bbox?.height ?? -18) + 18);\n  }, []);\n\n  React.useEffect(() => {\n    const g = d3.select(ref.current).select<SVGGElement>('g');\n\n    const content = g.select<SVGGElement>('g');\n\n    content.selectChildren('text.clause-db-formula')\n      .data([0])\n      .join(\n        enter => {\n          const g = enter.append('g')\n            .classed('clause-db-formula', true);\n\n          const text = g.append('text')\n            .text('f')\n            .classed('clause-db-formula-text', true);\n\n          text.transition()\n            .duration(500)\n            .attr('fill', formulaFill)\n            .attr('stroke', formulaFill);\n\n          text.clone(true).lower()\n            .classed('clause-db-formula-text', false)\n            .classed('clause-db-formula-text-shade', true)\n            .transition()\n            .duration(500)\n            .attr('fill', formulaShadeFill)\n            .attr('stroke', formulaShadeFill);\n\n          return text;\n        },\n        update => {\n          update.each(function () {\n            d3.select(this)\n              .selectChild('text.clause-db-formula-text')\n              .transition()\n              .duration(500)\n              .attr('fill', formulaFill)\n              .attr('stroke', formulaFill);\n\n            d3.select(this)\n              .selectChild('text.clause-db-formula-text-shade')\n              .transition()\n              .duration(500)\n              .attr('fill', formulaShadeFill)\n              .attr('stroke', formulaShadeFill);\n          })\n\n          return update;\n        }\n      );\n\n    content.selectChildren('g.clause-db-list')\n      .data(formula, d => JSON.stringify(d))\n      .join(\n        enter => {\n          const g = enter.append('g')\n            .classed('clause-db-list', true)\n            .attr('opacity', 0)\n            .attr('transform', (_d, i) => `translate(0, ${i * 30 + 30})`);\n          g.transition().attr('opacity', 1);\n\n          g.append('text')\n            .classed('clause-db-clause', true)\n            .text((_d, i) => `c${i}`)\n            .attr('stroke', clauseFill)\n            .attr('fill', clauseFill)\n            .clone(true).lower()\n            .classed('clause-db-clause', false)\n            .classed('clause-db-clause-shade', true)\n            .attr('stroke-width', 2)\n            .attr('stroke', clauseShadeFill)\n            .attr('fill', clauseShadeFill);\n\n          g.append('text')\n            .classed('clause-db-clause-equal', true)\n            .attr('x', 30)\n            .text('=');\n\n          return g;\n        },\n        update => {\n          update.each(function (_d, i) {\n            d3.select(this)\n              .selectChild('text.clause-db-clause')\n              .transition()\n              .duration(500)\n              .attr('fill', clauseFill(_d, i))\n              .attr('stroke', clauseFill(_d, i));\n\n            d3.select(this)\n              .selectChild('text.clause-db-clause-shade')\n              .transition()\n              .duration(500)\n              .attr('fill', clauseShadeFill(_d, i))\n              .attr('stroke', clauseShadeFill(_d, i));\n          });\n\n          return update;\n        },\n      )\n      .each(function (d) {\n        const g = d3.select(this).datum(d);\n\n        g.selectChildren('g.clause-db-literal')\n          .data(([d0, ...d]) => d.reduce<(number | string)[]>((acc, v) => [...acc, '∨', v], [d0]), d => JSON.stringify(d))\n          .join(\n            enter => {\n              const texts = enter.append('g')\n                .classed('clause-db-literal', true);\n\n              texts\n                .append('text')\n                .classed('clause-db-literal-text', true)\n                .text(d => typeof d === 'string' ? d : d > 0 ? `b${d}` : `¬b${-d}`)\n                .attr('x', (_d, i) => i * 30 + 80)\n                .attr('text-anchor', 'end')\n                .attr('stroke', literalFill)\n                .attr('fill', literalFill)\n                .clone(true).lower()\n                .classed('clause-db-literal-text', false)\n                .classed('clause-db-literal-text-shade', true)\n                .attr('stroke-width', 2)\n                .attr('stroke', literalShadeFill)\n                .attr('fill', literalShadeFill);\n\n              return texts;\n            }\n          );\n\n        g.selectAll('.clause-db-literal-text')\n          .transition()\n          .duration(750)\n          .attr('stroke', literalFill)\n          .attr('fill', literalFill)\n\n        g.selectAll('.clause-db-literal-text-shade')\n          .transition()\n          .duration(750)\n          .attr('stroke', literalShadeFill)\n          .attr('fill', literalShadeFill);\n      });\n\n    const bbox = content.node()?.getBBox();\n\n    g.select('rect')\n      .attr('x', (bbox?.x ?? - 1) + 1)\n      .attr('y', (bbox?.y ?? - 1) + 1)\n      .attr('width', (bbox?.width ?? -18) + 18)\n      .attr('height', (bbox?.height ?? -18) + 18);\n  }, [clauseFill, clauseShadeFill, formulaFill, formulaShadeFill, literalFill, literalShadeFill, formula, assignmentAPI, update]);\n\n  React.useEffect(() => {\n    const svg = d3.select(ref.current);\n\n    return () => {\n      svg.selectAll('g').remove();\n    };\n  }, []);\n\n  return (\n    <svg\n      width={width}\n      height={height}\n      viewBox={`0 0 ${width} ${height}`}\n      ref={ref}\n    />\n  );\n};\n\nexport default ClauseDB;\n","import React from 'react';\n\nimport { useSatyrosAPI } from '../hook/useSatyrosAPI';\nimport ClauseDB from './ClauseDB';\n\nconst f: FormulaLike<Expressible> =\n  [\n    [\n      [1, 4, '::>=?', 4],\n      [4, 1, '::>=?', 5],\n    ],\n    [\n      [4, 5, '::>=?', 4],\n      [5, 4, '::>=?', 4],\n    ],\n    [\n      [5, 1, '::>=?', 5],\n      [1, 5, '::>=?', 4],\n    ],\n    [\n      [2, 3, '::>=?', 1],\n      [3, 2, '::>=?', 2],\n    ],\n    [\n      [1, '::>=?', 0],\n    ],\n    [\n      [1, '::<=?', 13 - 5],\n    ],\n    [\n      [2, '::>=?', 0],\n    ],\n    [\n      [2, '::<=?', 13 - 2],\n    ],\n    [\n      [3, '::>=?', 0],\n    ],\n    [\n      [3, '::<=?', 13 - 1],\n    ],\n    [\n      [4, '::>=?', 0],\n    ],\n    [\n      [4, '::<=?', 13 - 4],\n    ],\n    [\n      [5, '::>=?', 0],\n    ],\n    [\n      [5, '::<=?', 13 - 4],\n    ],\n  ];\n\nconst Example5: React.FunctionComponent = () => {\n  const satyrosAPI = useSatyrosAPI(f);\n\n  if (satyrosAPI === undefined) {\n    return null;\n  } else {\n    const formula = satyrosAPI.initialFormula;\n\n    return (\n      <div style={{ display: 'block', width: 160, margin: '0 auto' }}>\n        <ClauseDB\n          width={160}\n          height={500}\n          formula={formula}\n          assignmentAPI={{ getValueMapList(cb) { cb([]); }, getValue(_v, cb) { cb(null); }, getValueOfClauseMapList(cb) { cb([]); }, getValueOfClause(_i, cb) { cb(null); }, getValueOfFormula(cb) { cb(null); } }}\n          update={0}\n        />\n      </div>\n    );\n  }\n};\n\nexport default Example5;\n","import * as d3 from 'd3';\nimport React from 'react';\n\nimport { haskellCallWrapper } from '../Util';\n\ninterface Props {\n  width: number;\n  height: number;\n  conversionTable: SatyrosConversionTable;\n  assignmentAPI: SatyrosAssignmentAPI;\n  update: number;\n  onClick?(d: [number, [Expressed, number][]]): void;\n}\n\nconst ConversionTable: React.FunctionComponent<Props> = ({\n  width, height, conversionTable, assignmentAPI, update, onClick\n}) => {\n  const variableMap = React.useMemo(() => new Map(haskellCallWrapper(assignmentAPI.getValueMapList)[0]), [assignmentAPI, update]);\n  const ref = React.useRef<SVGSVGElement>(null);\n  const textFill = React.useCallback((v) => d3.schemeSet2[v === undefined ? 7 : v ? 0 : 1], []);\n  const textShadeFill = React.useCallback((v) => d3.schemePastel2[v === undefined ? 7 : v ? 0 : 1], []);\n  const variableFill = React.useCallback(d => {\n    const v = variableMap.get(d[0]);\n    return textFill(v?.[0]);\n  }, [textFill, variableMap]);\n  const variableShadeFill = React.useCallback(d => {\n    const v = variableMap.get(d[0]);\n    return textShadeFill(v?.[0]);\n  }, [textShadeFill, variableMap]);\n  const expressedFill = React.useCallback(d => {\n    const v = variableMap.get(Math.abs(d[1]));\n    return textFill(v === undefined || v[0] === (d[1] < 0) ? undefined : v[0]);\n  }, [textFill, variableMap]);\n  const expressedShadeFill = React.useCallback(d => {\n    const v = variableMap.get(Math.abs(d[1]));\n    return textShadeFill(v === undefined || v[0] === (d[1] < 0) ? undefined : v[0]);\n  }, [textShadeFill, variableMap]);\n\n  React.useEffect(() => {\n    const svg = d3.select(ref.current);\n    const g = svg.append('g');\n\n    const content = g.append('g')\n      .attr('transform', 'translate(10, 10)');\n\n    const bbox = content.node()?.getBBox()\n\n    g.append('rect')\n      .attr('stroke', `${d3.schemeAccent[7]}`)\n      .attr('stroke-width', '1')\n      .attr('fill', 'none')\n      .attr('x', (bbox?.x ?? -1) + 1)\n      .attr('y', (bbox?.y ?? -1) + 1)\n      .attr('width', (bbox?.width ?? -18) + 18)\n      .attr('height', (bbox?.height ?? -18) + 18);\n  }, []);\n\n  React.useEffect(() => {\n    const g = d3.select(ref.current).select<SVGGElement>('g');\n\n    const content = g.select<SVGGElement>('g');\n\n    content.selectChildren<SVGGElement, [number, [Expressed, number][]]>('g')\n      .data(d3.sort(d3.groups(conversionTable.expressedToLiteral, d => Math.abs(d[1])), d => d[0]))\n      .join(\n        enter => {\n          const g = enter.append('g');\n\n          g.append('text')\n            .classed('conversion-variable', true)\n            .on('click', (_e, d) => {\n              onClick?.(d);\n            })\n            .text(d => `b${d[0]}`)\n            .attr('text-anchor', 'start')\n            .attr('y', 30)\n            .attr('font-size', '14px')\n            .attr('fill', variableFill)\n            .attr('stroke', variableFill)\n            .clone(true).lower()\n            .classed('conversion-variable', false)\n            .classed('conversion-variable-shade', true)\n            .attr('stroke-width', 2)\n            .attr('fill', variableShadeFill)\n            .attr('stroke', variableShadeFill);\n\n          return g;\n        },\n        update => {\n          update.selectChildren<SVGTextElement, [number, [Expressed, number][]]>('text.conversion-variable')\n            .attr('fill', variableFill)\n            .attr('stroke', variableFill);\n\n          update.selectChildren<SVGTextElement, [number, [Expressed, number][]]>('text.conversion-variable-shade')\n            .attr('fill', variableShadeFill)\n            .attr('stroke', variableShadeFill);\n\n          return update;\n        },\n      )\n      .attr('transform', (_d, i) => `translate(${(i % 3) * 160}, ${(i / 3 | 0) * 80})`);\n\n    content.selectChildren<SVGGElement, [number, [Expressed, number][]]>('g')\n      .selectChildren<SVGGElement, [Expressed, number]>('g.conversion-expressed')\n      .data(d => d3.sort(d[1], d => d[1] < 0), d => d[1])\n      .join(\n        enter => {\n          const g = enter.append('g').classed('conversion-expressed', true);\n\n          g.append('text').classed('conversion-expressed-text', true)\n            .text(d => `x${d[0][0]} - x${d[0][1]} ≤ ${d[0][2]}`)\n            .attr('text-anchor', 'start')\n            .attr('x', 40)\n            .attr('y', (_d, i) => i * 30 + 30)\n            .attr('font-size', '14px')\n            .attr('stroke', expressedFill)\n            .attr('fill', expressedFill)\n            .clone(true).lower()\n            .classed('conversion-expressed-text', false)\n            .classed('conversion-expressed-text-shade', true)\n            .attr('stroke-width', 2)\n            .attr('stroke', expressedShadeFill)\n            .attr('fill', expressedShadeFill);\n\n          return g;\n        },\n        update => {\n          update.selectChildren<SVGTextElement, [Expressed, number]>('text.conversion-expressed-text')\n            .attr('stroke', expressedFill)\n            .attr('fill', expressedFill);\n\n          update.selectChildren<SVGTextElement, [Expressed, number]>('text.conversion-expressed-text-shade')\n            .attr('stroke', expressedShadeFill)\n            .attr('fill', expressedShadeFill);\n\n          return update;\n        },\n      );\n\n    const bbox = content.node()?.getBBox();\n\n    g.select('rect')\n      .attr('x', (bbox?.x ?? - 1) + 1)\n      .attr('y', (bbox?.y ?? - 1) + 1)\n      .attr('width', (bbox?.width ?? -18) + 18)\n      .attr('height', (bbox?.height ?? -18) + 18);\n  }, [variableFill, variableShadeFill, expressedFill, expressedShadeFill, conversionTable, update, onClick]);\n\n  React.useEffect(() => {\n    const svg = d3.select(ref.current);\n\n    return () => {\n      svg.selectAll('g').remove();\n    };\n  }, []);\n\n  return (\n    <svg\n      width={width}\n      height={height}\n      viewBox={`0 0 ${width} ${height}`}\n      ref={ref}\n    />\n  );\n};\n\nexport default ConversionTable;\n","import * as d3 from 'd3';\nimport React from 'react';\n\nimport { useSatyrosAPI } from '../hook/useSatyrosAPI';\nimport ConversionTable from './ConversionTable';\n\nconst f: FormulaLike<Expressible> =\n  [\n    [\n      [1, 4, '::>=?', 4],\n      [4, 1, '::>=?', 5],\n    ],\n    [\n      [4, 5, '::>=?', 4],\n      [5, 4, '::>=?', 4],\n    ],\n    [\n      [5, 1, '::>=?', 5],\n      [1, 5, '::>=?', 4],\n    ],\n    [\n      [2, 3, '::>=?', 1],\n      [3, 2, '::>=?', 2],\n    ],\n    [\n      [1, '::>=?', 0],\n    ],\n    [\n      [1, '::<=?', 13 - 5],\n    ],\n    [\n      [2, '::>=?', 0],\n    ],\n    [\n      [2, '::<=?', 13 - 2],\n    ],\n    [\n      [3, '::>=?', 0],\n    ],\n    [\n      [3, '::<=?', 13 - 1],\n    ],\n    [\n      [4, '::>=?', 0],\n    ],\n    [\n      [4, '::<=?', 13 - 4],\n    ],\n    [\n      [5, '::>=?', 0],\n    ],\n    [\n      [5, '::<=?', 13 - 4],\n    ],\n  ];\n\nconst Example6: React.FunctionComponent = () => {\n  const satyrosAPI = useSatyrosAPI(f);\n  const [ctVersion, setCtVersion] = React.useState<number>(0);\n  const pseudoAssignment = React.useRef(new Map<number, [boolean, Clause]>());\n  const pseudoAssignmentAPI = React.useMemo<SatyrosAssignmentAPI>(() => ({\n    getValueMapList(cb) {\n      cb(Array.from(pseudoAssignment.current.entries()));\n    },\n    getValue(v, cb) {\n      cb(pseudoAssignment.current.get(v) ?? null);\n    },\n    getValueOfClauseMapList(cb) {\n      cb([]);\n    },\n    getValueOfClause(_i, cb) {\n      cb(null);\n    },\n    getValueOfFormula(cb) {\n      cb(null);\n    },\n  }), [pseudoAssignment]);\n  const handleClick = React.useCallback((d: [number, [Expressed, number][]]) => {\n    const v = pseudoAssignment.current.get(d[0])?.[0];\n    if (v === undefined) {\n      pseudoAssignment.current.set(d[0], [true, []]);\n    } else if (v) {\n      pseudoAssignment.current.set(d[0], [false, []]);\n    } else {\n      pseudoAssignment.current.delete(d[0]);\n    }\n    setCtVersion(s => s + 1);\n  }, [pseudoAssignment, setCtVersion]);\n\n  if (satyrosAPI === undefined) {\n    return null;\n  } else {\n    return (\n      <div style={{ display: 'block', width: 462, margin: '0 auto' }}>\n        <div style={{ display: 'block', padding: '3px', border: 'solid 1px', borderColor: d3.schemeAccent[7], textAlign: 'center' }}><span style={{ color: d3.schemeSet2[7], margin: '0 1em' }}>Unassigned</span> <span style={{ color: d3.schemeSet2[0], margin: '0 1em' }}>True</span> <span style={{ color: d3.schemeSet2[1], margin: '0 1em' }}>False</span></div>\n        <ConversionTable\n          width={462}\n          height={500}\n          conversionTable={satyrosAPI.conversionTable}\n          assignmentAPI={pseudoAssignmentAPI}\n          onClick={handleClick}\n          update={ctVersion}\n        />\n      </div>\n    );\n  }\n};\n\nexport default Example6;\n","import React, { Fragment } from 'react';\n\nimport { useSatyrosAPI } from '../hook/useSatyrosAPI';\nimport { haskellCallWrapper } from '../Util';\nimport ClauseDB from './ClauseDB';\nimport ConversionTable from './ConversionTable';\n\nconst f: FormulaLike<Expressible> =\n  [\n    [\n      [1, 4, '::>=?', 4],\n      [4, 1, '::>=?', 5],\n    ],\n    [\n      [4, 5, '::>=?', 4],\n      [5, 4, '::>=?', 4],\n    ],\n    [\n      [5, 1, '::>=?', 5],\n      [1, 5, '::>=?', 4],\n    ],\n    [\n      [2, 3, '::>=?', 1],\n      [3, 2, '::>=?', 2],\n    ],\n    [\n      [1, '::>=?', 0],\n    ],\n    [\n      [1, '::<=?', 13 - 5],\n    ],\n    [\n      [2, '::>=?', 0],\n    ],\n    [\n      [2, '::<=?', 13 - 2],\n    ],\n    [\n      [3, '::>=?', 0],\n    ],\n    [\n      [3, '::<=?', 13 - 1],\n    ],\n    [\n      [4, '::>=?', 0],\n    ],\n    [\n      [4, '::<=?', 13 - 4],\n    ],\n    [\n      [5, '::>=?', 0],\n    ],\n    [\n      [5, '::<=?', 13 - 4],\n    ],\n  ];\n\nconst Example7: React.FunctionComponent = () => {\n  const satyrosAPI = useSatyrosAPI(f);\n\n  if (satyrosAPI === undefined) {\n    return null;\n  } else {\n    const formula = haskellCallWrapper(satyrosAPI.getFormula)[0];\n\n    return (\n      <Fragment>\n        <div style={{ display: 'block', width: 160, margin: '0 auto' }}>\n          <ClauseDB\n            width={160}\n            height={200}\n            formula={formula}\n            assignmentAPI={satyrosAPI.assignment}\n            update={0}\n          />\n        </div>\n        <div style={{ display: 'block', width: 462, margin: '0 auto' }}>\n          <ConversionTable\n            width={462}\n            height={500}\n            conversionTable={satyrosAPI.conversionTable}\n            assignmentAPI={satyrosAPI.assignment}\n            update={0}\n          />\n        </div>\n      </Fragment>\n    );\n  }\n};\n\nexport default Example7;\n","import * as d3 from 'd3';\nimport React from 'react';\n\nimport { useForceGraph } from '../hook/useForceGraph';\n\ninterface Props {\n  readonly width: number;\n  readonly height: number;\n  readonly nodes: SatyrosImplicationVertex[];\n  readonly links: SatyrosImplicationEdge[];\n}\n\ninterface SimulationNode extends d3.SimulationNodeDatum {\n  id: number;\n  value: boolean;\n  isDecision: boolean;\n  level: number;\n}\n\ninterface SimulationLink extends d3.SimulationLinkDatum<SimulationNode> {\n  id: string;\n  levelDiff: number;\n  clauseIndex: number;\n}\n\nexport const ImplicationGraph: React.FunctionComponent<Props> = ({\n  width, height, nodes, links\n}) => {\n  const ref = React.useRef<SVGSVGElement>(null);\n\n  const simulationNodes = React.useMemo(() => {\n    return nodes.map(({\n      variable, value, isDecision, level,\n    }): SimulationNode => ({\n      id: variable, value, isDecision, level,\n    }));\n  }, [nodes]);\n\n  const simulationLinks = React.useMemo(() => {\n    return links.map(({\n      startVertex, endVertex, levelDiff, clauseIndex,\n    }): SimulationLink => ({\n      id: `${startVertex},${endVertex}`,\n      source: startVertex,\n      target: endVertex,\n      levelDiff,\n      clauseIndex,\n    }));\n  }, [links]);\n\n  useForceGraph({\n    id: 'implication',\n    width,\n    height,\n    nodes: simulationNodes,\n    links: simulationLinks,\n    ref: ref.current,\n    nodeId: d => d.id,\n    nodeShape: d => d.isDecision ? 'rect' : 'circle',\n    nodeText: d => `b${d.id}@${d.level}`,\n    nodeFill: d => d3.schemePastel2[d.value ? 0 : 1],\n    nodeFillNew: d => d3.schemeSet2[d.value ? 0 : 1],\n    linkId: d => d.id,\n    linkDistance: d => d.levelDiff * 20 + 50,\n    linkText: d => `c${d.clauseIndex}`,\n    linkStroke: d3.schemeSet2[7],\n    linkStrokeNew: d3.schemeAccent[7],\n  });\n\n  return (\n    <svg\n      width={width}\n      height={height}\n      viewBox={`${- width / 2} ${- height / 2} ${width} ${height}`}\n      ref={ref}\n    />\n  );\n};\n","import * as d3 from 'd3';\nimport React, { Fragment, useMemo } from 'react';\n\nimport { useSatyrosAPI } from '../hook/useSatyrosAPI';\nimport { ImplicationGraph } from './ImplicationGraph';\nimport { BellmanFordGraph } from './BellmanFordGraph';\nimport { stepsExcept, haskellCallWrapper, undosExcept } from '../Util';\nimport ConversionTable from './ConversionTable';\nimport ClauseDB from './ClauseDB';\n\nconst f: FormulaLike<Expressible> =\n  [\n    [\n      [1, 4, '::>=?', 4],\n      [4, 1, '::>=?', 5],\n    ],\n    [\n      [4, 5, '::>=?', 4],\n      [5, 4, '::>=?', 4],\n    ],\n    [\n      [5, 1, '::>=?', 5],\n      [1, 5, '::>=?', 4],\n    ],\n    [\n      [2, 3, '::>=?', 1],\n      [3, 2, '::>=?', 2],\n    ],\n    [\n      [1, '::>=?', 0],\n    ],\n    [\n      [1, '::<=?', 13 - 5],\n    ],\n    [\n      [2, '::>=?', 0],\n    ],\n    [\n      [2, '::<=?', 13 - 2],\n    ],\n    [\n      [3, '::>=?', 0],\n    ],\n    [\n      [3, '::<=?', 13 - 1],\n    ],\n    [\n      [4, '::>=?', 0],\n    ],\n    [\n      [4, '::<=?', 13 - 4],\n    ],\n    [\n      [5, '::>=?', 0],\n    ],\n    [\n      [5, '::<=?', 13 - 4],\n    ],\n  ];\n\nconst TrueText: React.FunctionComponent<{ style?: React.CSSProperties }> = ({ style, children }) => {\n  return (\n    <span style={{ color: d3.schemeSet2[0], ...style }}>{ children }</span>\n  );\n};\n\nconst FalseText: React.FunctionComponent<{ style?: React.CSSProperties }> = ({ style, children }) => {\n  return (\n    <span style={{ color: d3.schemeSet2[1], ...style }}>{ children }</span>\n  );\n};\n\nconst Example8: React.FunctionComponent = () => {\n  const satyrosAPI = useSatyrosAPI(f);\n  const [stage, setStage] = React.useState<number>(0);\n  const [implicationNodes, setImplicationNodes] = React.useState<SatyrosImplicationVertex[]>([]);\n  const [implicationLinks, setImplicationLinks] = React.useState<SatyrosImplicationEdge[]>([]);\n  const [bellmanFordNodes, setBellmanFordNodes] = React.useState<SatyrosBellmanFordVertex[]>([]);\n  const [bellmanFordLinks, setBellmanFordLinks] = React.useState<SatyrosBellmanFordEdge[]>([]);\n  const [ctVersion, setCtVersion] = React.useState<number>(0);\n  const [fVersion, setFVersion] = React.useState<number>(0);\n  const conversion = useMemo(() => satyrosAPI?.conversionTable, [satyrosAPI]);\n  const formula = useMemo(() => satyrosAPI !== undefined ? haskellCallWrapper(satyrosAPI!.getFormula)[0] : undefined, [satyrosAPI, fVersion]);\n\n  const updateState = React.useCallback(() => {\n    setCtVersion(s => s + 1);\n    setFVersion(s => s + 1);\n    satyrosAPI!.getImplicationGraph((ns, ls) => {\n      setImplicationNodes(ns);\n      setImplicationLinks(ls);\n    });\n    satyrosAPI!.getBellmanFordGraph((ns, ls) => {\n      setBellmanFordNodes(ns);\n      setBellmanFordLinks(ls);\n    });\n  }, [satyrosAPI]);\n  const step = React.useCallback(() => {\n    switch (stage) {\n      case 0:\n        setStage(s => s + 1);\n        satyrosAPI!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI!.step(cb);\n          },\n          {\n            DecisionComplete() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 16:\n        setStage(s => s + 1);\n        satyrosAPI!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI!.step(cb);\n          },\n          {\n            PropagationNth() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 17:\n        setStage(s => s + 1);\n        satyrosAPI!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI!.step(cb);\n          },\n          {\n            BCPConflictDrivenClause() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 196:\n        setStage(s => s + 1);\n        satyrosAPI!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI!.step(cb);\n          },\n          {\n            BacktraceComplete() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 197:\n        setStage(s => s + 1);\n        satyrosAPI!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI!.step(cb);\n          },\n          {\n            PropagationNth() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 200:\n        setStage(s => s + 1);\n        satyrosAPI!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI!.step(cb);\n          },\n          {\n            BacktraceComplete() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 345:\n        setStage(s => s + 1);\n        satyrosAPI!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI!.step(cb);\n          },\n          {\n            PropagationNth() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 353:\n        setStage(s => s + 1);\n        satyrosAPI!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI!.step(cb);\n          },\n          {\n            Finish() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      default:\n        console.log('WTF?');\n        break;\n    }\n  }, [satyrosAPI, stage, updateState]);\n  const undo = React.useCallback(() => {\n    const stages = [0, 16, 17, 196, 197, 200, 345, 353, 490];\n    const stageIndex = stages.indexOf(stage);\n    let localCounter = stages[stageIndex] - stages[stageIndex - 1];\n    setStage(s => s - 1);\n    satyrosAPI!.undo(undosExcept(\n      cb => {\n        localCounter--;\n        if (localCounter !== 0) {\n          setStage(s => s - 1);\n          satyrosAPI!.undo(cb);\n        } else {\n          updateState();\n        }\n      },\n      {\n        Start() {\n          updateState();\n        }\n      },\n    ));\n  }, [satyrosAPI, stage, updateState]);\n  const reset = React.useCallback(() => {\n    satyrosAPI!.reset();\n    setStage(0);\n    setImplicationNodes([]);\n    setImplicationLinks([]);\n    setBellmanFordNodes([]);\n    setBellmanFordLinks([]);\n  }, [satyrosAPI]);\n  const text = React.useMemo<React.ReactNode>(() => {\n    switch (stage) {\n      case 0: return 'Let\\'s start with SAT solver.';\n      case 16: return <Fragment>SAT Solver picks <FalseText><var>b1</var> (false)</FalseText>, <TrueText><var>b3</var> (true)</TrueText>, <TrueText><var>b8</var> (true)</TrueText>, <TrueText><var>b7</var> (true)</TrueText>, <FalseText><var>b5</var> (false)</FalseText>, and <TrueText><var>b4</var> (true)</TrueText> in the order, and this determines values of all boolean variables. Now, we can run QFIDL with the expression highlighted in the conversion table.</Fragment>;\n      case 17: return <Fragment>First, we construct a graph. Here, I omitted the <var>min</var> node as its edges are obvious. Now, we apply Bellman-Ford algorithm to find minimum distances…</Fragment>;\n      case 196: return <Fragment>Oops! we find a negative cycle. Two edges between <var>x4</var> and <var>x5</var> caused the cycle.</Fragment>;\n      case 197: return <Fragment>We translated this cycle into a SAT conflict, ¬<var>b4</var> ∨ ¬<var>b3</var>, and revert the recent-most decision, <TrueText><var>b4</var> (true)</TrueText>.</Fragment>;\n      case 200: return <Fragment>Now we derived <FalseText><var>b4</var> (false)</FalseText> instead. Does this allow us to find minimum distances?</Fragment>;\n      case 345: return <Fragment>Unfortunately, our graph still has a negative cycle. Two edges between <var>x2</var> and <var>x3</var> caused the cycle, so we block it like ¬<var>b8</var> ∨ ¬<var>b7</var> and go back to the level where we assigned <TrueText><var>b7</var> (true)</TrueText>.</Fragment>;\n      case 353: return <Fragment>With <FalseText><var>b7</var> (false)</FalseText>, can we find minimum distances?</Fragment>;\n      case 490: return <Fragment>Yes! We can find! This gives us <var>x1</var> = 4, <var>x2</var> = 0, <var>x3</var> = 2, <var>x4</var> = 9, <var>x5</var> = 0.</Fragment>;\n      default: return 'NYI…';\n    }\n  }, [stage]);\n\n  if (satyrosAPI === undefined) {\n    return null;\n  } else {\n    return (\n      <div style={{ position: 'relative', height: 1000 + 120 }}>\n        <div style={{ height: 100, boxSizing: 'border-box', border: '1px black solid', padding: 10, margin: '10px auto' }}>{text}</div>\n        <div style={{ position: 'absolute', left: '50%', top: 120, transform: 'translate(-450px, 0)', width: 1000, margin: '0 auto' }}>\n        <div style={{ display: 'block', width: 500, padding: '3px', border: 'solid 1px', borderColor: d3.schemeAccent[7], textAlign: 'center' }}><div style={{ display: 'inline-block', verticalAlign: 'middle' }}>{'<'}name{'>'}@{'<'}level{'>'}</div><div style={{ display: 'inline-block', verticalAlign: 'middle' }}><span style={{ color: d3.schemeSet2[7], margin: '0 1em' }}>Unassigned</span> <TrueText style={{margin: '0 1em'}}>True</TrueText> <FalseText style={{margin: '0 1em'}}>False</FalseText><br/><svg width='1em' height='1em' viewBox='-0.5em -0.5em 1em 1em' style={{ marginLeft: '1em' }}><rect width='1em' height='1em'></rect></svg> : decision variable <svg width='1em' height='1em' viewBox='-0.5em -0.5em 1em 1em' style={{ marginLeft: '1em' }}><circle cx='0.5em' cy='0.5em' r='0.5em'></circle></svg> : derived variable</div></div>\n          <button onClick={reset} disabled={stage === 0}>Reset</button>\n          <button onClick={undo} disabled={stage === 0}>{'<'} Undo</button>\n          <button onClick={step} disabled={stage === 490}>Step {'>'}</button>\n          <br />\n          <ImplicationGraph\n            width={500}\n            height={400}\n            nodes={implicationNodes}\n            links={implicationLinks}\n          />\n          <BellmanFordGraph\n            width={500}\n            height={400}\n            nodes={bellmanFordNodes}\n            links={bellmanFordLinks}\n            hideMin={true}\n          />\n          <br />\n          <ClauseDB\n            width={500}\n            height={600}\n            formula={formula!}\n            assignmentAPI={satyrosAPI.assignment}\n            update={fVersion}\n          />\n          <div style={{ width: 462, float: 'right' }}>\n            <ConversionTable\n              width={462}\n              height={600}\n              conversionTable={conversion!}\n              assignmentAPI={satyrosAPI.assignment}\n              update={ctVersion}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default Example8;\n","import * as d3 from 'd3';\nimport React, { Fragment, useMemo } from 'react';\n\nimport { useSatyrosAPI1 } from '../hook/useSatyrosAPI1';\nimport { ImplicationGraph } from './ImplicationGraph';\nimport { BellmanFordGraph } from './BellmanFordGraph';\nimport { stepsExcept, haskellCallWrapper, undosExcept } from '../Util';\nimport ConversionTable from './ConversionTable';\nimport ClauseDB from './ClauseDB';\n\nconst f: FormulaLike<Expressible> =\n  [\n    [\n      [1, 4, '::>=?', 4],\n      [4, 1, '::>=?', 5],\n    ],\n    [\n      [4, 5, '::>=?', 4],\n      [5, 4, '::>=?', 4],\n    ],\n    [\n      [5, 1, '::>=?', 5],\n      [1, 5, '::>=?', 4],\n    ],\n    [\n      [2, 3, '::>=?', 1],\n      [3, 2, '::>=?', 2],\n    ],\n    [\n      [1, '::>=?', 0],\n    ],\n    [\n      [1, '::<=?', 13 - 5],\n    ],\n    [\n      [2, '::>=?', 0],\n    ],\n    [\n      [2, '::<=?', 13 - 2],\n    ],\n    [\n      [3, '::>=?', 0],\n    ],\n    [\n      [3, '::<=?', 13 - 1],\n    ],\n    [\n      [4, '::>=?', 0],\n    ],\n    [\n      [4, '::<=?', 13 - 4],\n    ],\n    [\n      [5, '::>=?', 0],\n    ],\n    [\n      [5, '::<=?', 13 - 4],\n    ],\n  ];\n\nconst TrueText: React.FunctionComponent<{ style?: React.CSSProperties }> = ({ style, children }) => {\n  return (\n    <span style={{ color: d3.schemeSet2[0], ...style }}>{ children }</span>\n  );\n};\n\nconst FalseText: React.FunctionComponent<{ style?: React.CSSProperties }> = ({ style, children }) => {\n  return (\n    <span style={{ color: d3.schemeSet2[1], ...style }}>{ children }</span>\n  );\n};\n\nconst Example9: React.FunctionComponent = () => {\n  const satyrosAPI1 = useSatyrosAPI1(f);\n  const [stage, setStage] = React.useState<number>(0);\n  const [implicationNodes, setImplicationNodes] = React.useState<SatyrosImplicationVertex[]>([]);\n  const [implicationLinks, setImplicationLinks] = React.useState<SatyrosImplicationEdge[]>([]);\n  const [bellmanFordNodes, setBellmanFordNodes] = React.useState<SatyrosBellmanFordVertex[]>([]);\n  const [bellmanFordLinks, setBellmanFordLinks] = React.useState<SatyrosBellmanFordEdge[]>([]);\n  const [ctVersion, setCtVersion] = React.useState<number>(0);\n  const [fVersion, setFVersion] = React.useState<number>(0);\n  const conversion = useMemo(() => satyrosAPI1?.conversionTable, [satyrosAPI1]);\n  const formula = useMemo(() => satyrosAPI1 !== undefined ? haskellCallWrapper(satyrosAPI1!.getFormula)[0] : undefined, [satyrosAPI1, fVersion]);\n\n  const updateState = React.useCallback(() => {\n    setCtVersion(s => s + 1);\n    setFVersion(s => s + 1);\n    satyrosAPI1!.getImplicationGraph((ns, ls) => {\n      setImplicationNodes(ns);\n      setImplicationLinks(ls);\n    });\n    satyrosAPI1!.getBellmanFordGraph((ns, ls) => {\n      setBellmanFordNodes(ns);\n      setBellmanFordLinks(ls);\n    });\n  }, [satyrosAPI1]);\n  const step = React.useCallback(() => {\n    switch (stage) {\n      case 0:\n        setStage(s => s + 1);\n        satyrosAPI1!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI1!.step(cb);\n          },\n          {\n            BCPComplete() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 1:\n        setStage(s => s + 1);\n        satyrosAPI1!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI1!.step(cb);\n          },\n          {\n            PropagationNth() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 2:\n        setStage(s => s + 1);\n        satyrosAPI1!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI1!.step(cb);\n          },\n          {\n            DecisionResult() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 111:\n        setStage(s => s + 1);\n        satyrosAPI1!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI1!.step(cb);\n          },\n          {\n            PropagationNth() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 114:\n        setStage(s => s + 1);\n        satyrosAPI1!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI1!.step(cb);\n          },\n          {\n            DecisionResult() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 230:\n        setStage(s => s + 1);\n        satyrosAPI1!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI1!.step(cb);\n          },\n          {\n            PropagationNth() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 232:\n        setStage(s => s + 1);\n        satyrosAPI1!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI1!.step(cb);\n          },\n          {\n            BCPComplete() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 355:\n        setStage(s => s + 1);\n        satyrosAPI1!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI1!.step(cb);\n          },\n          {\n            BCPComplete() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 486:\n        setStage(s => s + 1);\n        satyrosAPI1!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI1!.step(cb);\n          },\n          {\n            PropagationNth() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 487:\n        setStage(s => s + 1);\n        satyrosAPI1!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI1!.step(cb);\n          },\n          {\n            BCPConflictDrivenClause() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 620:\n        setStage(s => s + 1);\n        satyrosAPI1!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI1!.step(cb);\n          },\n          {\n            BacktraceComplete() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 621:\n        setStage(s => s + 1);\n        satyrosAPI1!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI1!.step(cb);\n          },\n          {\n            BCPComplete() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 622:\n        setStage(s => s + 1);\n        satyrosAPI1!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI1!.step(cb);\n          },\n          {\n            PropagationNth() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 623:\n        setStage(s => s + 1);\n        satyrosAPI1!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI1!.step(cb);\n          },\n          {\n            DecisionResult() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 752:\n        setStage(s => s + 1);\n        satyrosAPI1!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI1!.step(cb);\n          },\n          {\n            DecisionResult() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      case 892:\n        setStage(s => s + 1);\n        satyrosAPI1!.step(stepsExcept(\n          cb => {\n            setStage(s => s + 1);\n            satyrosAPI1!.step(cb);\n          },\n          {\n            DecisionComplete() {\n              updateState();\n            },\n          },\n        ));\n        break;\n      default:\n        console.log('WTF?');\n        break;\n    }\n  }, [satyrosAPI1, stage, updateState]);\n  const undo = React.useCallback(() => {\n    const stages = [0, 1, 2, 111, 114, 230, 232, 355, 486, 487, 620, 621, 622, 623, 752, 892, 1202];\n    const stageIndex = stages.indexOf(stage);\n    let localCounter = stages[stageIndex] - stages[stageIndex - 1];\n    setStage(s => s - 1);\n    satyrosAPI1!.undo(undosExcept(\n      cb => {\n        localCounter--;\n        if (localCounter !== 0) {\n          setStage(s => s - 1);\n          satyrosAPI1!.undo(cb);\n        } else {\n          updateState();\n        }\n      },\n      {\n        Start() {\n          updateState();\n        }\n      },\n    ));\n  }, [satyrosAPI1, stage, updateState]);\n  const reset = React.useCallback(() => {\n    satyrosAPI1!.reset();\n    setStage(0);\n    setImplicationNodes([]);\n    setImplicationLinks([]);\n    setBellmanFordNodes([]);\n    setBellmanFordLinks([]);\n  }, [satyrosAPI1]);\n  const text = React.useMemo<React.ReactNode>(() => {\n    switch (stage) {\n      case 0: return 'Let\\'s start with SAT solver.';\n      case 1: return <Fragment>SAT Solver derive values from unit clauses, and try to propagate constraints. Unfortunately, there{'\\''}s nothing to propagate here.</Fragment>;\n      case 2: return <Fragment>Anyway, maybe these unit clauses already have some QFIDL conflicts. Let{'\\''}s check them with QFIDL solver!</Fragment>;\n      case 111: return <Fragment>There was no negative cycle in the graph, yay!</Fragment>;\n      case 114: return <Fragment>Now SAT solver decide a variable. It{'\\''}s <FalseText><var>b1</var> (false)</FalseText> in this case. This derives <TrueText><var>b2</var> (true)</TrueText>. Does this decision OK? QFIDL solver will check it.</Fragment>;\n      case 230: return <Fragment>It is also safe as there{'\\''}s no negative cycle.</Fragment>;\n      case 232: return <Fragment>Thus, SAT solver can choose one more variable. This time, it{'\\''}s <TrueText><var>b3</var> (true)</TrueText>. This does not derive any more variables. Is it still safe?</Fragment>;\n      case 355: return <Fragment>It turns out yes, and it allows SAT solver to go further. How about <TrueText><var>b8</var> (true)</TrueText>?</Fragment>;\n      case 486: return <Fragment>It{'\\''}s still ok… How about <TrueText><var>b7</var> (true)</TrueText>?</Fragment>;\n      case 487: return <Fragment>Let{'\\''}s run QFIDL solver once again…</Fragment>;\n      case 620: return <Fragment>And it has a negative loop! This means our last decision, <TrueText><var>b7</var> (true)</TrueText>, was not a valid one from the perspective of QFIDL.</Fragment>;\n      case 621: return <Fragment>Thus, we go back to previous level, and add a new clause for what we just learned: ¬<var>b8</var> ∨ ¬<var>b7</var>.</Fragment>;\n      case 622: return <Fragment>We can derive <FalseText><var>b7</var> (false)</FalseText>. But we don{'\\''}t know whether this one is safe or not for sure.</Fragment>;\n      case 623: return <Fragment>So we run QFIDL solver…</Fragment>;\n      case 752: return <Fragment>And yes, it is safe!</Fragment>;\n      case 892: return <Fragment>SAT decides once more, <FalseText><var>b5</var> (false)</FalseText>, which implies <TrueText><var>b6</var> (true)</TrueText>, and we still don{'\\''}t have any negative cycle.</Fragment>;\n      case 1202: return <Fragment>By setting <FalseText><var>b4</var> (false)</FalseText>, the decision process over, and we checked there{'\\''}s no negative cycle. This gives us final assignment: <var>x1</var> = 4, <var>x2</var> = 0, <var>x3</var> = 2, <var>x4</var> = 9, <var>x5</var> = 0.</Fragment>;\n      default: return 'NYI...';\n    }\n  }, [stage]);\n\n  console.log(stage);\n  if (satyrosAPI1 === undefined) {\n    return null;\n  } else {\n    return (\n      <div style={{ position: 'relative', height: 1000 + 120 }}>\n        <div style={{ height: 100, boxSizing: 'border-box', border: '1px black solid', padding: 10, margin: '10px auto' }}>{text}</div>\n        <div style={{ position: 'absolute', left: '50%', top: 120, transform: 'translate(-450px, 0)', width: 1000, margin: '0 auto' }}>\n        <div style={{ display: 'block', width: 500, padding: '3px', border: 'solid 1px', borderColor: d3.schemeAccent[7], textAlign: 'center' }}><div style={{ display: 'inline-block', verticalAlign: 'middle' }}>{'<'}name{'>'}@{'<'}level{'>'}</div><div style={{ display: 'inline-block', verticalAlign: 'middle' }}><span style={{ color: d3.schemeSet2[7], margin: '0 1em' }}>Unassigned</span> <TrueText style={{margin: '0 1em'}}>True</TrueText> <FalseText style={{margin: '0 1em'}}>False</FalseText><br/><svg width='1em' height='1em' viewBox='-0.5em -0.5em 1em 1em' style={{ marginLeft: '1em' }}><rect width='1em' height='1em'></rect></svg> : decision variable <svg width='1em' height='1em' viewBox='-0.5em -0.5em 1em 1em' style={{ marginLeft: '1em' }}><circle cx='0.5em' cy='0.5em' r='0.5em'></circle></svg> : derived variable</div></div>\n          <button onClick={reset} disabled={stage === 0}>Reset</button>\n          <button onClick={undo} disabled={stage === 0}>{'<'} Undo</button>\n          <button onClick={step} disabled={stage === 1202}>Step {'>'}</button>\n          <br />\n          <ImplicationGraph\n            width={500}\n            height={400}\n            nodes={implicationNodes}\n            links={implicationLinks}\n          />\n          <BellmanFordGraph\n            width={500}\n            height={400}\n            nodes={bellmanFordNodes}\n            links={bellmanFordLinks}\n            hideMin={true}\n          />\n          <br />\n          <ClauseDB\n            width={500}\n            height={600}\n            formula={formula!}\n            assignmentAPI={satyrosAPI1.assignment}\n            update={fVersion}\n          />\n          <div style={{ width: 462, float: 'right' }}>\n            <ConversionTable\n              width={462}\n              height={600}\n              conversionTable={conversion!}\n              assignmentAPI={satyrosAPI1.assignment}\n              update={ctVersion}\n            />\n          </div>\n        </div>\n      </div>\n    );\n  }\n};\n\nexport default Example9;\n","import React from \"react\";\n\nexport const useSatyrosAPI1 = (f : FormulaLike<Expressible>) => {\n  const [satyrosAPI1, setSatyrosAPI1] = React.useState<SatyrosAPI | undefined>(undefined);\n\n  React.useEffect(\n    () => {\n      setTimeout(() => {\n        setSatyrosAPI1(window.makeSatyrosAPI1(f));\n      }, 500);\n    },\n    // eslint-disable-next-line\n    []\n  );\n\n  return satyrosAPI1;\n};\n","import React from 'react';\n\nimport Example4 from './Example4';\nimport Example5 from './Example5';\nimport Example6 from './Example6';\nimport Example7 from './Example7';\nimport Example8 from './Example8';\nimport Example9 from './Example9';\n\nconst Section3: React.FunctionComponent = () => {\n  return (\n    <section className='Section Section3'>\n      <h2>You{'\\''}ve got a plan, a plan to mix them all</h2>\n      <p><span className='initial'>N</span>ow the question is this: how can we allow QFIDL solver to work with a disjunction of contraints? In other words, how can we combine a SAT solver (boolean solver) and a QFIDL solver into a single solver? There are two simple ways to achieve this integration:</p>\n      <ul>\n        <li>Pick \"true\" constraints by SAT solver first, and apply QFIDL solver on those constraints, until QFIDL solver finds a solution or SAT solver exhausts the possibilities</li>\n        <li>While executing SAT solver, use QFIDL as a conflict-finding algorithm.</li>\n      </ul>\n      <p className='indent'>We will show these two approaches in turn, and describe how they are different with the following <a href='https://en.wikipedia.org/wiki/Job-shop_scheduling'>job-shop scheduling problem</a>:</p>\n      <blockquote>\n    We have two manufacturing machines <var>A</var> and <var>B</var>, each of which can perform one task at a time.<br/>\n        Also, there are three people <var>X</var>, <var>Y</var> want to make there products, and each product requires lanes of machines in different orders for different time periods.<br/>\n        <ul>\n          <li>The product of <var>X</var> requires <var>A</var> for 5 hours, then <var>B</var> for 2 hours.</li>\n          <li>The product of <var>Y</var> requires <var>B</var> for 1 hours, then <var>A</var> for 4 hours.</li>\n          <li>The product of <var>Z</var> requires <var>A</var> for 4 hours.</li>\n        </ul>\n        Is there a time schedule in which all of them get their product within 13 hours?\n      </blockquote>\n      <p>We need to encode this into a QFIDL SMT problem first. Since there are 5 required tasks and each needs a variable for the task start time, we will use 5 variables:</p>\n      <blockquote className='math'>\n        <var>X</var>{'\\''}s <var>A</var>: starts at <var>x<sub>1</sub></var>\n        <br />\n        <var>X</var>{'\\''}s <var>B</var>: starts at <var>x<sub>2</sub></var>\n        <br />\n        <var>Y</var>{'\\''}s <var>B</var>: starts at <var>x<sub>3</sub></var>\n        <br />\n        <var>Y</var>{'\\''}s <var>A</var>: starts at <var>x<sub>4</sub></var>\n        <br />\n        <var>Z</var>{'\\''}s <var>A</var>: starts at <var>x<sub>5</sub></var>\n      </blockquote>\n      <p>Each task should start after schedule begins and finish before the deadline.</p>\n      <blockquote className='math'>\n        <var>x<sub>1</sub></var> ≥ 0 ∧ <var>x<sub>1</sub></var> ≤ {13 - 5}\n        <br />\n        <var>x<sub>2</sub></var> ≥ 0 ∧ <var>x<sub>2</sub></var> ≤ {13 - 2}\n        <br />\n        <var>x<sub>3</sub></var> ≥ 0 ∧ <var>x<sub>3</sub></var> ≤ {13 - 1}\n        <br />\n        <var>x<sub>4</sub></var> ≥ 0 ∧ <var>x<sub>4</sub></var> ≤ {13 - 4}\n        <br />\n        <var>x<sub>5</sub></var> ≥ 0 ∧ <var>x<sub>5</sub></var> ≤ {13 - 4}\n      </blockquote>\n      <p>Now, we need to encode that no machine can execute two task at once. For any task using machine <var>A</var>, no task using <var>A</var> is not overwrapped with the task, and likewise for the tasks using machine <var>B</var>.</p>\n      <blockquote className='math'>\n        <var>x<sub>1</sub></var> - <var>x<sub>4</sub></var> ≥ 4 ∨ <var>x<sub>4</sub></var> - <var>x<sub>1</sub></var> ≥ 5\n        <br />\n        <var>x<sub>4</sub></var> - <var>x<sub>5</sub></var> ≥ 4 ∨ <var>x<sub>5</sub></var> - <var>x<sub>4</sub></var> ≥ 4\n        <br />\n        <var>x<sub>5</sub></var> - <var>x<sub>1</sub></var> ≥ 5 ∨ <var>x<sub>1</sub></var> - <var>x<sub>5</sub></var> ≥ 4\n        <br />\n        <var>x<sub>2</sub></var> - <var>x<sub>3</sub></var> ≥ 1 ∨ <var>x<sub>3</sub></var> - <var>x<sub>2</sub></var> ≥ 2\n      </blockquote>\n      <p>We don{'\\''}t need any condition for <var>B</var>, as there are only 2 tasks using <var>B</var>. If we apply the above mentioned transformation to these contraints, we get</p>\n      <blockquote className='math'>\n        <Example4 />\n      </blockquote>\n      <p>In order to pass this QFIDL/SAT mixture to a SAT solver, we need to hide QFIDL details:</p>\n      <Example5 />\n      <p>These boolean variables represents single QFIDL constraint. The conversion table is like this (you can click each boolean variable names to check which boolean value is mapped to which QFIDL expression):</p>\n      <Example6 />\n      <p className='indent'>However, as all values for <var>b9</var> to <var>b18</var> are already chosen as <var>c4</var> to <var>c13</var> are all unit clause, we need to deal with only</p>\n      <Example7 />\n      <p>Now, let{'\\''}s solve this problem with each approach!</p>\n      <section className='Subsection Subsection3-1'>\n        <h3>Naive approach: one after the other</h3>\n        <p>Let{'\\''}s first solve SAT problem for the above CNF using SAT solver, and translate the result assignment into QFIDL contraints, and then solve them with QFIDL solver:</p>\n        <Example8 />\n        <p>This approach requires two backtrackings. How about the more clever approach?</p>\n      </section>\n      <section className='Subsection Subsection3-1'>\n        <h3>More clever approach: one into the other</h3>\n        <p>We start with the SAT solver as before. However, after propagating boolean constraints for a single decision level, we immediately executes QFIDL solver with that partial assignment to check whether the decision is acceptable from the QFIDL{'\\''}s viewpoint.</p>\n        <Example9 />\n        <p>Although this is a small example and it is inaccurate to compare these approaches in this way, but this approach requires only one backtrace. More important point is, each backtrace is more local (since a conflict is at the same decision level) and thus less expensive in terms of backtracking cost.</p>\n      </section>\n    </section>\n  );\n};\n\nexport default Section3;\n","import React from 'react';\n\nconst Section4: React.FunctionComponent = () => {\n  return (\n    <section className='Section Section4'>\n      <h2>To the Infinity, and Beyond!</h2>\n      <p><span className='initial'>I</span>n this article we demonstrated a SMT solver with a simple theory solver (QFIDL solver), and described how it works. However, there{'\\''}s infinite possibilities to explore, research, and improve. There are many other complex yet interesting solvers out there, including Non-linear Integer Arithmetic (NIA) which is even undecidable<a className='footnote' href='#ref-4'>4</a>. Integration of multiple theory solvers into a single solver is also an interesting topic, and SMT{'\\''}s applications including formal verification keep expanding. It is now your choice to go beyond the infinity.</p>\n    </section>\n  );\n};\n\nexport default Section4;\n","import React from 'react';\n\nconst References: React.FunctionComponent = () => {\n  return (\n    <section className='Section References'>\n      <h2>References</h2>\n      <ol>\n      <li id='ref-1'>Martin Davis, George Logemann, and Donald Loveland. 1962. A machine program for theorem-proving. Commun. ACM 5, 7 (July 1962), 394–397. <a href='https://doi.org/10.1145/368273.368557'>doi:10.1145/368273.368557</a>. <a href='https://hdl.handle.net/2027%2Fmdp.39015095248095'>hdl:2027/mdp.39015095248095</a>.</li>\n      <li id='ref-2'>Matthew W. Moskewicz, Conor F. Madigan, Ying Zhao, Lintao Zhang, and Sharad Malik. 2001. Chaff: engineering an efficient SAT solver. In <i>Proceedings of the 38th annual Design Automation Conference</i> (<i>DAC {'\\''}01</i>). Association for Computing Machinery, New York, NY, USA, 530–535. <a href='https://doi.org/10.1145/378239.379017'>doi:10.1145/378239.379017</a></li>\n      <li id='ref-3'>João P. Marques Silva and Karem A. Sakallah. 1997. GRASP—a new search algorithm for satisfiability. In Proceedings of the 1996 IEEE/ACM international conference on Computer-aided design (ICCAD {'\\''}96). IEEE Computer Society, USA, 220–227.</li>\n      <li id='ref-4'>Gödel, K., 1992. On formally undecidable propositions of Principia Mathematica and related systems. Courier Corporation.</li>\n      </ol>\n    </section>\n  );\n};\n\nexport default References;\n","import React from 'react';\n\nimport Section1 from './Section1';\nimport Section2 from './Section2';\nimport Section3 from './Section3';\nimport Section4 from './Section4';\nimport References from './References';\n\nimport './App.css';\n\nconst App: React.FunctionComponent = () => {\n  return (\n    <article className='App' lang='en'>\n      <header>\n        <h1>Boolean meets Theories: SMT Solvers</h1>\n        <h3 style={{ marginTop: 0, marginBottom: 0, textAlign: 'right' }}>Junyoung \"Clare\" Jang</h3>\n        <h4 style={{ marginTop: 0, textAlign: 'right' }}>2021/11/15</h4>\n      </header>\n      <hr />\n      <body>\n        <Section1 />\n        <hr />\n        <Section2 />\n        <hr />\n        <Section3 />\n        <hr />\n        <Section4 />\n      </body>\n      <hr />\n      <footer>\n        <References />\n      </footer>\n    </article>\n  );\n};\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './component/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}