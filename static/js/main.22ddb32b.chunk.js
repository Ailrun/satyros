(this["webpackJsonpsatyros-ui"]=this["webpackJsonpsatyros-ui"]||[]).push([[0],{162:function(e,t,n){},165:function(e,t,n){},166:function(e,t,n){},167:function(e,t,n){"use strict";n.r(t);var r=n(1),i=n.n(r),s=n(68),a=n.n(s),c=(n(162),n(0)),o=function(){return Object(c.jsxs)("section",{className:"Section Section1",children:[Object(c.jsx)("h2",{children:"Prelude: Boolean Constraints and Their Solvers"}),Object(c.jsxs)("p",{children:[Object(c.jsxs)("a",{href:"https://en.wikipedia.org/wiki/Boolean_satisfiability_problem",children:[Object(c.jsx)("span",{className:"initial",children:"S"}),"atifiability of boolean constraints"]}),' (often referred as "SAT") is a central topic of computational complexity. It is NP-complete, so it can encode any nondeterministic polynomial-time problems with at most polynomially larger cost, which includes integer factorization, ',Object(c.jsx)("a",{href:"https://en.wikipedia.org/wiki/Subset_sum_problem",children:"subset sum problem"}),", ",Object(c.jsx)("a",{href:"https://en.wikipedia.org/wiki/Travelling_salesman_problem",children:"travelling sales man problem"}),", ",Object(c.jsx)("a",{href:"https://en.wikipedia.org/wiki/Sudoku",children:"Sudoku"}),", and so on. These nondeterministic polynomial-time problems are often found in more realistic applications, for example, Automated Deduction, Computer-Aided Design (CAD), and Artificial Intelligence. Due to its importance, SAT solving algorithm has been discussed for a long time since Davis and Putnam","'","s work on 1960",Object(c.jsx)("a",{className:"footnote",href:"#ref-1",children:"1"}),". Modern SAT solvers, including ",Object(c.jsx)("a",{href:"http://minisat.se/",children:"MiniSAT"})," and ",Object(c.jsx)("a",{href:"https://www.labri.fr/perso/lsimon/glucose/",children:"Glucose"})," show incredible performance even on large problems with millions of boolean variables with many industrial applications, and there is still research going on to improve the performance even further."]}),Object(c.jsxs)("section",{className:"Subsection Subsection1-1",children:[Object(c.jsx)("h3",{children:"What SAT Solver Actually Solves?"}),Object(c.jsx)("p",{children:"The question of interest is like the following:"}),Object(c.jsxs)("blockquote",{children:["Suppose that we have boolean variables: ",Object(c.jsxs)("var",{children:["b",Object(c.jsx)("sub",{children:"1"})]}),", ",Object(c.jsxs)("var",{children:["b",Object(c.jsx)("sub",{children:"2"})]}),", \u2026 , ",Object(c.jsxs)("var",{children:["b",Object(c.jsx)("sub",{children:"n"})]}),", and their constraints obtained by applying logical and (logical conjunction, \u2227), logical or (logical disjunction, \u2228), and logical negation (\xac) operations on them. Will there be an assignment for those boolean variables so that they satisfy all the given constraints?"]}),Object(c.jsx)("p",{children:"SAT solvers can answer whether there is such an assignment or not, and actually construct the assignment if it exists."}),Object(c.jsxs)("section",{className:"side-node",children:[Object(c.jsx)("h4",{children:"Side note:"}),Object(c.jsxs)("p",{className:"indent",children:["In many SAT solvers, the requirements on constraints are often more strict: The conjunction of all constraints should be in the ",Object(c.jsx)("a",{href:"https://en.wikipedia.org/wiki/Conjunctive_normal_form",children:"Conjunctive Normal Form (CNF)"}),". For example,"]}),Object(c.jsxs)("blockquote",{className:"math",children:["(",Object(c.jsxs)("var",{children:["b",Object(c.jsx)("sub",{children:"1"})]})," \u2228 ",Object(c.jsxs)("var",{children:["b",Object(c.jsx)("sub",{children:"2"})]}),") \u2227 ",Object(c.jsxs)("var",{children:["b",Object(c.jsx)("sub",{children:"3"})]}),Object(c.jsx)("br",{}),Object(c.jsxs)("var",{children:["b",Object(c.jsx)("sub",{children:"2"})]})," \u2227 (\xac",Object(c.jsxs)("var",{children:["b",Object(c.jsx)("sub",{children:"3"})]})," \u2228 ",Object(c.jsxs)("var",{children:["b",Object(c.jsx)("sub",{children:"4"})]}),")"]}),Object(c.jsx)("p",{children:"is a valid set of constraints, but"}),Object(c.jsxs)("blockquote",{className:"math",children:[Object(c.jsxs)("var",{children:["b",Object(c.jsx)("sub",{children:"1"})]})," \u2228 (",Object(c.jsxs)("var",{children:["b",Object(c.jsx)("sub",{children:"2"})]})," \u2227 ",Object(c.jsxs)("var",{children:["b",Object(c.jsx)("sub",{children:"3"})]}),")",Object(c.jsx)("br",{}),"\xac(",Object(c.jsxs)("var",{children:["b",Object(c.jsx)("sub",{children:"2"})]})," \u2228 (",Object(c.jsxs)("var",{children:["b",Object(c.jsx)("sub",{children:"3"})]})," \u2227 ",Object(c.jsxs)("var",{children:["b",Object(c.jsx)("sub",{children:"4"})]}),"))"]}),Object(c.jsxs)("p",{children:["is not because there is a disjunction (\u2228) that contains a conjunction (\u2227) and a negation (\xac) is applied on a non-variable expression. However, there is ",Object(c.jsx)("a",{href:"https://en.wikipedia.org/wiki/Tseytin_transformation",children:"an efficient translation between non-CNF constraints and CNF constraints"}),", so this is more about how one encodes their problems."]})]})]}),Object(c.jsxs)("section",{className:"Subsection Subsection1-2",children:[Object(c.jsx)("h3",{children:"How SAT Solver Solves SAT Problems Efficiently?"}),'One of the important algorithms that allows SAT solvers to "learn" from its trial-and-error is ',Object(c.jsx)("a",{href:"https://en.wikipedia.org/wiki/Conflict-driven_clause_learning",children:"Conflict Deriven Clause Learning (CDCL)"}),". ",Object(c.jsx)("a",{href:"https://cse442-17f.github.io/Conflict-Driven-Clause-Learning/",children:"This interactive tutorial"})," explains what CDCL is and how SAT solvers use them. (This article is also deeply inspired from the tutorial!) In this article, we will not use any complex optimizations other than CDCL, but modern SAT solvers employ many other optimizations, including 2 watched literals",Object(c.jsx)("a",{className:"footnote",href:"#ref-2",children:"2"}),", Variable State Independent Decaying Sum",Object(c.jsx)("a",{className:"footnote",href:"#ref-2",children:"2"}),", and Restart",Object(c.jsx)("a",{className:"footnote",href:"#ref-3",children:"3"}),"."]})]})},l=n(3),d=function(e){var t=i.a.useState(void 0),n=Object(l.a)(t,2),r=n[0],s=n[1];return i.a.useEffect((function(){setTimeout((function(){s(window.makeSatyrosAPI(e))}),500)}),[]),r},h=n(2),u=n(6),j=n(69),b=h.o(),x=h.o(),v=function(e){e.id;var t=e.width,n=e.height,r=e.nodes,s=e.links,a=e.ref,c=e.nodeId,o=e.nodeShape,l=e.nodeText,d=e.nodeFill,v=e.nodeFillNew,f=e.linkId,m=e.linkDistance,p=e.linkStroke,g=e.linkStrokeNew,w=e.linkStrokeActive,k=e.linkText,y=e.linkActive,T=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],S=8,C=h.j().force("collide",h.g(S)).force("charge",h.i().strength(-1e3).theta(.5)).force("link",h.h().id((function(e){return c(e)})).strength(.01).distance(m)).force("x",h.k()).force("y",h.l()).force("limits",Object(j.a)().radius(5*S).x0(-t/2).x1(t/2).y0(-n/2).y1(n/2).cushionWidth(10*S).cushionStrength(1)).on("tick",L),F=i.a.useRef(null),A=i.a.useRef(null),P=i.a.useMemo((function(){return null!==o&&void 0!==o?o:function(e){return"circle"}}),[]),I=i.a.useMemo((function(){return null!==d&&void 0!==d?d:"#000"}),[]),N=i.a.useMemo((function(){return null!==v&&void 0!==v?v:"#000"}),[]),M=null!==p&&void 0!==p?p:"#000",D=null!==g&&void 0!==g?g:"#000",B=null!==w&&void 0!==w?w:D;function L(){null!==a&&null!==A.current&&(A.current.attr("transform",(function(e){var t=e.source.x,n=e.target.x,r=e.source.y,i=e.target.y;return"translate(".concat((t+n)/2,", ").concat((r+i)/2,")")})).select("path").attr("d",(function(e){var t=e.source.x,n=e.target.x,r=e.source.y,i=e.target.y,s=Math.hypot(n-t,i-r);return"M".concat((t-n)/2,",").concat((r-i)/2,"A").concat(s,",").concat(s," 0 0,1 ").concat((n-t)/2,",").concat((i-r)/2)})),A.current.selectChildren("text").attr("x",(function(e){var t=Math.hypot(e.target.x-e.source.x,e.target.y-e.source.y),n=O((e.source.x-e.target.x)/2,(e.source.y-e.target.y)/2,t,t,0,!1,!0,(e.target.x-e.source.x)/2,(e.target.y-e.source.y)/2);return(t+5)*Math.cos(n.startAngle+n.deltaAngle/2)+n.cx})).attr("y",(function(e){var t=Math.hypot(e.target.x-e.source.x,e.target.y-e.source.y),n=O((e.source.x-e.target.x)/2,(e.source.y-e.target.y)/2,t,t,0,!1,!0,(e.target.x-e.source.x)/2,(e.target.y-e.source.y)/2);return(t+5)*Math.sin(n.startAngle+n.deltaAngle/2)+n.cy}))),null!==a&&null!==F.current&&F.current.attr("transform",(function(e){return"translate(".concat(e.x,", ").concat(e.y,")")}))}function E(e){return h.c().on("start",(function(t){t.active||e.alphaTarget(.3).restart(),t.subject.fx=t.subject.x,t.subject.fy=t.subject.y})).on("drag",(function(e){e.subject.fx=e.x,e.subject.fy=e.y})).on("end",(function(t){t.active||e.alphaTarget(0),t.subject.fx=null,t.subject.fy=null}))}i.a.useEffect((function(){var e=h.v(a);return e.append("defs").append("marker").attr("id","arrow-new").attr("refX",12).attr("refY",4).attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 8 4 0 8 2 4").attr("fill",D),e.append("defs").append("marker").attr("id","arrow").attr("refX",12).attr("refY",4).attr("markerWidth",8).attr("markerHeight",8).attr("orient","auto").append("path").attr("d","M 0 0 8 4 0 8 2 4").transition().duration(500).ease(h.f).duration(3e3).attrTween("fill",(function(){return h.n(D,M)})),A.current=e.append("g").selectChildren("g"),F.current=e.append("g").selectChildren("g"),function(){e.selectChildren().remove()}}),[a].concat(Object(u.a)(T))),i.a.useEffect((function(){var e=new Map(F.current.data().map((function(e){return[c(e),e]}))),t=r.map((function(t){return Object.assign(e.get(c(t))||{},t)})),n=s.map((function(e){return Object.assign({},e)})),i=!1,a=!1;F.current=F.current.data(t,(function(e){return c(e)})).join((function(e){e.size()>0&&(i=!0);var t=e.append("g").attr("opacity",0).attr("stroke","#333").attr("stroke-opacity",1).attr("stroke-width",0).attr("stroke-linecap","round").attr("stroke-linejoin","round");return t.transition().duration(500).ease(h.e).attr("opacity",1),void 0!==l&&t.append("text").each((function(e){b.set(this,l(e))})).text((function(e){return l(e)})).classed("node-text",!0).attr("y",-10).attr("text-anchor","middle").attr("stroke","#955").attr("stroke-width",1).clone(!0).lower().classed("node-text",!1).classed("node-text-shade",!0).attr("stroke","white").attr("stroke-width",3),t.append("rect").classed("node-shape",!0).attr("x",-S).attr("y",-S).attr("width",2*S).attr("height",2*S).attr("rx",(function(e){return"rect"===P(e)?0:S})).attr("fill",N).lower(),t}),(function(e){return e.each((function(e){var t=h.v(this).datum(e);if(t.transition().duration(500).ease(h.e).attr("opacity",1),void 0!==l){var n=!1;t.selectChildren("text.node-text").datum(e).text((function(e){var t=l(e);return b.get(this)!==t&&(b.set(this,t),n=!0),t})),n?t.selectChildren(".node-shape").datum(e).transition().duration(500).ease(h.e).attr("rx",(function(e){return"rect"===P(e)?0:S})).attr("fill",N):t.selectChildren(".node-shape").datum(e).transition().duration(500).ease(h.f).attr("rx",(function(e){return"rect"===P(e)?0:S})).attr("fill",I)}else t.selectChildren(".node-shape").datum(e).transition().duration(500).ease(h.f).attr("rx",(function(e){return"rect"===P(e)?0:S})).attr("fill",I)})),e})).call(E(C)),A.current=A.current.data(n,(function(e){return f(e)})).join((function(e){e.size()>0&&(a=!0);var t=e.append("g").attr("opacity",0).attr("fill",D).attr("stroke",D);return t.transition().duration(500).ease(h.e).attr("opacity",1),void 0!==k&&t.append("text").each((function(e){x.set(this,k(e))})).text(k).classed("link-text",!0).attr("text-anchor","middle").clone(!0).lower().classed("link-text",!1).classed("link-text-shade",!0).attr("stroke","white").attr("stroke-width",4),t.append("path").attr("fill","transparent").attr("stroke-width",1.5).attr("stroke-linecap","round").attr("marker-end","url(#arrow-new)").lower(),t}),(function(e){return e.each((function(e){var t=h.v(this).datum(e);if(t.transition().duration(500).ease(h.e).attr("opacity",1),void 0!==k){var n=!1;t.selectChildren("text.link-text").datum(e).text((function(e){var t=k(e);return x.get(this)!==t&&(x.set(this,t),n=!0),t})),n?(t.transition().duration(500).ease(h.e).attr("stroke",D),t.select("path").attr("marker-end","url(#arrow-new)")):void 0!==y&&y(e)?(t.transition().duration(500).ease(h.e).attr("stroke",B),t.select("path").attr("marker-end","url(#arrow-new)")):(t.transition().duration(500).ease(h.f).attr("stroke",M),t.select("path").attr("marker-end","url(#arrow)"))}else void 0!==y&&y(e)?(t.transition().duration(500).ease(h.f).attr("stroke",B),t.select("path").attr("marker-end","url(#arrow-new)")):(t.transition().duration(500).ease(h.f).attr("stroke",M),t.select("path").attr("marker-end","url(#arrow)"))})),e})),C.nodes(t),C.force("link").links(n),i||a?C.alpha(1).restart():C.alpha(0)}),[a,r,s].concat(Object(u.a)(T)))};function f(e,t,n,r){var i=e*n+t*r,s=Math.sqrt((e*e+t*t)*(n*n+r*r)),a=Math.acos(i/s);return e*r-t*n<0&&(a=-a),a}function O(e,t,n,r,i,s,a,c,o){var l,d,h,u,j,b=2*Math.PI;if(n<0&&(n=-n),r<0&&(r=-r),0===n||0===r)throw Error("rx and ry can not be 0");var x=Math.sin(i),v=Math.cos(i),O=(e-c)/2,m=(t-o)/2,p=(e+c)/2,g=(t+o)/2,w=v*O+x*m,k=v*m-x*O,y=w*w/(n*n)+k*k/(r*r);y>1&&(n*=Math.sqrt(y),r*=Math.sqrt(y));var T=n*r,S=n*k,C=r*w,F=S*S+C*C;if(!F)throw Error("start point can not be same as end point");var A=Math.sqrt(Math.abs((T*T-F)/F));s===a&&(A=-A);var P=A*S/r,I=-A*C/n;l=v*P-x*I+p,d=x*P+v*I+g;var N=(w-P)/n,M=(w+P)/n,D=(k-I)/r,B=(k+I)/r;for(h=f(1,0,N,D),u=f(N,D,-M,-B);u>b;)u-=b;for(;u<0;)u+=b;for(!1===a&&(u-=b),j=h+u;j>b;)j-=b;for(;j<0;)j+=b;return{cx:l,cy:d,startAngle:h,deltaAngle:u,endAngle:j,clockwise:!0===a}}var m=function(e){var t=e.width,n=e.height,r=e.nodes,s=e.links,a=e.hideMin,o=i.a.useRef(null),l=i.a.useMemo((function(){return r.filter((function(e){return"number"===typeof e.variable||!a})).map((function(e){var t=e.variable;return{id:null!==t&&void 0!==t?t:-1,distance:e.distance}}))}),[r,a]),d=i.a.useMemo((function(){return s.filter((function(e){return"number"===typeof e.startVertex||!a})).map((function(e){var t=e.startVertex,n=e.endVertex,r=e.weight,i=e.lastActive;return{id:"".concat(null!==t&&void 0!==t?t:-1,",").concat(null!==n&&void 0!==n?n:-1),source:null!==t&&void 0!==t?t:-1,target:null!==n&&void 0!==n?n:-1,weight:r,lastActive:i}}))}),[s,a]);return v({id:"bellman-ford",width:t,height:n,nodes:l,links:d,ref:o.current,nodeId:function(e){return e.id},nodeText:function(e){return"".concat(-1===e.id?"min":0===e.id?"z":"x"+e.id," : ").concat(e.distance)},nodeFill:h.u[2],nodeFillNew:h.r[4],linkId:function(e){return e.id},linkActive:function(e){return e.lastActive},linkDistance:function(e){return 20},linkText:function(e){return"".concat(e.weight)},linkStroke:h.u[7],linkStrokeNew:h.r[7]}),Object(c.jsx)("svg",{width:t,height:n,viewBox:"".concat(-t/2," ").concat(-n/2," ").concat(t," ").concat(n),ref:o})},p=(n(4),function(e){var t;return e((function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t=n})),t}),g=function e(t,n){return Object.assign(w((function(){t(e(t,n))}),(function(){t(e(t,n))}),(function(){throw new Error("Why Result?!")})),n)},w=function(e,t,n){return{Start:function(){},NegativeCyclePass:e,NegativeCycleFind:e,NegativeCycleCheck:e,PropagationEnd:e,PropagationNth:e,PropagationFindShorter:e,PropagationCheck:e,BacktraceComplete:t,BacktraceExhaustion:t,DecisionComplete:t,DecisionResult:t,BCPConflictDrivenClause:t,BCPConflict:t,BCPComplete:t,BCPUnitClause:t,Finish:n}},k=function e(t,n){return Object.assign(y((function(){t(e(t,n))}),(function(){t(e(t,n))}),(function(){throw new Error("Why Start?!")})),n)},y=function(e,t,n){return{Start:n,NegativeCyclePass:e,NegativeCycleFind:e,NegativeCycleCheck:e,PropagationEnd:e,PropagationNth:e,PropagationFindShorter:e,PropagationCheck:e,BacktraceComplete:t,BacktraceExhaustion:t,DecisionComplete:t,DecisionResult:t,BCPConflictDrivenClause:t,BCPConflict:t,BCPComplete:t,BCPUnitClause:t,Finish:function(){}}},T=function(e){switch(e){case"::<?":return"<";case"::<=?":return"\u2264";case"::>?":return">";case"::>=?":return"\u2265";case"::<>?":return"\u2260";case"::=?":return"="}},S=function(e){switch(3===e.length&&(e=[e[0],0,e[1],e[2]]),e[2]){case"::<?":return[[[e[0],e[1],Math.ceil(e[3]-1)]]];case"::<=?":return[[[e[0],e[1],Math.floor(e[3])]]];case"::>?":return[[[e[1],e[0],Math.ceil(-e[3]-1)]]];case"::>=?":return[[[e[1],e[0],Math.floor(-e[3])]]];case"::=?":return[[[e[0],e[1],Math.floor(e[3])]],[[e[1],e[0],Math.floor(-e[3])]]];case"::<>?":return[[[e[0],e[1],Math.ceil(e[3]-1)],[e[1],e[0],Math.ceil(-e[3]-1)]]]}},C=function(e){return Object(c.jsxs)(r.Fragment,{children:[0===e[0]?"z":Object(c.jsxs)(r.Fragment,{children:["x",Object(c.jsx)("sub",{children:e[0]})]})," - ",0===e[1]?"z":Object(c.jsxs)(r.Fragment,{children:["x",Object(c.jsx)("sub",{children:e[1]})]})," \u2264 ",e[2]]})},F=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e.map((function(n,i){return Object(c.jsxs)(r.Fragment,{children:[0===i?null:" \u2227 ",e.length>1&&n.length>1?"(":null,n.map((function(e,t){return Object(c.jsxs)(r.Fragment,{children:[0===t?null:" \u2228 ",C(e)]},t)})),e.length>1&&n.length>1?")":null,t?Object(c.jsx)("br",{}):null]},i)}))},A=[[[1,2,"::<=?",4]],[[2,3,"::<=?",5]],[[3,1,"::<=?",-10]]],P=function(){var e=d(A),t=i.a.useState(0),n=Object(l.a)(t,2),r=n[0],s=n[1],a=i.a.useState([]),o=Object(l.a)(a,2),h=o[0],u=o[1],j=i.a.useState([]),b=Object(l.a)(j,2),x=b[0],v=b[1],f=i.a.useCallback((function(){e.getBellmanFordGraph((function(e,t){u(e),v(t)}))}),[e]),O=f,p=i.a.useCallback((function(){if(0===r)s((function(e){return e+1})),e.step(g((function(t){s((function(e){return e+1})),e.step(t)}),{DecisionComplete:function(){s((function(e){return e+1})),e.step(w(O,f,(function(){})))}}))}),[e,r,f,O]),k=i.a.useCallback((function(){e.reset(),s(0),u([]),v([])}),[e]);return void 0===e?null:Object(c.jsxs)("div",{style:{display:"block",width:560,margin:"0 auto"},children:[Object(c.jsx)("button",{disabled:0===r,onClick:k,children:"Reset"}),Object(c.jsx)("button",{disabled:3===r,onClick:p,children:"Construct"}),Object(c.jsx)("br",{}),Object(c.jsx)(m,{width:560,height:400,nodes:h,links:x,hideMin:!1})]})},I=[[[1,2,"::<=?",4]],[[2,3,"::<=?",5]],[[3,1,"::<=?",-10]]],N=function(){var e=d(I),t=i.a.useState(0),n=Object(l.a)(t,2),r=n[0],s=n[1],a=i.a.useState(!1),o=Object(l.a)(a,2),h=o[0],u=o[1],j=i.a.useState(!1),b=Object(l.a)(j,2),x=b[0],v=b[1],f=i.a.useState([]),O=Object(l.a)(f,2),p=O[0],w=O[1],y=i.a.useState([]),T=Object(l.a)(y,2),S=T[0],C=T[1],F=i.a.useCallback((function(){e.getBellmanFordGraph((function(e,t){w(e),C(t)}))}),[e]),A=i.a.useCallback((function(){e.getBellmanFordGraph((function(e,t){w(e),C(t)}))}),[e]),P=i.a.useCallback((function(){if(23===r);else s((function(e){return e+1})),e.step(g((function(t){s((function(e){return e+1})),e.step(t)}),{PropagationCheck:function(){console.log("PropagationCheck",r),[4,11,13].includes(r)?u(!0):F()},PropagationFindShorter:function(){console.log("PropagationFindShorter"),F()},PropagationEnd:function(){console.log("PropagationEnd",r),F()}}))}),[e,r,F]),N=i.a.useCallback((function(){if(4===r)s((function(e){return e-1})),e.undo(k((function(t){s((function(e){return e-1})),e.undo(t)}),{Start:function(){A()}}));else s((function(e){return e-1})),e.undo(k((function(t){s((function(e){return e-1})),e.undo(t)}),{PropagationCheck:function(){console.log("PropagationCheck",r),[6,14,15].includes(r)?v(!0):A()},PropagationFindShorter:function(){console.log("PropagationFindShorter"),A()},PropagationEnd:function(){console.log("PropagationEnd"),A()},Start:function(){console.log("Start"),A()}}))}),[e,r,A]),M=i.a.useCallback((function(){e.reset(),s(0),w([]),C([])}),[e]);return i.a.useEffect((function(){h&&(u(!1),P())}),[h,P]),i.a.useEffect((function(){x&&(v(!1),N())}),[x,N]),void 0===e?null:Object(c.jsxs)("div",{style:{display:"block",width:560,margin:"0 auto"},children:[Object(c.jsx)("button",{disabled:0===r,onClick:M,children:"Reset"}),Object(c.jsxs)("button",{disabled:0===r,onClick:N,children:["<"," Undo"]}),Object(c.jsxs)("button",{disabled:23===r,onClick:P,children:["Step ",">"]}),Object(c.jsx)("br",{}),Object(c.jsx)(m,{width:560,height:400,nodes:p,links:S,hideMin:!1})]})},M=[[[1,4,"::<=?",2]],[[1,2,"::<=?",4]],[[2,1,"::<=?",-4]],[[2,3,"::<=?",5]],[[3,4,"::<=?",-1]]],D=function(){var e=d(M),t=i.a.useState(0),n=Object(l.a)(t,2),r=n[0],s=n[1],a=i.a.useState(!1),o=Object(l.a)(a,2),h=o[0],u=o[1],j=i.a.useState(!1),b=Object(l.a)(j,2),x=b[0],v=b[1],f=i.a.useState([]),O=Object(l.a)(f,2),p=O[0],w=O[1],y=i.a.useState([]),T=Object(l.a)(y,2),S=T[0],C=T[1],F=i.a.useCallback((function(){e.getBellmanFordGraph((function(e,t){w(e),C(t)}))}),[e]),A=i.a.useCallback((function(){e.getBellmanFordGraph((function(e,t){w(e),C(t)}))}),[e]),P=i.a.useCallback((function(){switch(r){case 0:s((function(e){return e+1})),e.step(g((function(t){s((function(e){return e+1})),e.step(t)}),{PropagationCheck:function(){console.log("PropagationCheck",r),F()}}));break;case 51:break;default:s((function(e){return e+1})),e.step(g((function(t){s((function(e){return e+1})),e.step(t)}),{PropagationFindShorter:function(){console.log("PropagationFindShorter",r),F()},Finish:function(){console.log("Finish",r),F()}}))}}),[e,r,F]),I=i.a.useCallback((function(){if(4===r)s((function(e){return e-1})),e.undo(k((function(t){s((function(e){return e-1})),e.undo(t)}),{Start:function(){A()}}));else s((function(e){return e-1})),e.undo(k((function(t){s((function(e){return e-1})),e.undo(t)}),{PropagationCheck:function(){console.log("PropagationCheck"),5!==r?v(!0):A()},PropagationFindShorter:function(){console.log("PropagationFindShorter",r),A()},Start:function(){console.log("Start",r),A()}}))}),[e,r,A]),N=i.a.useCallback((function(){e.reset(),s(0),w([]),C([])}),[e]);return i.a.useEffect((function(){h&&(u(!1),P())}),[h,P]),i.a.useEffect((function(){x&&(v(!1),I())}),[x,I]),console.log(r),void 0===e?null:Object(c.jsxs)("div",{style:{display:"block",width:560,margin:"0 auto"},children:[Object(c.jsx)("button",{disabled:0===r,onClick:N,children:"Reset"}),Object(c.jsxs)("button",{disabled:0===r,onClick:I,children:["<"," Undo"]}),Object(c.jsxs)("button",{disabled:51===r,onClick:P,children:["Step to next distance update ",">"]}),Object(c.jsx)("br",{}),Object(c.jsx)(m,{width:560,height:400,nodes:p,links:S,hideMin:!1})]})},B=n(30),L=function(e){var t=e.width,n=e.height,r=e.expressible,s=e.processed,a=i.a.useRef(null),o=30,l=n/t,d=h.q([-5,5],[-t/2+o,t/2-o]),u=h.q([-5*l,5*l],[n/2-o,-n/2+o]),j=Object(B.a)(3===r.length?r[1]:r[2]),b=Object(B.a)(s);return i.a.useEffect((function(){var e=h.v(a.current);e.append("clipPath").attr("id","graph-area").append("rect").attr("x",-t/2+o).attr("y",-n/2+o).attr("width",t-60).attr("height",n-60);var r=h.a(d).ticks(10).tickSizeInner(60-n).tickSizeOuter(0).tickPadding(15),i=h.b(u).ticks(7).tickSizeInner(60-t).tickSizeOuter(0).tickPadding(15),s=e.append("g").attr("transform","translate(0, ".concat(n/2-o,")")).call(r),c=e.append("g").attr("transform","translate(".concat(-t/2+o,", 0)")).call(i);return s.call((function(e){e.selectAll(".tick line").attr("stroke",h.u[7]),e.selectAll(".tick").lower()})),c.call((function(e){e.selectAll(".tick line").attr("stroke",h.u[7]),e.selectAll(".tick").lower()})),e.append("line").attr("x1",-.5).attr("y1",-n/2+o).attr("x2",-.5).attr("y2",n/2-o).attr("stroke","black").attr("stroke-width",1),e.append("line").attr("x1",-t/2+o).attr("y1",.5).attr("x2",t/2-o).attr("y2",.5).attr("stroke","black").attr("stroke-width",1),e.append("g").classed("expression-graph",!0),function(){e.selectAll().remove()}}),[t,n,d,u]),i.a.useEffect((function(){var e=h.v(a.current).selectChild("g.expression-graph").selectChildren("path.expressible").data([0]).join("path").classed("expressible",!0).attr("clip-path","url(#graph-area)").transition().duration(300).ease(h.d).attr("stroke-width",3).attr("fill",h.r[3]);e=b!==s||s||j===(3===r.length?r[1]:r[2])?e.attr("opacity",s?0:.8):e.transition().ease(h.d).duration(150).attr("opacity",0).transition().ease(h.d).delay(150).duration(150).attr("opacity",.8);var t=h.p();if(3===r.length)switch(r[1]){case"::<=?":t.moveTo(d(r[2]),u(u.domain()[0]-10)),t.lineTo(d(r[2]),u(u.domain()[1]+10)),t.lineTo(d(d.domain()[0]-10),u(u.domain()[1]+10)),t.lineTo(d(d.domain()[0]-10),u(u.domain()[0]-10)),t.closePath(),e.attr("d",t.toString()).attr("stroke",h.t[5]);break;case"::<?":t.moveTo(d(r[2]),u(u.domain()[0]-10)),t.lineTo(d(r[2]),u(u.domain()[1]+10)),t.lineTo(d(d.domain()[0]-10),u(u.domain()[1]+10)),t.lineTo(d(d.domain()[0]-10),u(u.domain()[0]-10)),t.closePath(),e.attr("d",t.toString()).attr("stroke","#FFF");break;case"::>=?":t.moveTo(d(r[2]),u(u.domain()[0]-10)),t.lineTo(d(r[2]),u(u.domain()[1]+10)),t.lineTo(d(d.domain()[1]+10),u(u.domain()[1]+10)),t.lineTo(d(d.domain()[1]+10),u(u.domain()[0]-10)),t.closePath(),e.attr("d",t.toString()).attr("stroke",h.t[5]);break;case"::>?":t.moveTo(d(r[2]),u(u.domain()[0]-10)),t.lineTo(d(r[2]),u(u.domain()[1]+10)),t.lineTo(d(d.domain()[1]+10),u(u.domain()[1]+10)),t.lineTo(d(d.domain()[1]+10),u(u.domain()[0]-10)),t.closePath(),e.attr("d",t.toString()).attr("stroke","#FFF");break;case"::=?":t.moveTo(d(r[2]),u(u.domain()[0]-10)),t.lineTo(d(r[2]),u(u.domain()[1]+10)),e.attr("d",t.toString()).attr("stroke",h.t[5]);break;case"::<>?":t.moveTo(d(r[2]),u(u.domain()[0]-10)),t.lineTo(d(r[2]),u(u.domain()[1]+10)),t.lineTo(d(d.domain()[0]-10),u(u.domain()[1]+10)),t.lineTo(d(d.domain()[0]-10),u(u.domain()[0]-10)),t.closePath(),t.moveTo(d(r[2]),u(u.domain()[0]-10)),t.lineTo(d(r[2]),u(u.domain()[1]+10)),t.lineTo(d(d.domain()[1]+10),u(u.domain()[1]+10)),t.lineTo(d(d.domain()[1]+10),u(u.domain()[0]-10)),t.closePath(),e.attr("d",t.toString()).attr("stroke","#FFF")}else switch(r[2]){case"::<=?":t.moveTo(d(d.domain()[0]-10),u(d.domain()[0]-10-r[3])),t.lineTo(d(d.domain()[1]+10),u(d.domain()[1]+10-r[3])),t.lineTo(d(d.domain()[0]-10),u(u.domain()[1]+10)),t.closePath(),e.attr("d",t.toString()).attr("stroke",h.t[5]);break;case"::<?":t.moveTo(d(d.domain()[0]-10),u(d.domain()[0]-10-r[3])),t.lineTo(d(d.domain()[1]+10),u(d.domain()[1]+10-r[3])),t.lineTo(d(d.domain()[0]-10),u(u.domain()[1]+10)),t.closePath(),e.attr("d",t.toString()).attr("stroke","#FFF");break;case"::>=?":t.moveTo(d(d.domain()[0]-10),u(d.domain()[0]-10-r[3])),t.lineTo(d(d.domain()[1]+10),u(d.domain()[1]+10-r[3])),t.lineTo(d(d.domain()[1]+10),u(u.domain()[0]-10)),t.closePath(),e.attr("d",t.toString()).attr("stroke",h.t[5]);break;case"::>?":t.moveTo(d(d.domain()[0]-10),u(d.domain()[0]-10-r[3])),t.lineTo(d(d.domain()[1]+10),u(d.domain()[1]+10-r[3])),t.lineTo(d(d.domain()[1]+10),u(u.domain()[0]-10)),t.closePath(),e.attr("d",t.toString()).attr("stroke","#FFF");break;case"::=?":t.moveTo(d(d.domain()[0]-10),u(d.domain()[0]-10-r[3])),t.lineTo(d(d.domain()[1]+10),u(d.domain()[1]+10-r[3])),e.attr("d",t.toString()).attr("stroke",h.t[5]);break;case"::<>?":t.moveTo(d(d.domain()[0]-10),u(d.domain()[0]-10-r[3])),t.lineTo(d(d.domain()[1]+10),u(d.domain()[1]+10-r[3])),t.lineTo(d(d.domain()[0]-10),u(u.domain()[1]+10)),t.closePath(),t.moveTo(d(d.domain()[0]-10),u(d.domain()[0]-10-r[3])),t.lineTo(d(d.domain()[1]+10),u(d.domain()[1]+10-r[3])),t.lineTo(d(d.domain()[1]+10),u(u.domain()[0]-10)),t.closePath(),e.attr("d",t.toString()).attr("stroke","#FFF")}}),[r,s,j,b,d,u]),i.a.useEffect((function(){var e=h.v(a.current).selectChild("g.expression-graph").selectChildren("path.expressed").data([0]).join("path").classed("expressed",!0).attr("clip-path","url(#graph-area)").transition().duration(300).ease(h.d).attr("stroke-width",3).attr("fill",h.r[1]).attr("stroke",h.t[3]);e=b===s&&s&&j!==(3===r.length?r[1]:r[2])?e.transition().ease(h.d).duration(150).attr("opacity",0).transition().ease(h.d).delay(150).duration(150).attr("opacity",.8):e.attr("opacity",s?.8:0);var t=h.p(),n=S(r);1===n.length?1===n[0].length?0===n[0][0][0]?(t.moveTo(d(-n[0][0][2]),u(u.domain()[0])),t.lineTo(d(-n[0][0][2]),u(u.domain()[1])),t.lineTo(d(d.domain()[1]+10),u(u.domain()[1]+10)),t.lineTo(d(d.domain()[1]+10),u(u.domain()[0]-10)),t.closePath(),e.attr("d",t.toString())):0===n[0][0][1]?(t.moveTo(d(n[0][0][2]),u(u.domain()[0])),t.lineTo(d(n[0][0][2]),u(u.domain()[1])),t.lineTo(d(d.domain()[0]-10),u(u.domain()[1]+10)),t.lineTo(d(d.domain()[0]-10),u(u.domain()[0]-10)),t.closePath(),e.attr("d",t.toString())):1===n[0][0][0]?(t.moveTo(d(d.domain()[0]-10),u(d.domain()[0]-10-n[0][0][2])),t.lineTo(d(d.domain()[1]+10),u(d.domain()[1]+10-n[0][0][2])),t.lineTo(d(d.domain()[0]-10),u(u.domain()[1]+10)),t.closePath(),e.attr("d",t.toString())):(t.moveTo(d(d.domain()[0]-10),u(d.domain()[0]-10+n[0][0][2])),t.lineTo(d(d.domain()[1]+10),u(d.domain()[1]+10+n[0][0][2])),t.lineTo(d(d.domain()[1]+10),u(u.domain()[0]-10)),t.closePath(),e.attr("d",t.toString())):0===n[0][0][0]?(t.moveTo(d(n[0][0][2]),u(u.domain()[0])),t.lineTo(d(n[0][0][2]),u(u.domain()[1])),t.lineTo(d(d.domain()[0]-10),u(u.domain()[1]+10)),t.lineTo(d(d.domain()[0]-10),u(u.domain()[0]-10)),t.closePath(),t.moveTo(d(-n[0][1][2]),u(u.domain()[0])),t.lineTo(d(-n[0][1][2]),u(u.domain()[1])),t.lineTo(d(d.domain()[1]+10),u(u.domain()[1]+10)),t.lineTo(d(d.domain()[1]+10),u(u.domain()[0]-10)),t.closePath(),e.attr("d",t.toString())):0===n[0][0][1]?(t.moveTo(d(-n[0][0][2]),u(u.domain()[0])),t.lineTo(d(-n[0][0][2]),u(u.domain()[1])),t.lineTo(d(d.domain()[1]+10),u(u.domain()[1]+10)),t.lineTo(d(d.domain()[1]+10),u(u.domain()[0]-10)),t.closePath(),t.moveTo(d(n[0][1][2]),u(u.domain()[0])),t.lineTo(d(n[0][1][2]),u(u.domain()[1])),t.lineTo(d(d.domain()[0]-10),u(u.domain()[1]+10)),t.lineTo(d(d.domain()[0]-10),u(u.domain()[0]-10)),t.closePath(),e.attr("d",t.toString())):(t.moveTo(d(d.domain()[0]-10),u(d.domain()[0]-10+n[0][1][2])),t.lineTo(d(d.domain()[1]+10),u(d.domain()[1]+10+n[0][1][2])),t.lineTo(d(d.domain()[1]+10),u(u.domain()[0]-10)),t.closePath(),t.moveTo(d(d.domain()[0]-10),u(d.domain()[0]-10-n[0][0][2])),t.lineTo(d(d.domain()[1]+10),u(d.domain()[1]+10-n[0][0][2])),t.lineTo(d(d.domain()[0]-10),u(u.domain()[1]+10)),t.closePath(),e.attr("d",t.toString())):0===n[0][0][0]?(n[0][0][2]===-n[1][0][2]&&(t.moveTo(d(-n[0][0][2]),u(u.domain()[0]-10)),t.lineTo(d(-n[0][0][2]),u(u.domain()[1]+10))),e.attr("d",t.toString())):0===n[0][0][1]?(n[0][0][2]===-n[1][0][2]&&(t.moveTo(d(n[0][0][2]),u(u.domain()[0]-10)),t.lineTo(d(n[0][0][2]),u(u.domain()[1]+10))),e.attr("d",t.toString())):(n[0][0][2]===-n[1][0][2]&&(t.moveTo(d(d.domain()[0]-10),u(d.domain()[0]-10-n[0][0][2])),t.lineTo(d(d.domain()[1]+10),u(d.domain()[1]+10-n[0][0][2]))),e.attr("d",t.toString()))}),[r,s,j,b,d,u]),Object(c.jsx)("svg",{width:t,height:n,viewBox:"".concat(-t/2," ").concat(-n/2," ").concat(t," ").concat(n),ref:a})},E=(n(165),function(e){var t=e.underSAT,n=i.a.useState(2),s=Object(l.a)(n,2),a=s[0],o=s[1],d=i.a.useState("::<=?"),h=Object(l.a)(d,2),u=h[0],j=h[1],b=i.a.useState("3"),x=Object(l.a)(b,2),v=x[0],f=x[1],O=i.a.useState(!1),m=Object(l.a)(O,2),p=m[0],g=m[1],w=i.a.useCallback((function(e){o(Number.parseInt(e.currentTarget.value[0],10)),j(e.currentTarget.value.slice(1))}),[o,j]),k=i.a.useCallback((function(e){f(e.currentTarget.value)}),[f]),y=i.a.useCallback((function(e){g(e.currentTarget.checked)}),[g]),C=i.a.useMemo((function(){return 1===a?[1,u,Number.parseFloat(v)]:[1,2,u,Number.parseFloat(v)]}),[a,u,v]);return Object(c.jsxs)("div",{className:"Preprocess",children:[Object(c.jsxs)("fieldset",{className:"expression-picker",children:[Object(c.jsx)("legend",{children:"Choose an expression to be converted"}),Object(c.jsxs)("label",{children:["Type of operation =",Object(c.jsxs)("select",{value:a+u,onChange:w,children:[Object(c.jsx)("option",{label:"x\u2081 - x\u2082 \u2264 r",value:"2::<=?"}),Object(c.jsx)("option",{label:"x\u2081 - x\u2082 < r",value:"2::<?"}),Object(c.jsx)("option",{label:"x\u2081 - x\u2082 \u2265 r",value:"2::>=?"}),Object(c.jsx)("option",{label:"x\u2081 - x\u2082 > r",value:"2::>?"}),t?Object(c.jsxs)(r.Fragment,{children:[Object(c.jsx)("option",{label:"x\u2081 - x\u2082 = r",value:"2::=?"}),Object(c.jsx)("option",{label:"x\u2081 - x\u2082 \u2260 r",value:"2::<>?"})]}):null,Object(c.jsx)("option",{label:"x\u2081 \u2264 r",value:"1::<=?"}),Object(c.jsx)("option",{label:"x\u2081 < r",value:"1::<?"}),Object(c.jsx)("option",{label:"x\u2081 \u2265 r",value:"1::>=?"}),Object(c.jsx)("option",{label:"x\u2081 > r",value:"1::>?"}),t?Object(c.jsxs)(r.Fragment,{children:[Object(c.jsx)("option",{label:"x\u2081 = r",value:"1::=?"}),Object(c.jsx)("option",{label:"x\u2081 \u2260 r",value:"1::<>?"})]}):null]})]}),Object(c.jsxs)("label",{children:["Value of r =",Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"range",min:"-5",max:"5",step:"0.1",value:v,onChange:k}),Object(c.jsx)("input",{type:"number",min:"-5",max:"5",value:v,onChange:k})]})]}),Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsxs)("label",{children:["Convert? ",Object(c.jsx)("input",{type:"checkbox",checked:p,onChange:y})]})]}),Object(c.jsxs)("div",{className:"expression-viewer",children:["Original Expression: x",Object(c.jsx)("sub",{children:"1"})," ",2===a?Object(c.jsxs)(r.Fragment,{children:["- x",Object(c.jsx)("sub",{children:"2"})]}):""," ","".concat(T(u)," ").concat(v),Object(c.jsx)("br",{}),Object(c.jsxs)("span",{className:p?"":"invisible",children:["Processed Expression: ",F(S(C))]})]}),Object(c.jsx)(L,{width:520,height:360,processed:p,expressible:C})]})}),q=function(){return Object(c.jsxs)("section",{className:"Section Section2",children:[Object(c.jsx)("h2",{children:"Your Focus Determines Your Reality\u2026 or Your Solvers"}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"initial",children:"I"}),'t is often tedious to encode a problem entirely in boolean logic, and sometimes there is even a domain-specific solver that is much more efficient than SAT solvers for some parts of your problem, in which case paying SAT encoding cost and introducing NP-complete procedure for the parts can slow down the solution search process significantly. This is why many applications of SAT solvers often use Satisfiability "Modulo Theory" (referred as "SMT" below) solvers instead. In this article, we introduce the Quantifier-free Integer Difference Logic ("QFIDL") and its solver shortly, and describe the details of the integration of such "external" solvers with SAT solvers.']}),Object(c.jsxs)("section",{className:"Subsection Subsection2-1",children:[Object(c.jsx)("h3",{children:"Quantifier Free Integer Difference Logic (QFIDL)"}),Object(c.jsx)("p",{children:"QFIDL is a system that can solve the following question:"}),Object(c.jsxs)("blockquote",{children:["Suppose that we have integer variables: ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]}),", ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]}),", \u2026, ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"n"})]})," and their constraints in a form of ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"i"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"j"})]})," ",Object(c.jsxs)("var",{children:["[","op","]"]})," ",Object(c.jsx)("var",{children:"c"})," or ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"i"})]})," ",Object(c.jsxs)("var",{children:["[","op","]"]})," ",Object(c.jsx)("var",{children:"c"}),", where ",Object(c.jsx)("var",{children:"c"})," is a real number constant and ",Object(c.jsxs)("var",{children:["[","op","]"]})," is one of ",Object(c.jsx)("var",{children:"<"}),", ",Object(c.jsx)("var",{children:"\u2264"}),", ",Object(c.jsx)("var",{children:">"}),", ",Object(c.jsx)("var",{children:"\u2265"}),". Will there be an assignment for these integer variables so that they satisfy all the given constraints?"]}),Object(c.jsx)("p",{className:"indent",children:"Actually, we can encode these constraints in an even simpler form:"}),Object(c.jsxs)("blockquote",{children:["Suppose that we have integer variables: ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]}),", ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]}),", \u2026, ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"n"})]})," and their constraints in a form of ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"i"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"j"})]})," ",Object(c.jsx)("var",{children:"\u2264"})," ",Object(c.jsx)("var",{children:"c"}),", where ",Object(c.jsx)("var",{children:"c"})," is an integer number constant. Will there be an assignment for these integer variables so that they satisfy all the given constraints?"]}),Object(c.jsxs)("p",{children:["Here, we removed the constraints only with one variable, restrict ",Object(c.jsx)("var",{children:"c"}),' to be an integer, and limit the operator to the "less than or equal to" operator. This form is what QFIDL really solves internally.']}),Object(c.jsxs)("p",{className:"indent",children:["How this simplification is possible? Let","'","s check it in its graphical form:"]}),Object(c.jsx)(E,{underSAT:!1}),Object(c.jsxs)("p",{children:["As you may have noticed, the area that covered by simplified form is not exactly the same. However, since the variables are actually ",Object(c.jsx)("em",{children:"integer"})," variables, we need to focus on integer lattice points covered by those areas, which faithfully agree with each other."]}),Object(c.jsxs)("p",{className:"indent",children:["One thing worth noting is how we removed one variable constraints. We introduce an auxiliary variable ",Object(c.jsx)("var",{children:"z"})," representing 0, make one variable constraints to two variable constraints with ",Object(c.jsx)("var",{children:"z"}),". We can add this auxiliary variable because (the simple version of) QFIDL always works on a difference of two variables. Thus, once we have an satisfying assignment for the integer variables, we can add or substract the same amount from all variables to get another satisfying assignment. By adjusting the assigned value for ",Object(c.jsx)("var",{children:"z"}),' to be 0, we can derive a solution for "complex" form of constraints.']}),Object(c.jsxs)("p",{className:"indent",children:["When we use QFIDL alongside SAT solver, we have conjunctions and disjunctions. This allow us to encode more operators. In the above problem, we can change the list of ",Object(c.jsxs)("var",{children:["[","op","]"]})," into:"]}),Object(c.jsxs)("blockquote",{children:["\u2026 ",Object(c.jsxs)("var",{children:["[","op","]"]})," is one of ",Object(c.jsx)("var",{children:"<"}),", ",Object(c.jsx)("var",{children:"\u2264"}),", ",Object(c.jsx)("var",{children:">"}),", ",Object(c.jsx)("var",{children:"\u2265"}),", ",Object(c.jsx)("strong",{children:Object(c.jsx)("var",{children:"="})}),", ",Object(c.jsx)("strong",{children:Object(c.jsx)("var",{children:"\u2260"})}),". \u2026"]}),Object(c.jsx)("p",{children:"The simplification of these new operators can also be depicted as a graph:"}),Object(c.jsx)(E,{underSAT:!0})]}),Object(c.jsxs)("section",{className:"Subsection Subsection2-2",children:[Object(c.jsx)("h3",{children:"QFIDL Solver"}),Object(c.jsx)("p",{children:"How can we solve a QFIDL problem? Suppose that we have"}),Object(c.jsxs)("blockquote",{className:"math",children:[Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," \u2264 4",Object(c.jsx)("br",{}),Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"3"})]})," \u2264 5",Object(c.jsx)("br",{}),Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"3"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," \u2264 -10"]}),Object(c.jsxs)("p",{children:["We can easily show that there is no satisfying assignment for ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]}),", ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]}),", and ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"3"})]}),":"]}),Object(c.jsxs)("blockquote",{className:"math",children:[Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," \u2264 ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," + 4 \u2264 ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"3"})]})," + 9 \u2264 ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," - 1"]}),Object(c.jsxs)("p",{children:["i.e., the integer ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," should be smaller than its predecessor, and it is impossible. This procedure can be generalized to any QFIDL problems. We first construct a graph:"]}),Object(c.jsx)(P,{}),Object(c.jsxs)("p",{children:["Here, each node represents a variable, and the special ",Object(c.jsx)("var",{children:"min"})," node represents the minimum variable among all. Each edge represents a difference inequality between two end nodes. For example, when there is an inequality ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," \u2264 4, we put a edge from the node ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," to the node ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," with the weight of 4."]}),Object(c.jsxs)("p",{className:"indent",children:["Now, we will find shortest path to each node from ",Object(c.jsx)("var",{children:"min"})," node. We used ",Object(c.jsx)("a",{href:"https://en.wikipedia.org/wiki/Bellman%E2%80%93Ford_algorithm",children:"Bellman-Ford Algorithm"})," to find the shortest path."]}),Object(c.jsx)(N,{}),Object(c.jsxs)("p",{children:["After traversing all edges twice, the algorithm finds that there is a negative cycle: ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]}),"-",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]}),"-",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"3"})]}),"-",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]}),". Note that this negative cycle is exactly the sequence we saw in this unsatisfiabilty proof:"]}),Object(c.jsxs)("blockquote",{className:"math",children:[Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," \u2264 ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," + 4 \u2264 ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"3"})]})," + 9 \u2264 ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," - 1"]}),Object(c.jsxs)("p",{children:["This is because a negative cycle of the graph encoded in the above-mentioned way appears only when there is such an unsatisfiabilty proof, or rather, it is a direct encoding of an unsatisfiabilty proof. Moreover, this graph method gives a concrete satisfying assignment if there is no negative cycle. Suppose that ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," and ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," have the following constraint:"]}),Object(c.jsxs)("blockquote",{className:"math",children:[Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," \u2264 ",Object(c.jsx)("var",{children:"c"})]}),Object(c.jsxs)("p",{children:["If ",Object(c.jsxs)("var",{children:["d",Object(c.jsx)("sub",{children:"1"})]})," and ",Object(c.jsxs)("var",{children:["d",Object(c.jsx)("sub",{children:"2"})]})," are the shortest path distance to ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," and ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," from ",Object(c.jsx)("var",{children:"min"}),", they should satisfy"]}),Object(c.jsxs)("blockquote",{className:"math",children:["- ",Object(c.jsxs)("var",{children:["d",Object(c.jsx)("sub",{children:"1"})]})," + ",Object(c.jsxs)("var",{children:["d",Object(c.jsx)("sub",{children:"2"})]})," \u2264 ",Object(c.jsx)("var",{children:"c"})]}),Object(c.jsxs)("p",{children:["Otherwise, ",Object(c.jsxs)("var",{children:["d",Object(c.jsx)("sub",{children:"1"})]})," + ",Object(c.jsx)("var",{children:"c"})," is smaller than ",Object(c.jsxs)("var",{children:["d",Object(c.jsx)("sub",{children:"2"})]}),", and ",Object(c.jsxs)("var",{children:["d",Object(c.jsx)("sub",{children:"2"})]})," is not the shortest path distance to ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]}),". In other words, ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," = - ",Object(c.jsxs)("var",{children:["d",Object(c.jsx)("sub",{children:"1"})]})," and ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," = - ",Object(c.jsxs)("var",{children:["d",Object(c.jsx)("sub",{children:"2"})]})," should be a satisfying assignment if they are indeed the shortest path distances from ",Object(c.jsx)("var",{children:"min"}),". Here is a satisfiable example:"]}),Object(c.jsxs)("blockquote",{className:"math",children:[Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"4"})]})," \u2264 2",Object(c.jsx)("br",{}),Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," \u2264 4",Object(c.jsx)("br",{}),Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," \u2264 -4",Object(c.jsx)("br",{}),Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"3"})]})," \u2264 5",Object(c.jsx)("br",{}),Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"3"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"4"})]})," \u2264 -1"]}),Object(c.jsx)(D,{}),Object(c.jsxs)("p",{children:["As this example gives the distance -4, 0, 0, -2, the satisfying assignment we can derive from the graph is ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," = 4, ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," = 0, ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"3"})]})," = 0, and ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"4"})]})," = 2. We can check that all the above conditions are met:"]}),Object(c.jsxs)("blockquote",{className:"math",children:[Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"4"})]})," = 4 - 2 \u2264 2",Object(c.jsx)("br",{}),Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," = 4 - 0 \u2264 4",Object(c.jsx)("br",{}),Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," = 0 - 4 \u2264 -4",Object(c.jsx)("br",{}),Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"3"})]})," = 0 - 0 \u2264 5",Object(c.jsx)("br",{}),Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"3"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"4"})]})," = 0 - 2 \u2264 -1"]})]})]})},Q=[[[1,4,"::>=?",4],[4,1,"::>=?",5]],[[4,5,"::>=?",4],[5,4,"::>=?",4]],[[5,1,"::>=?",5],[1,5,"::>=?",4]],[[2,3,"::>=?",1],[3,2,"::>=?",2]],[[1,"::>=?",0]],[[1,"::<=?",8]],[[2,"::>=?",0]],[[2,"::<=?",11]],[[3,"::>=?",0]],[[3,"::<=?",12]],[[4,"::>=?",0]],[[4,"::<=?",9]],[[5,"::>=?",0]],[[5,"::<=?",9]]],W=function(){var e=d(Q);if(void 0===e)return null;var t=e.expressedFormula;return Object(c.jsx)(r.Fragment,{children:F(t,!0)})},z=n(70),R=function(e){var t=e.width,n=e.height,r=e.formula,s=e.assignmentAPI,a=e.update,o=i.a.useMemo((function(){return new Map(p(s.getValueMapList)[0])}),[s,a]),l=i.a.useMemo((function(){return new Map(p(s.getValueOfClauseMapList)[0])}),[s,a]),d=i.a.useRef(null),j=i.a.useCallback((function(e){return h.u[void 0===e?7:e?0:1]}),[]),b=i.a.useCallback((function(e){return h.s[void 0===e?7:e?0:1]}),[]),x=i.a.useCallback((function(e){if("string"===typeof e)return j(void 0);var t=o.get(Math.abs(e));return j(void 0===t?void 0:t[0]===e>0)}),[j,o]),v=i.a.useCallback((function(e){if("string"===typeof e)return b(void 0);var t=o.get(Math.abs(e));return b(void 0===t?void 0:t[0]===e>0)}),[b,o]),f=i.a.useCallback((function(e,t){var n=l.get(t);return j(null!==n&&void 0!==n?n:void 0)}),[j,l]),O=i.a.useCallback((function(e,t){var n=l.get(t);return b(null!==n&&void 0!==n?n:void 0)}),[b,l]),m=i.a.useCallback((function(){var e=p((function(e){return s.getValueOfFormula(e)}))[0];return j(null!==e&&void 0!==e?e:void 0)}),[j,s]),g=i.a.useCallback((function(){var e=p((function(e){return s.getValueOfFormula(e)}))[0];return b(null!==e&&void 0!==e?e:void 0)}),[b,s]);return i.a.useEffect((function(){var e,t,n,r,i,s=h.v(d.current).append("g").attr("transform","translate(0, 30)"),a=null===(e=s.append("g").attr("transform","translate(10, 10)").attr("font-size","14px").node())||void 0===e?void 0:e.getBBox();s.append("rect").attr("stroke","".concat(h.r[7])).attr("stroke-width","1").attr("fill","none").attr("x",(null!==(t=null===a||void 0===a?void 0:a.x)&&void 0!==t?t:-1)+1).attr("y",(null!==(n=null===a||void 0===a?void 0:a.y)&&void 0!==n?n:-1)+1).attr("width",(null!==(r=null===a||void 0===a?void 0:a.width)&&void 0!==r?r:-18)+18).attr("height",(null!==(i=null===a||void 0===a?void 0:a.height)&&void 0!==i?i:-18)+18)}),[]),i.a.useEffect((function(){var e,t,n,i,s,a=h.v(d.current).select("g"),c=a.select("g");c.selectChildren("text.clause-db-formula").data([0]).join((function(e){var t=e.append("g").classed("clause-db-formula",!0).append("text").text("f").classed("clause-db-formula-text",!0);return t.transition().duration(500).attr("fill",m).attr("stroke",m),t.clone(!0).lower().classed("clause-db-formula-text",!1).classed("clause-db-formula-text-shade",!0).transition().duration(500).attr("fill",g).attr("stroke",g),t}),(function(e){return e.each((function(){h.v(this).selectChild("text.clause-db-formula-text").transition().duration(500).attr("fill",m).attr("stroke",m),h.v(this).selectChild("text.clause-db-formula-text-shade").transition().duration(500).attr("fill",g).attr("stroke",g)})),e})),c.selectChildren("g.clause-db-list").data(r,(function(e){return JSON.stringify(e)})).join((function(e){var t=e.append("g").classed("clause-db-list",!0).attr("opacity",0).attr("transform",(function(e,t){return"translate(0, ".concat(30*t+30,")")}));return t.transition().attr("opacity",1),t.append("text").classed("clause-db-clause",!0).text((function(e,t){return"c".concat(t)})).attr("stroke",f).attr("fill",f).clone(!0).lower().classed("clause-db-clause",!1).classed("clause-db-clause-shade",!0).attr("stroke-width",2).attr("stroke",O).attr("fill",O),t.append("text").classed("clause-db-clause-equal",!0).attr("x",30).text("="),t}),(function(e){return e.each((function(e,t){h.v(this).selectChild("text.clause-db-clause").transition().duration(500).attr("fill",f(e,t)).attr("stroke",f(e,t)),h.v(this).selectChild("text.clause-db-clause-shade").transition().duration(500).attr("fill",O(e,t)).attr("stroke",O(e,t))})),e})).each((function(e){var t=h.v(this).datum(e);t.selectChildren("g.clause-db-literal").data((function(e){var t=Object(z.a)(e),n=t[0];return t.slice(1).reduce((function(e,t){return[].concat(Object(u.a)(e),["\u2228",t])}),[n])}),(function(e){return JSON.stringify(e)})).join((function(e){var t=e.append("g").classed("clause-db-literal",!0);return t.append("text").classed("clause-db-literal-text",!0).text((function(e){return"string"===typeof e?e:e>0?"b".concat(e):"\xacb".concat(-e)})).attr("x",(function(e,t){return 30*t+80})).attr("text-anchor","end").attr("stroke",x).attr("fill",x).clone(!0).lower().classed("clause-db-literal-text",!1).classed("clause-db-literal-text-shade",!0).attr("stroke-width",2).attr("stroke",v).attr("fill",v),t})),t.selectAll(".clause-db-literal-text").transition().duration(750).attr("stroke",x).attr("fill",x),t.selectAll(".clause-db-literal-text-shade").transition().duration(750).attr("stroke",v).attr("fill",v)}));var o=null===(e=c.node())||void 0===e?void 0:e.getBBox();a.select("rect").attr("x",(null!==(t=null===o||void 0===o?void 0:o.x)&&void 0!==t?t:-1)+1).attr("y",(null!==(n=null===o||void 0===o?void 0:o.y)&&void 0!==n?n:-1)+1).attr("width",(null!==(i=null===o||void 0===o?void 0:o.width)&&void 0!==i?i:-18)+18).attr("height",(null!==(s=null===o||void 0===o?void 0:o.height)&&void 0!==s?s:-18)+18)}),[f,O,m,g,x,v,r,s,a]),i.a.useEffect((function(){var e=h.v(d.current);return function(){e.selectAll("g").remove()}}),[]),Object(c.jsx)("svg",{width:t,height:n,viewBox:"0 0 ".concat(t," ").concat(n),ref:d})},V=[[[1,4,"::>=?",4],[4,1,"::>=?",5]],[[4,5,"::>=?",4],[5,4,"::>=?",4]],[[5,1,"::>=?",5],[1,5,"::>=?",4]],[[2,3,"::>=?",1],[3,2,"::>=?",2]],[[1,"::>=?",0]],[[1,"::<=?",8]],[[2,"::>=?",0]],[[2,"::<=?",11]],[[3,"::>=?",0]],[[3,"::<=?",12]],[[4,"::>=?",0]],[[4,"::<=?",9]],[[5,"::>=?",0]],[[5,"::<=?",9]]],H=function(){var e=d(V);if(void 0===e)return null;var t=e.initialFormula;return Object(c.jsx)("div",{style:{display:"block",width:160,margin:"0 auto"},children:Object(c.jsx)(R,{width:160,height:500,formula:t,assignmentAPI:{getValueMapList:function(e){e([])},getValue:function(e,t){t(null)},getValueOfClauseMapList:function(e){e([])},getValueOfClause:function(e,t){t(null)},getValueOfFormula:function(e){e(null)}},update:0})})},Y=function(e){var t=e.width,n=e.height,r=e.conversionTable,s=e.assignmentAPI,a=e.update,o=e.onClick,l=i.a.useMemo((function(){return new Map(p(s.getValueMapList)[0])}),[s,a]),d=i.a.useRef(null),u=i.a.useCallback((function(e){return h.u[void 0===e?7:e?0:1]}),[]),j=i.a.useCallback((function(e){return h.s[void 0===e?7:e?0:1]}),[]),b=i.a.useCallback((function(e){var t=l.get(e[0]);return u(null===t||void 0===t?void 0:t[0])}),[u,l]),x=i.a.useCallback((function(e){var t=l.get(e[0]);return j(null===t||void 0===t?void 0:t[0])}),[j,l]),v=i.a.useCallback((function(e){var t=l.get(Math.abs(e[1]));return u(void 0===t||t[0]===e[1]<0?void 0:t[0])}),[u,l]),f=i.a.useCallback((function(e){var t=l.get(Math.abs(e[1]));return j(void 0===t||t[0]===e[1]<0?void 0:t[0])}),[j,l]);return i.a.useEffect((function(){var e,t,n,r,i,s=h.v(d.current).append("g"),a=null===(e=s.append("g").attr("transform","translate(10, 10)").node())||void 0===e?void 0:e.getBBox();s.append("rect").attr("stroke","".concat(h.r[7])).attr("stroke-width","1").attr("fill","none").attr("x",(null!==(t=null===a||void 0===a?void 0:a.x)&&void 0!==t?t:-1)+1).attr("y",(null!==(n=null===a||void 0===a?void 0:a.y)&&void 0!==n?n:-1)+1).attr("width",(null!==(r=null===a||void 0===a?void 0:a.width)&&void 0!==r?r:-18)+18).attr("height",(null!==(i=null===a||void 0===a?void 0:a.height)&&void 0!==i?i:-18)+18)}),[]),i.a.useEffect((function(){var e,t,n,i,s,a=h.v(d.current).select("g"),c=a.select("g");c.selectChildren("g").data(h.w(h.m(r.expressedToLiteral,(function(e){return Math.abs(e[1])})),(function(e){return e[0]}))).join((function(e){var t=e.append("g");return t.append("text").classed("conversion-variable",!0).on("click",(function(e,t){null===o||void 0===o||o(t)})).text((function(e){return"b".concat(e[0])})).attr("text-anchor","start").attr("y",30).attr("font-size","14px").attr("fill",b).attr("stroke",b).clone(!0).lower().classed("conversion-variable",!1).classed("conversion-variable-shade",!0).attr("stroke-width",2).attr("fill",x).attr("stroke",x),t}),(function(e){return e.selectChildren("text.conversion-variable").attr("fill",b).attr("stroke",b),e.selectChildren("text.conversion-variable-shade").attr("fill",x).attr("stroke",x),e})).attr("transform",(function(e,t){return"translate(".concat(t%3*160,", ").concat(80*(t/3|0),")")})),c.selectChildren("g").selectChildren("g.conversion-expressed").data((function(e){return h.w(e[1],(function(e){return e[1]<0}))}),(function(e){return e[1]})).join((function(e){var t=e.append("g").classed("conversion-expressed",!0);return t.append("text").classed("conversion-expressed-text",!0).text((function(e){return"x".concat(e[0][0]," - x").concat(e[0][1]," \u2264 ").concat(e[0][2])})).attr("text-anchor","start").attr("x",40).attr("y",(function(e,t){return 30*t+30})).attr("font-size","14px").attr("stroke",v).attr("fill",v).clone(!0).lower().classed("conversion-expressed-text",!1).classed("conversion-expressed-text-shade",!0).attr("stroke-width",2).attr("stroke",f).attr("fill",f),t}),(function(e){return e.selectChildren("text.conversion-expressed-text").attr("stroke",v).attr("fill",v),e.selectChildren("text.conversion-expressed-text-shade").attr("stroke",f).attr("fill",f),e}));var l=null===(e=c.node())||void 0===e?void 0:e.getBBox();a.select("rect").attr("x",(null!==(t=null===l||void 0===l?void 0:l.x)&&void 0!==t?t:-1)+1).attr("y",(null!==(n=null===l||void 0===l?void 0:l.y)&&void 0!==n?n:-1)+1).attr("width",(null!==(i=null===l||void 0===l?void 0:l.width)&&void 0!==i?i:-18)+18).attr("height",(null!==(s=null===l||void 0===l?void 0:l.height)&&void 0!==s?s:-18)+18)}),[b,x,v,f,r,a,o]),i.a.useEffect((function(){var e=h.v(d.current);return function(){e.selectAll("g").remove()}}),[]),Object(c.jsx)("svg",{width:t,height:n,viewBox:"0 0 ".concat(t," ").concat(n),ref:d})},G=[[[1,4,"::>=?",4],[4,1,"::>=?",5]],[[4,5,"::>=?",4],[5,4,"::>=?",4]],[[5,1,"::>=?",5],[1,5,"::>=?",4]],[[2,3,"::>=?",1],[3,2,"::>=?",2]],[[1,"::>=?",0]],[[1,"::<=?",8]],[[2,"::>=?",0]],[[2,"::<=?",11]],[[3,"::>=?",0]],[[3,"::<=?",12]],[[4,"::>=?",0]],[[4,"::<=?",9]],[[5,"::>=?",0]],[[5,"::<=?",9]]],U=function(){var e=d(G),t=i.a.useState(0),n=Object(l.a)(t,2),r=n[0],s=n[1],a=i.a.useRef(new Map),o=i.a.useMemo((function(){return{getValueMapList:function(e){e(Array.from(a.current.entries()))},getValue:function(e,t){var n;t(null!==(n=a.current.get(e))&&void 0!==n?n:null)},getValueOfClauseMapList:function(e){e([])},getValueOfClause:function(e,t){t(null)},getValueOfFormula:function(e){e(null)}}}),[a]),u=i.a.useCallback((function(e){var t,n=null===(t=a.current.get(e[0]))||void 0===t?void 0:t[0];void 0===n?a.current.set(e[0],[!0,[]]):n?a.current.set(e[0],[!1,[]]):a.current.delete(e[0]),s((function(e){return e+1}))}),[a,s]);return void 0===e?null:Object(c.jsxs)("div",{style:{display:"block",width:462,margin:"0 auto"},children:[Object(c.jsxs)("div",{style:{display:"block",padding:"3px",border:"solid 1px",borderColor:h.r[7],textAlign:"center"},children:[Object(c.jsx)("span",{style:{color:h.u[7],margin:"0 1em"},children:"Unassigned"})," ",Object(c.jsx)("span",{style:{color:h.u[0],margin:"0 1em"},children:"True"})," ",Object(c.jsx)("span",{style:{color:h.u[1],margin:"0 1em"},children:"False"})]}),Object(c.jsx)(Y,{width:462,height:500,conversionTable:e.conversionTable,assignmentAPI:o,onClick:u,update:r})]})},_=[[[1,4,"::>=?",4],[4,1,"::>=?",5]],[[4,5,"::>=?",4],[5,4,"::>=?",4]],[[5,1,"::>=?",5],[1,5,"::>=?",4]],[[2,3,"::>=?",1],[3,2,"::>=?",2]],[[1,"::>=?",0]],[[1,"::<=?",8]],[[2,"::>=?",0]],[[2,"::<=?",11]],[[3,"::>=?",0]],[[3,"::<=?",12]],[[4,"::>=?",0]],[[4,"::<=?",9]],[[5,"::>=?",0]],[[5,"::<=?",9]]],J=function(){var e=d(_);if(void 0===e)return null;var t=p(e.getFormula)[0];return Object(c.jsxs)(r.Fragment,{children:[Object(c.jsx)("div",{style:{display:"block",width:160,margin:"0 auto"},children:Object(c.jsx)(R,{width:160,height:200,formula:t,assignmentAPI:e.assignment,update:0})}),Object(c.jsx)("div",{style:{display:"block",width:462,margin:"0 auto"},children:Object(c.jsx)(Y,{width:462,height:500,conversionTable:e.conversionTable,assignmentAPI:e.assignment,update:0})})]})},X=n(9),Z=function(e){var t=e.width,n=e.height,r=e.nodes,s=e.links,a=i.a.useRef(null),o=i.a.useMemo((function(){return r.map((function(e){return{id:e.variable,value:e.value,isDecision:e.isDecision,level:e.level}}))}),[r]),l=i.a.useMemo((function(){return s.map((function(e){var t=e.startVertex,n=e.endVertex,r=e.levelDiff,i=e.clauseIndex;return{id:"".concat(t,",").concat(n),source:t,target:n,levelDiff:r,clauseIndex:i}}))}),[s]);return v({id:"implication",width:t,height:n,nodes:o,links:l,ref:a.current,nodeId:function(e){return e.id},nodeShape:function(e){return e.isDecision?"rect":"circle"},nodeText:function(e){return"b".concat(e.id,"@").concat(e.level)},nodeFill:function(e){return h.s[e.value?0:1]},nodeFillNew:function(e){return h.u[e.value?0:1]},linkId:function(e){return e.id},linkDistance:function(e){return 20*e.levelDiff+50},linkText:function(e){return"c".concat(e.clauseIndex)},linkStroke:h.u[7],linkStrokeNew:h.r[7]}),Object(c.jsx)("svg",{width:t,height:n,viewBox:"".concat(-t/2," ").concat(-n/2," ").concat(t," ").concat(n),ref:a})},K=[[[1,4,"::>=?",4],[4,1,"::>=?",5]],[[4,5,"::>=?",4],[5,4,"::>=?",4]],[[5,1,"::>=?",5],[1,5,"::>=?",4]],[[2,3,"::>=?",1],[3,2,"::>=?",2]],[[1,"::>=?",0]],[[1,"::<=?",8]],[[2,"::>=?",0]],[[2,"::<=?",11]],[[3,"::>=?",0]],[[3,"::<=?",12]],[[4,"::>=?",0]],[[4,"::<=?",9]],[[5,"::>=?",0]],[[5,"::<=?",9]]],$=function(e){var t=e.style,n=e.children;return Object(c.jsx)("span",{style:Object(X.a)({color:h.u[0]},t),children:n})},ee=function(e){var t=e.style,n=e.children;return Object(c.jsx)("span",{style:Object(X.a)({color:h.u[1]},t),children:n})},te=function(){var e=d(K),t=i.a.useState(0),n=Object(l.a)(t,2),s=n[0],a=n[1],o=i.a.useState([]),u=Object(l.a)(o,2),j=u[0],b=u[1],x=i.a.useState([]),v=Object(l.a)(x,2),f=v[0],O=v[1],w=i.a.useState([]),y=Object(l.a)(w,2),T=y[0],S=y[1],C=i.a.useState([]),F=Object(l.a)(C,2),A=F[0],P=F[1],I=i.a.useState(0),N=Object(l.a)(I,2),M=N[0],D=N[1],B=i.a.useState(0),L=Object(l.a)(B,2),E=L[0],q=L[1],Q=Object(r.useMemo)((function(){return null===e||void 0===e?void 0:e.conversionTable}),[e]),W=Object(r.useMemo)((function(){return void 0!==e?p(e.getFormula)[0]:void 0}),[e,E]),z=i.a.useCallback((function(){D((function(e){return e+1})),q((function(e){return e+1})),e.getImplicationGraph((function(e,t){b(e),O(t)})),e.getBellmanFordGraph((function(e,t){S(e),P(t)}))}),[e]),V=i.a.useCallback((function(){switch(s){case 0:a((function(e){return e+1})),e.step(g((function(t){a((function(e){return e+1})),e.step(t)}),{DecisionComplete:function(){z()}}));break;case 16:case 197:case 345:a((function(e){return e+1})),e.step(g((function(t){a((function(e){return e+1})),e.step(t)}),{PropagationNth:function(){z()}}));break;case 17:a((function(e){return e+1})),e.step(g((function(t){a((function(e){return e+1})),e.step(t)}),{BCPConflictDrivenClause:function(){z()}}));break;case 196:case 200:a((function(e){return e+1})),e.step(g((function(t){a((function(e){return e+1})),e.step(t)}),{BacktraceComplete:function(){z()}}));break;case 353:a((function(e){return e+1})),e.step(g((function(t){a((function(e){return e+1})),e.step(t)}),{Finish:function(){z()}}));break;default:console.log("WTF?")}}),[e,s,z]),H=i.a.useCallback((function(){var t=[0,16,17,196,197,200,345,353,490],n=t.indexOf(s),r=t[n]-t[n-1];a((function(e){return e-1})),e.undo(k((function(t){0!==--r?(a((function(e){return e-1})),e.undo(t)):z()}),{Start:function(){z()}}))}),[e,s,z]),G=i.a.useCallback((function(){e.reset(),a(0),b([]),O([]),S([]),P([])}),[e]),U=i.a.useMemo((function(){switch(s){case 0:return"Let's start with SAT solver.";case 16:return Object(c.jsxs)(r.Fragment,{children:["SAT Solver picks ",Object(c.jsxs)(ee,{children:[Object(c.jsx)("var",{children:"b1"})," (false)"]}),", ",Object(c.jsxs)($,{children:[Object(c.jsx)("var",{children:"b3"})," (true)"]}),", ",Object(c.jsxs)($,{children:[Object(c.jsx)("var",{children:"b8"})," (true)"]}),", ",Object(c.jsxs)($,{children:[Object(c.jsx)("var",{children:"b7"})," (true)"]}),", ",Object(c.jsxs)(ee,{children:[Object(c.jsx)("var",{children:"b5"})," (false)"]}),", and ",Object(c.jsxs)($,{children:[Object(c.jsx)("var",{children:"b4"})," (true)"]})," in the order, and this determines values of all boolean variables. Now, we can run QFIDL with the expression highlighted in the conversion table."]});case 17:return Object(c.jsxs)(r.Fragment,{children:["First, we construct a graph. Here, I omitted the ",Object(c.jsx)("var",{children:"min"})," node as its edges are obvious. Now, we apply Bellman-Ford algorithm to find minimum distances\u2026"]});case 196:return Object(c.jsxs)(r.Fragment,{children:["Oops! we find a negative cycle. Two edges between ",Object(c.jsx)("var",{children:"x4"})," and ",Object(c.jsx)("var",{children:"x5"})," caused the cycle."]});case 197:return Object(c.jsxs)(r.Fragment,{children:["We translated this cycle into a SAT conflict, \xac",Object(c.jsx)("var",{children:"b4"})," \u2228 \xac",Object(c.jsx)("var",{children:"b3"}),", and revert the recent-most decision, ",Object(c.jsxs)($,{children:[Object(c.jsx)("var",{children:"b4"})," (true)"]}),"."]});case 200:return Object(c.jsxs)(r.Fragment,{children:["Now we derived ",Object(c.jsxs)(ee,{children:[Object(c.jsx)("var",{children:"b4"})," (false)"]})," instead. Does this allow us to find minimum distances?"]});case 345:return Object(c.jsxs)(r.Fragment,{children:["Unfortunately, our graph still has a negative cycle. Two edges between ",Object(c.jsx)("var",{children:"x2"})," and ",Object(c.jsx)("var",{children:"x3"})," caused the cycle, so we block it like \xac",Object(c.jsx)("var",{children:"b8"})," \u2228 \xac",Object(c.jsx)("var",{children:"b7"})," and go back to the level where we assigned ",Object(c.jsxs)($,{children:[Object(c.jsx)("var",{children:"b7"})," (true)"]}),"."]});case 353:return Object(c.jsxs)(r.Fragment,{children:["With ",Object(c.jsxs)(ee,{children:[Object(c.jsx)("var",{children:"b7"})," (false)"]}),", can we find minimum distances?"]});case 490:return Object(c.jsxs)(r.Fragment,{children:["Yes! We can find! This gives us ",Object(c.jsx)("var",{children:"x1"})," = 4, ",Object(c.jsx)("var",{children:"x2"})," = 0, ",Object(c.jsx)("var",{children:"x3"})," = 2, ",Object(c.jsx)("var",{children:"x4"})," = 9, ",Object(c.jsx)("var",{children:"x5"})," = 0."]});default:return"NYI\u2026"}}),[s]);return void 0===e?null:Object(c.jsxs)("div",{style:{position:"relative",height:1120},children:[Object(c.jsx)("div",{style:{height:100,boxSizing:"border-box",border:"1px black solid",padding:10,margin:"10px auto"},children:U}),Object(c.jsxs)("div",{style:{position:"absolute",left:"50%",top:120,transform:"translate(-450px, 0)",width:1e3,margin:"0 auto"},children:[Object(c.jsxs)("div",{style:{display:"block",width:500,padding:"3px",border:"solid 1px",borderColor:h.r[7],textAlign:"center"},children:[Object(c.jsxs)("div",{style:{display:"inline-block",verticalAlign:"middle"},children:["<","name",">","@","<","level",">"]}),Object(c.jsxs)("div",{style:{display:"inline-block",verticalAlign:"middle"},children:[Object(c.jsx)("span",{style:{color:h.u[7],margin:"0 1em"},children:"Unassigned"})," ",Object(c.jsx)($,{style:{margin:"0 1em"},children:"True"})," ",Object(c.jsx)(ee,{style:{margin:"0 1em"},children:"False"}),Object(c.jsx)("br",{}),Object(c.jsx)("svg",{width:"1em",height:"1em",viewBox:"-0.5em -0.5em 1em 1em",style:{marginLeft:"1em"},children:Object(c.jsx)("rect",{width:"1em",height:"1em"})})," : decision variable ",Object(c.jsx)("svg",{width:"1em",height:"1em",viewBox:"-0.5em -0.5em 1em 1em",style:{marginLeft:"1em"},children:Object(c.jsx)("circle",{cx:"0.5em",cy:"0.5em",r:"0.5em"})})," : derived variable"]})]}),Object(c.jsx)("button",{onClick:G,disabled:0===s,children:"Reset"}),Object(c.jsxs)("button",{onClick:H,disabled:0===s,children:["<"," Undo"]}),Object(c.jsxs)("button",{onClick:V,disabled:490===s,children:["Step ",">"]}),Object(c.jsx)("br",{}),Object(c.jsx)(Z,{width:500,height:400,nodes:j,links:f}),Object(c.jsx)(m,{width:500,height:400,nodes:T,links:A,hideMin:!0}),Object(c.jsx)("br",{}),Object(c.jsx)(R,{width:500,height:600,formula:W,assignmentAPI:e.assignment,update:E}),Object(c.jsx)("div",{style:{width:462,float:"right"},children:Object(c.jsx)(Y,{width:462,height:600,conversionTable:Q,assignmentAPI:e.assignment,update:M})})]})]})},ne=[[[1,4,"::>=?",4],[4,1,"::>=?",5]],[[4,5,"::>=?",4],[5,4,"::>=?",4]],[[5,1,"::>=?",5],[1,5,"::>=?",4]],[[2,3,"::>=?",1],[3,2,"::>=?",2]],[[1,"::>=?",0]],[[1,"::<=?",8]],[[2,"::>=?",0]],[[2,"::<=?",11]],[[3,"::>=?",0]],[[3,"::<=?",12]],[[4,"::>=?",0]],[[4,"::<=?",9]],[[5,"::>=?",0]],[[5,"::<=?",9]]],re=function(e){var t=e.style,n=e.children;return Object(c.jsx)("span",{style:Object(X.a)({color:h.u[0]},t),children:n})},ie=function(e){var t=e.style,n=e.children;return Object(c.jsx)("span",{style:Object(X.a)({color:h.u[1]},t),children:n})},se=function(){var e=function(e){var t=i.a.useState(void 0),n=Object(l.a)(t,2),r=n[0],s=n[1];return i.a.useEffect((function(){setTimeout((function(){s(window.makeSatyrosAPI1(e))}),500)}),[]),r}(ne),t=i.a.useState(0),n=Object(l.a)(t,2),s=n[0],a=n[1],o=i.a.useState([]),d=Object(l.a)(o,2),u=d[0],j=d[1],b=i.a.useState([]),x=Object(l.a)(b,2),v=x[0],f=x[1],O=i.a.useState([]),w=Object(l.a)(O,2),y=w[0],T=w[1],S=i.a.useState([]),C=Object(l.a)(S,2),F=C[0],A=C[1],P=i.a.useState(0),I=Object(l.a)(P,2),N=I[0],M=I[1],D=i.a.useState(0),B=Object(l.a)(D,2),L=B[0],E=B[1],q=Object(r.useMemo)((function(){return null===e||void 0===e?void 0:e.conversionTable}),[e]),Q=Object(r.useMemo)((function(){return void 0!==e?p(e.getFormula)[0]:void 0}),[e,L]),W=i.a.useCallback((function(){M((function(e){return e+1})),E((function(e){return e+1})),e.getImplicationGraph((function(e,t){j(e),f(t)})),e.getBellmanFordGraph((function(e,t){T(e),A(t)}))}),[e]),z=i.a.useCallback((function(){switch(s){case 0:case 232:case 355:case 621:a((function(e){return e+1})),e.step(g((function(t){a((function(e){return e+1})),e.step(t)}),{BCPComplete:function(){W()}}));break;case 1:case 111:case 230:case 486:case 622:a((function(e){return e+1})),e.step(g((function(t){a((function(e){return e+1})),e.step(t)}),{PropagationNth:function(){W()}}));break;case 2:case 114:case 623:case 752:a((function(e){return e+1})),e.step(g((function(t){a((function(e){return e+1})),e.step(t)}),{DecisionResult:function(){W()}}));break;case 487:a((function(e){return e+1})),e.step(g((function(t){a((function(e){return e+1})),e.step(t)}),{BCPConflictDrivenClause:function(){W()}}));break;case 620:a((function(e){return e+1})),e.step(g((function(t){a((function(e){return e+1})),e.step(t)}),{BacktraceComplete:function(){W()}}));break;case 892:a((function(e){return e+1})),e.step(g((function(t){a((function(e){return e+1})),e.step(t)}),{DecisionComplete:function(){W()}}));break;default:console.log("WTF?")}}),[e,s,W]),V=i.a.useCallback((function(){var t=[0,1,2,111,114,230,232,355,486,487,620,621,622,623,752,892,1202],n=t.indexOf(s),r=t[n]-t[n-1];a((function(e){return e-1})),e.undo(k((function(t){0!==--r?(a((function(e){return e-1})),e.undo(t)):W()}),{Start:function(){W()}}))}),[e,s,W]),H=i.a.useCallback((function(){e.reset(),a(0),j([]),f([]),T([]),A([])}),[e]),G=i.a.useMemo((function(){switch(s){case 0:return"Let's start with SAT solver.";case 1:return Object(c.jsxs)(r.Fragment,{children:["SAT Solver derive values from unit clauses, and try to propagate constraints. Unfortunately, there","'","s nothing to propagate here."]});case 2:return Object(c.jsxs)(r.Fragment,{children:["Anyway, maybe these unit clauses already have some QFIDL conflicts. Let","'","s check them with QFIDL solver!"]});case 111:return Object(c.jsx)(r.Fragment,{children:"There was no negative cycle in the graph, yay!"});case 114:return Object(c.jsxs)(r.Fragment,{children:["Now SAT solver decide a variable. It","'","s ",Object(c.jsxs)(ie,{children:[Object(c.jsx)("var",{children:"b1"})," (false)"]})," in this case. This derives ",Object(c.jsxs)(re,{children:[Object(c.jsx)("var",{children:"b2"})," (true)"]}),". Does this decision OK? QFIDL solver will check it."]});case 230:return Object(c.jsxs)(r.Fragment,{children:["It is also safe as there","'","s no negative cycle."]});case 232:return Object(c.jsxs)(r.Fragment,{children:["Thus, SAT solver can choose one more variable. This time, it","'","s ",Object(c.jsxs)(re,{children:[Object(c.jsx)("var",{children:"b3"})," (true)"]}),". This does not derive any more variables. Is it still safe?"]});case 355:return Object(c.jsxs)(r.Fragment,{children:["It turns out yes, and it allows SAT solver to go further. How about ",Object(c.jsxs)(re,{children:[Object(c.jsx)("var",{children:"b8"})," (true)"]}),"?"]});case 486:return Object(c.jsxs)(r.Fragment,{children:["It","'","s still ok\u2026 How about ",Object(c.jsxs)(re,{children:[Object(c.jsx)("var",{children:"b7"})," (true)"]}),"?"]});case 487:return Object(c.jsxs)(r.Fragment,{children:["Let","'","s run QFIDL solver once again\u2026"]});case 620:return Object(c.jsxs)(r.Fragment,{children:["And it has a negative loop! This means our last decision, ",Object(c.jsxs)(re,{children:[Object(c.jsx)("var",{children:"b7"})," (true)"]}),", was not a valid one from the perspective of QFIDL."]});case 621:return Object(c.jsxs)(r.Fragment,{children:["Thus, we go back to previous level, and add a new clause for what we just learned: \xac",Object(c.jsx)("var",{children:"b8"})," \u2228 \xac",Object(c.jsx)("var",{children:"b7"}),"."]});case 622:return Object(c.jsxs)(r.Fragment,{children:["We can derive ",Object(c.jsxs)(ie,{children:[Object(c.jsx)("var",{children:"b7"})," (false)"]}),". But we don","'","t know whether this one is safe or not for sure."]});case 623:return Object(c.jsx)(r.Fragment,{children:"So we run QFIDL solver\u2026"});case 752:return Object(c.jsx)(r.Fragment,{children:"And yes, it is safe!"});case 892:return Object(c.jsxs)(r.Fragment,{children:["SAT decides once more, ",Object(c.jsxs)(ie,{children:[Object(c.jsx)("var",{children:"b5"})," (false)"]}),", which implies ",Object(c.jsxs)(re,{children:[Object(c.jsx)("var",{children:"b6"})," (true)"]}),", and we still don","'","t have any negative cycle."]});case 1202:return Object(c.jsxs)(r.Fragment,{children:["By setting ",Object(c.jsxs)(ie,{children:[Object(c.jsx)("var",{children:"b4"})," (false)"]}),", the decision process over, and we checked there","'","s no negative cycle. This gives us final assignment: ",Object(c.jsx)("var",{children:"x1"})," = 4, ",Object(c.jsx)("var",{children:"x2"})," = 0, ",Object(c.jsx)("var",{children:"x3"})," = 2, ",Object(c.jsx)("var",{children:"x4"})," = 9, ",Object(c.jsx)("var",{children:"x5"})," = 0."]});default:return"NYI..."}}),[s]);return console.log(s),void 0===e?null:Object(c.jsxs)("div",{style:{position:"relative",height:1120},children:[Object(c.jsx)("div",{style:{height:100,boxSizing:"border-box",border:"1px black solid",padding:10,margin:"10px auto"},children:G}),Object(c.jsxs)("div",{style:{position:"absolute",left:"50%",top:120,transform:"translate(-450px, 0)",width:1e3,margin:"0 auto"},children:[Object(c.jsxs)("div",{style:{display:"block",width:500,padding:"3px",border:"solid 1px",borderColor:h.r[7],textAlign:"center"},children:[Object(c.jsxs)("div",{style:{display:"inline-block",verticalAlign:"middle"},children:["<","name",">","@","<","level",">"]}),Object(c.jsxs)("div",{style:{display:"inline-block",verticalAlign:"middle"},children:[Object(c.jsx)("span",{style:{color:h.u[7],margin:"0 1em"},children:"Unassigned"})," ",Object(c.jsx)(re,{style:{margin:"0 1em"},children:"True"})," ",Object(c.jsx)(ie,{style:{margin:"0 1em"},children:"False"}),Object(c.jsx)("br",{}),Object(c.jsx)("svg",{width:"1em",height:"1em",viewBox:"-0.5em -0.5em 1em 1em",style:{marginLeft:"1em"},children:Object(c.jsx)("rect",{width:"1em",height:"1em"})})," : decision variable ",Object(c.jsx)("svg",{width:"1em",height:"1em",viewBox:"-0.5em -0.5em 1em 1em",style:{marginLeft:"1em"},children:Object(c.jsx)("circle",{cx:"0.5em",cy:"0.5em",r:"0.5em"})})," : derived variable"]})]}),Object(c.jsx)("button",{onClick:H,disabled:0===s,children:"Reset"}),Object(c.jsxs)("button",{onClick:V,disabled:0===s,children:["<"," Undo"]}),Object(c.jsxs)("button",{onClick:z,disabled:1202===s,children:["Step ",">"]}),Object(c.jsx)("br",{}),Object(c.jsx)(Z,{width:500,height:400,nodes:u,links:v}),Object(c.jsx)(m,{width:500,height:400,nodes:y,links:F,hideMin:!0}),Object(c.jsx)("br",{}),Object(c.jsx)(R,{width:500,height:600,formula:Q,assignmentAPI:e.assignment,update:L}),Object(c.jsx)("div",{style:{width:462,float:"right"},children:Object(c.jsx)(Y,{width:462,height:600,conversionTable:q,assignmentAPI:e.assignment,update:N})})]})]})},ae=function(){return Object(c.jsxs)("section",{className:"Section Section3",children:[Object(c.jsxs)("h2",{children:["You","'","ve got a plan, a plan to mix them all"]}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"initial",children:"N"}),"ow the question is this: how can we allow QFIDL solver to work with a disjunction of contraints? In other words, how can we combine a SAT solver (boolean solver) and a QFIDL solver into a single solver? There are two simple ways to achieve this integration:"]}),Object(c.jsxs)("ul",{children:[Object(c.jsx)("li",{children:'Pick "true" constraints by SAT solver first, and apply QFIDL solver on those constraints, until QFIDL solver finds a solution or SAT solver exhausts the possibilities'}),Object(c.jsx)("li",{children:"While executing SAT solver, use QFIDL as a conflict-finding algorithm."})]}),Object(c.jsxs)("p",{className:"indent",children:["We will show these two approaches in turn, and describe how they are different with the following ",Object(c.jsx)("a",{href:"https://en.wikipedia.org/wiki/Job-shop_scheduling",children:"job-shop scheduling problem"}),":"]}),Object(c.jsxs)("blockquote",{children:["We have two manufacturing machines ",Object(c.jsx)("var",{children:"A"})," and ",Object(c.jsx)("var",{children:"B"}),", each of which can perform one task at a time.",Object(c.jsx)("br",{}),"Also, there are three people ",Object(c.jsx)("var",{children:"X"}),", ",Object(c.jsx)("var",{children:"Y"})," want to make there products, and each product requires lanes of machines in different orders for different time periods.",Object(c.jsx)("br",{}),Object(c.jsxs)("ul",{children:[Object(c.jsxs)("li",{children:["The product of ",Object(c.jsx)("var",{children:"X"})," requires ",Object(c.jsx)("var",{children:"A"})," for 5 hours, then ",Object(c.jsx)("var",{children:"B"})," for 2 hours."]}),Object(c.jsxs)("li",{children:["The product of ",Object(c.jsx)("var",{children:"Y"})," requires ",Object(c.jsx)("var",{children:"B"})," for 1 hours, then ",Object(c.jsx)("var",{children:"A"})," for 4 hours."]}),Object(c.jsxs)("li",{children:["The product of ",Object(c.jsx)("var",{children:"Z"})," requires ",Object(c.jsx)("var",{children:"A"})," for 4 hours."]})]}),"Is there a time schedule in which all of them get their product within 13 hours?"]}),Object(c.jsx)("p",{children:"We need to encode this into a QFIDL SMT problem first. Since there are 5 required tasks and each needs a variable for the task start time, we will use 5 variables:"}),Object(c.jsxs)("blockquote",{className:"math",children:[Object(c.jsx)("var",{children:"X"}),"'","s ",Object(c.jsx)("var",{children:"A"}),": starts at ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]}),Object(c.jsx)("br",{}),Object(c.jsx)("var",{children:"X"}),"'","s ",Object(c.jsx)("var",{children:"B"}),": starts at ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]}),Object(c.jsx)("br",{}),Object(c.jsx)("var",{children:"Y"}),"'","s ",Object(c.jsx)("var",{children:"B"}),": starts at ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"3"})]}),Object(c.jsx)("br",{}),Object(c.jsx)("var",{children:"Y"}),"'","s ",Object(c.jsx)("var",{children:"A"}),": starts at ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"4"})]}),Object(c.jsx)("br",{}),Object(c.jsx)("var",{children:"Z"}),"'","s ",Object(c.jsx)("var",{children:"A"}),": starts at ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"5"})]})]}),Object(c.jsx)("p",{children:"Each task should start after schedule begins and finish before the deadline."}),Object(c.jsxs)("blockquote",{className:"math",children:[Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," \u2265 0 \u2227 ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," \u2264 ",8,Object(c.jsx)("br",{}),Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," \u2265 0 \u2227 ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," \u2264 ",11,Object(c.jsx)("br",{}),Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"3"})]})," \u2265 0 \u2227 ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"3"})]})," \u2264 ",12,Object(c.jsx)("br",{}),Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"4"})]})," \u2265 0 \u2227 ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"4"})]})," \u2264 ",9,Object(c.jsx)("br",{}),Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"5"})]})," \u2265 0 \u2227 ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"5"})]})," \u2264 ",9]}),Object(c.jsxs)("p",{children:["Now, we need to encode that no machine can execute two task at once. For any task using machine ",Object(c.jsx)("var",{children:"A"}),", no task using ",Object(c.jsx)("var",{children:"A"})," is not overwrapped with the task, and likewise for the tasks using machine ",Object(c.jsx)("var",{children:"B"}),"."]}),Object(c.jsxs)("blockquote",{className:"math",children:[Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"4"})]})," \u2265 4 \u2228 ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"4"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," \u2265 5",Object(c.jsx)("br",{}),Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"4"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"5"})]})," \u2265 4 \u2228 ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"5"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"4"})]})," \u2265 4",Object(c.jsx)("br",{}),Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"5"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," \u2265 5 \u2228 ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"1"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"5"})]})," \u2265 4",Object(c.jsx)("br",{}),Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"3"})]})," \u2265 1 \u2228 ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"3"})]})," - ",Object(c.jsxs)("var",{children:["x",Object(c.jsx)("sub",{children:"2"})]})," \u2265 2"]}),Object(c.jsxs)("p",{children:["We don","'","t need any condition for ",Object(c.jsx)("var",{children:"B"}),", as there are only 2 tasks using ",Object(c.jsx)("var",{children:"B"}),". If we apply the above mentioned transformation to these contraints, we get"]}),Object(c.jsx)("blockquote",{className:"math",children:Object(c.jsx)(W,{})}),Object(c.jsx)("p",{children:"In order to pass this QFIDL/SAT mixture to a SAT solver, we need to hide QFIDL details:"}),Object(c.jsx)(H,{}),Object(c.jsx)("p",{children:"These boolean variables represents single QFIDL constraint. The conversion table is like this (you can click each boolean variable names to check which boolean value is mapped to which QFIDL expression):"}),Object(c.jsx)(U,{}),Object(c.jsxs)("p",{className:"indent",children:["However, as all values for ",Object(c.jsx)("var",{children:"b9"})," to ",Object(c.jsx)("var",{children:"b18"})," are already chosen as ",Object(c.jsx)("var",{children:"c4"})," to ",Object(c.jsx)("var",{children:"c13"})," are all unit clause, we need to deal with only"]}),Object(c.jsx)(J,{}),Object(c.jsxs)("p",{children:["Now, let","'","s solve this problem with each approach!"]}),Object(c.jsxs)("section",{className:"Subsection Subsection3-1",children:[Object(c.jsx)("h3",{children:"Naive approach: one after the other"}),Object(c.jsxs)("p",{children:["Let","'","s first solve SAT problem for the above CNF using SAT solver, and translate the result assignment into QFIDL contraints, and then solve them with QFIDL solver:"]}),Object(c.jsx)(te,{}),Object(c.jsx)("p",{children:"This approach requires two backtrackings. How about the more clever approach?"})]}),Object(c.jsxs)("section",{className:"Subsection Subsection3-1",children:[Object(c.jsx)("h3",{children:"More clever approach: one into the other"}),Object(c.jsxs)("p",{children:["We start with the SAT solver as before. However, after propagating boolean constraints for a single decision level, we immediately executes QFIDL solver with that partial assignment to check whether the decision is acceptable from the QFIDL","'","s viewpoint."]}),Object(c.jsx)(se,{}),Object(c.jsx)("p",{children:"Although this is a small example and it is inaccurate to compare these approaches in this way, but this approach requires only one backtrace. More important point is, each backtrace is more local (since a conflict is at the same decision level) and thus less expensive in terms of backtracking cost."})]})]})},ce=function(){return Object(c.jsxs)("section",{className:"Section Section4",children:[Object(c.jsx)("h2",{children:"To the Infinity, and Beyond!"}),Object(c.jsxs)("p",{children:[Object(c.jsx)("span",{className:"initial",children:"I"}),"n this article we demonstrated a SMT solver with a simple theory solver (QFIDL solver), and described how it works. However, there","'","s infinite possibilities to explore, research, and improve. There are many other complex yet interesting solvers out there, including Non-linear Integer Arithmetic (NIA) which is even undecidable",Object(c.jsx)("a",{className:"footnote",href:"#ref-4",children:"4"}),". Integration of multiple theory solvers into a single solver is also an interesting topic, and SMT","'","s applications including formal verification keep expanding. It is now your choice to go beyond the infinity."]})]})},oe=function(){return Object(c.jsxs)("section",{className:"Section References",children:[Object(c.jsx)("h2",{children:"References"}),Object(c.jsxs)("ol",{children:[Object(c.jsxs)("li",{id:"ref-1",children:["Martin Davis, George Logemann, and Donald Loveland. 1962. A machine program for theorem-proving. Commun. ACM 5, 7 (July 1962), 394\u2013397. ",Object(c.jsx)("a",{href:"https://doi.org/10.1145/368273.368557",children:"doi:10.1145/368273.368557"}),". ",Object(c.jsx)("a",{href:"https://hdl.handle.net/2027%2Fmdp.39015095248095",children:"hdl:2027/mdp.39015095248095"}),"."]}),Object(c.jsxs)("li",{id:"ref-2",children:["Matthew W. Moskewicz, Conor F. Madigan, Ying Zhao, Lintao Zhang, and Sharad Malik. 2001. Chaff: engineering an efficient SAT solver. In ",Object(c.jsx)("i",{children:"Proceedings of the 38th annual Design Automation Conference"})," (",Object(c.jsxs)("i",{children:["DAC ","'","01"]}),"). Association for Computing Machinery, New York, NY, USA, 530\u2013535. ",Object(c.jsx)("a",{href:"https://doi.org/10.1145/378239.379017",children:"doi:10.1145/378239.379017"})]}),Object(c.jsxs)("li",{id:"ref-3",children:["Jo\xe3o P. Marques Silva and Karem A. Sakallah. 1997. GRASP\u2014a new search algorithm for satisfiability. In Proceedings of the 1996 IEEE/ACM international conference on Computer-aided design (ICCAD ","'","96). IEEE Computer Society, USA, 220\u2013227."]}),Object(c.jsx)("li",{id:"ref-4",children:"G\xf6del, K., 1992. On formally undecidable propositions of Principia Mathematica and related systems. Courier Corporation."})]})]})},le=(n(166),function(){return Object(c.jsxs)("article",{className:"App",lang:"en",children:[Object(c.jsxs)("header",{children:[Object(c.jsx)("h1",{children:"Boolean meets Theories: SMT Solvers"}),Object(c.jsx)("h3",{style:{marginTop:0,marginBottom:0,textAlign:"right"},children:'Junyoung "Clare" Jang'}),Object(c.jsx)("h4",{style:{marginTop:0,textAlign:"right"},children:"2021/11/15"})]}),Object(c.jsx)("hr",{}),Object(c.jsxs)("body",{children:[Object(c.jsx)(o,{}),Object(c.jsx)("hr",{}),Object(c.jsx)(q,{}),Object(c.jsx)("hr",{}),Object(c.jsx)(ae,{}),Object(c.jsx)("hr",{}),Object(c.jsx)(ce,{})]}),Object(c.jsx)("hr",{}),Object(c.jsx)("footer",{children:Object(c.jsx)(oe,{})})]})}),de=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,168)).then((function(t){var n=t.getCLS,r=t.getFID,i=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),r(e),i(e),s(e),a(e)}))};a.a.render(Object(c.jsx)(i.a.StrictMode,{children:Object(c.jsx)(le,{})}),document.getElementById("root")),de()}},[[167,1,2]]]);
//# sourceMappingURL=main.22ddb32b.chunk.js.map